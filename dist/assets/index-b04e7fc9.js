function ub(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var db={exports:{}},zu={},fb={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),zP=Symbol.for("react.portal"),WP=Symbol.for("react.fragment"),HP=Symbol.for("react.strict_mode"),qP=Symbol.for("react.profiler"),GP=Symbol.for("react.provider"),KP=Symbol.for("react.context"),YP=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),QP=Symbol.for("react.memo"),JP=Symbol.for("react.lazy"),Xv=Symbol.iterator;function ZP(e){return e===null||typeof e!="object"?null:(e=Xv&&e[Xv]||e["@@iterator"],typeof e=="function"?e:null)}var hb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mb=Object.assign,pb={};function yo(e,t,r){this.props=e,this.context=t,this.refs=pb,this.updater=r||hb}yo.prototype.isReactComponent={};yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gb(){}gb.prototype=yo.prototype;function fp(e,t,r){this.props=e,this.context=t,this.refs=pb,this.updater=r||hb}var hp=fp.prototype=new gb;hp.constructor=fp;mb(hp,yo.prototype);hp.isPureReactComponent=!0;var Qv=Array.isArray,vb=Object.prototype.hasOwnProperty,mp={current:null},yb={key:!0,ref:!0,__self:!0,__source:!0};function xb(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)vb.call(t,n)&&!yb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:il,type:e,key:i,ref:o,props:s,_owner:mp.current}}function eT(e,t){return{$$typeof:il,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pp(e){return typeof e=="object"&&e!==null&&e.$$typeof===il}function tT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jv=/\/+/g;function tf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tT(""+e.key):t.toString(36)}function vc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case il:case zP:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+tf(o,0):n,Qv(s)?(r="",e!=null&&(r=e.replace(Jv,"$&/")+"/"),vc(s,t,r,"",function(u){return u})):s!=null&&(pp(s)&&(s=eT(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Qv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+tf(i,l);o+=vc(i,t,r,c,s)}else if(c=ZP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+tf(i,l++),o+=vc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Rl(e,t,r){if(e==null)return e;var n=[],s=0;return vc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function rT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},yc={transition:null},nT={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:mp};function wb(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Rl,forEach:function(e,t,r){Rl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rl(e,function(){t++}),t},toArray:function(e){return Rl(e,function(t){return t})||[]},only:function(e){if(!pp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=yo;ve.Fragment=WP;ve.Profiler=qP;ve.PureComponent=fp;ve.StrictMode=HP;ve.Suspense=XP;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nT;ve.act=wb;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mb({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vb.call(t,c)&&!yb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:il,type:e.type,key:s,ref:i,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:KP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GP,_context:e},e.Consumer=e};ve.createElement=xb;ve.createFactory=function(e){var t=xb.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:YP,render:e}};ve.isValidElement=pp;ve.lazy=function(e){return{$$typeof:JP,_payload:{_status:-1,_result:e},_init:rT}};ve.memo=function(e,t){return{$$typeof:QP,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=yc.transition;yc.transition={};try{e()}finally{yc.transition=t}};ve.unstable_act=wb;ve.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ve.useContext=function(e){return Rt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ve.useId=function(){return Rt.current.useId()};ve.useImperativeHandle=function(e,t,r){return Rt.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return Rt.current.useReducer(e,t,r)};ve.useRef=function(e){return Rt.current.useRef(e)};ve.useState=function(e){return Rt.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return Rt.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return Rt.current.useTransition()};ve.version="18.3.1";fb.exports=ve;var m=fb.exports;const Z=li(m),gp=ub({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=m,iT=Symbol.for("react.element"),oT=Symbol.for("react.fragment"),aT=Object.prototype.hasOwnProperty,lT=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cT={key:!0,ref:!0,__self:!0,__source:!0};function bb(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)aT.call(t,n)&&!cT.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:iT,type:e,key:i,ref:o,props:s,_owner:lT.current}}zu.Fragment=oT;zu.jsx=bb;zu.jsxs=bb;db.exports=zu;var a=db.exports,fh={},jb={exports:{}},rr={},Sb={exports:{}},_b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var D=C.length;C.push(A);e:for(;0<D;){var H=D-1>>>1,ne=C[H];if(0<s(ne,A))C[H]=A,C[D]=ne,D=H;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var A=C[0],D=C.pop();if(D!==A){C[0]=D;e:for(var H=0,ne=C.length,q=ne>>>1;H<q;){var ee=2*(H+1)-1,Se=C[ee],_e=ee+1,se=C[_e];if(0>s(Se,D))_e<ne&&0>s(se,Se)?(C[H]=se,C[_e]=D,H=_e):(C[H]=Se,C[ee]=D,H=ee);else if(_e<ne&&0>s(se,D))C[H]=se,C[_e]=D,H=_e;else break e}}return A}function s(C,A){var D=C.sortIndex-A.sortIndex;return D!==0?D:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=C)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(C){if(v=!1,x(C),!w)if(r(c)!==null)w=!0,_(S);else{var A=r(u);A!==null&&R(j,A.startTime-C)}}function S(C,A){w=!1,v&&(v=!1,y(N),N=-1),p=!0;var D=h;try{for(x(A),f=r(c);f!==null&&(!(f.expirationTime>A)||C&&!V());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var ne=H(f.expirationTime<=A);A=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===r(c)&&n(c),x(A)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var ee=r(u);ee!==null&&R(j,ee.startTime-A),q=!1}return q}finally{f=null,h=D,p=!1}}var P=!1,k=null,N=-1,F=5,O=-1;function V(){return!(e.unstable_now()-O<F)}function I(){if(k!==null){var C=e.unstable_now();O=C;var A=!0;try{A=k(!0,C)}finally{A?W():(P=!1,k=null)}}else P=!1}var W;if(typeof g=="function")W=function(){g(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,E=$.port2;$.port1.onmessage=I,W=function(){E.postMessage(null)}}else W=function(){b(I,0)};function _(C){k=C,P||(P=!0,W())}function R(C,A){N=b(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,_(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var D=h;h=A;try{return C()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return A()}finally{h=D}},e.unstable_scheduleCallback=function(C,A,D){var H=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,C){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=D+ne,C={id:d++,callback:A,priorityLevel:C,startTime:D,expirationTime:ne,sortIndex:-1},D>H?(C.sortIndex=D,t(u,C),r(c)===null&&C===r(u)&&(v?(y(N),N=-1):v=!0,R(j,D-H))):(C.sortIndex=ne,t(c,C),w||p||(w=!0,_(S))),C},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(C){var A=h;return function(){var D=h;h=A;try{return C.apply(this,arguments)}finally{h=D}}}})(_b);Sb.exports=_b;var uT=Sb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=m,Jt=uT;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cb=new Set,_a={};function ci(e,t){ro(e,t),ro(e+"Capture",t)}function ro(e,t){for(_a[e]=t,e=0;e<t.length;e++)Cb.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hh=Object.prototype.hasOwnProperty,fT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zv={},ey={};function hT(e){return hh.call(ey,e)?!0:hh.call(Zv,e)?!1:fT.test(e)?ey[e]=!0:(Zv[e]=!0,!1)}function mT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pT(e,t,r,n){if(t===null||typeof t>"u"||mT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vp,yp);vt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vp,yp);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vp,yp);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function xp(e,t,r,n){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pT(t,r,s,n)&&(r=null),n||s===null?hT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var An=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),Eb=Symbol.for("react.provider"),Nb=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),kb=Symbol.for("react.offscreen"),ty=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=ty&&e[ty]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,rf;function Qo(e){if(rf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rf=t&&t[1]||""}return`
`+rf+e}var nf=!1;function sf(e,t){if(!e||nf)return"";nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qo(e):""}function gT(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=sf(e.type,!1),e;case 11:return e=sf(e.type.render,!1),e;case 1:return e=sf(e.type,!0),e;default:return""}}function vh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case ki:return"Portal";case mh:return"Profiler";case wp:return"StrictMode";case ph:return"Suspense";case gh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nb:return(e.displayName||"Context")+".Consumer";case Eb:return(e._context.displayName||"Context")+".Provider";case bp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jp:return t=e.displayName||null,t!==null?t:vh(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return vh(e(t))}catch{}}return null}function vT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vh(t);case 8:return t===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yT(e){var t=Pb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ml(e){e._valueTracker||(e._valueTracker=yT(e))}function Tb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yh(e,t){var r=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ry(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=fs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ab(e,t){t=t.checked,t!=null&&xp(e,"checked",t,!1)}function xh(e,t){Ab(e,t);var r=fs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wh(e,t.type,r):t.hasOwnProperty("defaultValue")&&wh(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ny(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wh(e,t,r){(t!=="number"||Lc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jo=Array.isArray;function Wi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+fs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Jo(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fs(r)}}function Rb(e,t){var r=fs(t.value),n=fs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ob(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ob(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dl,Mb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ca(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xT=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(e){xT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ia[t]=ia[e]})});function Db(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ia.hasOwnProperty(e)&&ia[e]?(""+t).trim():t+"px"}function Ib(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Db(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var wT=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(e,t){if(t){if(wT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function _h(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=null;function Sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eh=null,Hi=null,qi=null;function oy(e){if(e=ll(e)){if(typeof Eh!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Ku(t),Eh(e.stateNode,e.type,t))}}function Lb(e){Hi?qi?qi.push(e):qi=[e]:Hi=e}function Fb(){if(Hi){var e=Hi,t=qi;if(qi=Hi=null,oy(e),t)for(e=0;e<t.length;e++)oy(t[e])}}function $b(e,t){return e(t)}function Vb(){}var of=!1;function Ub(e,t,r){if(of)return e(t,r);of=!0;try{return $b(e,t,r)}finally{of=!1,(Hi!==null||qi!==null)&&(Vb(),Fb())}}function Ea(e,t){var r=e.stateNode;if(r===null)return null;var n=Ku(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Nh=!1;if(jn)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Nh=!1}function bT(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var oa=!1,Fc=null,$c=!1,kh=null,jT={onError:function(e){oa=!0,Fc=e}};function ST(e,t,r,n,s,i,o,l,c){oa=!1,Fc=null,bT.apply(jT,arguments)}function _T(e,t,r,n,s,i,o,l,c){if(ST.apply(this,arguments),oa){if(oa){var u=Fc;oa=!1,Fc=null}else throw Error(G(198));$c||($c=!0,kh=u)}}function ui(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ay(e){if(ui(e)!==e)throw Error(G(188))}function CT(e){var t=e.alternate;if(!t){if(t=ui(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ay(s),e;if(i===n)return ay(s),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function zb(e){return e=CT(e),e!==null?Wb(e):null}function Wb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wb(e);if(t!==null)return t;e=e.sibling}return null}var Hb=Jt.unstable_scheduleCallback,ly=Jt.unstable_cancelCallback,ET=Jt.unstable_shouldYield,NT=Jt.unstable_requestPaint,Je=Jt.unstable_now,kT=Jt.unstable_getCurrentPriorityLevel,_p=Jt.unstable_ImmediatePriority,qb=Jt.unstable_UserBlockingPriority,Vc=Jt.unstable_NormalPriority,PT=Jt.unstable_LowPriority,Gb=Jt.unstable_IdlePriority,Wu=null,Qr=null;function TT(e){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:OT,AT=Math.log,RT=Math.LN2;function OT(e){return e>>>=0,e===0?32:31-(AT(e)/RT|0)|0}var Il=64,Ll=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Zo(l):(i&=o,i!==0&&(n=Zo(i)))}else o=r&~s,o!==0?n=Zo(o):i!==0&&(n=Zo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Or(t),s=1<<r,n|=e[r],t&=~s;return n}function MT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Or(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=MT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ph(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kb(){var e=Il;return Il<<=1,!(Il&4194240)&&(Il=64),e}function af(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ol(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Or(t),e[t]=r}function IT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Or(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Cp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Or(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ae=0;function Yb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xb,Ep,Qb,Jb,Zb,Th=!1,Fl=[],Zn=null,es=null,ts=null,Na=new Map,ka=new Map,Hn=[],LT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cy(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(t.pointerId)}}function Mo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ll(t),t!==null&&Ep(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FT(e,t,r,n,s){switch(t){case"focusin":return Zn=Mo(Zn,e,t,r,n,s),!0;case"dragenter":return es=Mo(es,e,t,r,n,s),!0;case"mouseover":return ts=Mo(ts,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Na.set(i,Mo(Na.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ka.set(i,Mo(ka.get(i)||null,e,t,r,n,s)),!0}return!1}function ej(e){var t=Fs(e.target);if(t!==null){var r=ui(t);if(r!==null){if(t=r.tag,t===13){if(t=Bb(r),t!==null){e.blockedOn=t,Zb(e.priority,function(){Qb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ah(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ch=n,r.target.dispatchEvent(n),Ch=null}else return t=ll(r),t!==null&&Ep(t),e.blockedOn=r,!1;t.shift()}return!0}function uy(e,t,r){xc(e)&&r.delete(t)}function $T(){Th=!1,Zn!==null&&xc(Zn)&&(Zn=null),es!==null&&xc(es)&&(es=null),ts!==null&&xc(ts)&&(ts=null),Na.forEach(uy),ka.forEach(uy)}function Do(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,$T)))}function Pa(e){function t(s){return Do(s,e)}if(0<Fl.length){Do(Fl[0],e);for(var r=1;r<Fl.length;r++){var n=Fl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zn!==null&&Do(Zn,e),es!==null&&Do(es,e),ts!==null&&Do(ts,e),Na.forEach(t),ka.forEach(t),r=0;r<Hn.length;r++)n=Hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hn.length&&(r=Hn[0],r.blockedOn===null);)ej(r),r.blockedOn===null&&Hn.shift()}var Gi=An.ReactCurrentBatchConfig,Bc=!0;function VT(e,t,r,n){var s=Ae,i=Gi.transition;Gi.transition=null;try{Ae=1,Np(e,t,r,n)}finally{Ae=s,Gi.transition=i}}function UT(e,t,r,n){var s=Ae,i=Gi.transition;Gi.transition=null;try{Ae=4,Np(e,t,r,n)}finally{Ae=s,Gi.transition=i}}function Np(e,t,r,n){if(Bc){var s=Ah(e,t,r,n);if(s===null)vf(e,t,n,zc,r),cy(e,n);else if(FT(s,e,t,r,n))n.stopPropagation();else if(cy(e,n),t&4&&-1<LT.indexOf(e)){for(;s!==null;){var i=ll(s);if(i!==null&&Xb(i),i=Ah(e,t,r,n),i===null&&vf(e,t,n,zc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vf(e,t,n,null,r)}}var zc=null;function Ah(e,t,r,n){if(zc=null,e=Sp(n),e=Fs(e),e!==null)if(t=ui(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zc=e,null}function tj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kT()){case _p:return 1;case qb:return 4;case Vc:case PT:return 16;case Gb:return 536870912;default:return 16}default:return 16}}var Xn=null,kp=null,wc=null;function rj(){if(wc)return wc;var e,t=kp,r=t.length,n,s="value"in Xn?Xn.value:Xn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return wc=s.slice(e,1<n?1-n:void 0)}function bc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function dy(){return!1}function nr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$l:dy,this.isPropagationStopped=dy,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=nr(xo),al=Ke({},xo,{view:0,detail:0}),BT=nr(al),lf,cf,Io,Hu=Ke({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Io&&(Io&&e.type==="mousemove"?(lf=e.screenX-Io.screenX,cf=e.screenY-Io.screenY):cf=lf=0,Io=e),lf)},movementY:function(e){return"movementY"in e?e.movementY:cf}}),fy=nr(Hu),zT=Ke({},Hu,{dataTransfer:0}),WT=nr(zT),HT=Ke({},al,{relatedTarget:0}),uf=nr(HT),qT=Ke({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),GT=nr(qT),KT=Ke({},xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YT=nr(KT),XT=Ke({},xo,{data:0}),hy=nr(XT),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZT[e])?!!t[e]:!1}function Tp(){return eA}var tA=Ke({},al,{key:function(e){if(e.key){var t=QT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tp,charCode:function(e){return e.type==="keypress"?bc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rA=nr(tA),nA=Ke({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=nr(nA),sA=Ke({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tp}),iA=nr(sA),oA=Ke({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),aA=nr(oA),lA=Ke({},Hu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cA=nr(lA),uA=[9,13,27,32],Ap=jn&&"CompositionEvent"in window,aa=null;jn&&"documentMode"in document&&(aa=document.documentMode);var dA=jn&&"TextEvent"in window&&!aa,nj=jn&&(!Ap||aa&&8<aa&&11>=aa),py=String.fromCharCode(32),gy=!1;function sj(e,t){switch(e){case"keyup":return uA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ij(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function fA(e,t){switch(e){case"compositionend":return ij(t);case"keypress":return t.which!==32?null:(gy=!0,py);case"textInput":return e=t.data,e===py&&gy?null:e;default:return null}}function hA(e,t){if(Ti)return e==="compositionend"||!Ap&&sj(e,t)?(e=rj(),wc=kp=Xn=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nj&&t.locale!=="ko"?null:t.data;default:return null}}var mA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mA[e.type]:t==="textarea"}function oj(e,t,r,n){Lb(n),t=Wc(t,"onChange"),0<t.length&&(r=new Pp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var la=null,Ta=null;function pA(e){vj(e,0)}function qu(e){var t=Oi(e);if(Tb(t))return e}function gA(e,t){if(e==="change")return t}var aj=!1;if(jn){var df;if(jn){var ff="oninput"in document;if(!ff){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),ff=typeof yy.oninput=="function"}df=ff}else df=!1;aj=df&&(!document.documentMode||9<document.documentMode)}function xy(){la&&(la.detachEvent("onpropertychange",lj),Ta=la=null)}function lj(e){if(e.propertyName==="value"&&qu(Ta)){var t=[];oj(t,Ta,e,Sp(e)),Ub(pA,t)}}function vA(e,t,r){e==="focusin"?(xy(),la=t,Ta=r,la.attachEvent("onpropertychange",lj)):e==="focusout"&&xy()}function yA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(Ta)}function xA(e,t){if(e==="click")return qu(t)}function wA(e,t){if(e==="input"||e==="change")return qu(t)}function bA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ir=typeof Object.is=="function"?Object.is:bA;function Aa(e,t){if(Ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hh.call(t,s)||!Ir(e[s],t[s]))return!1}return!0}function wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,t){var r=wy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wy(r)}}function cj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uj(){for(var e=window,t=Lc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lc(e.document)}return t}function Rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jA(e){var t=uj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cj(r.ownerDocument.documentElement,r)){if(n!==null&&Rp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=by(r,i);var o=by(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SA=jn&&"documentMode"in document&&11>=document.documentMode,Ai=null,Rh=null,ca=null,Oh=!1;function jy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oh||Ai==null||Ai!==Lc(n)||(n=Ai,"selectionStart"in n&&Rp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ca&&Aa(ca,n)||(ca=n,n=Wc(Rh,"onSelect"),0<n.length&&(t=new Pp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ai)))}function Vl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ri={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},hf={},dj={};jn&&(dj=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Gu(e){if(hf[e])return hf[e];if(!Ri[e])return e;var t=Ri[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dj)return hf[e]=t[r];return e}var fj=Gu("animationend"),hj=Gu("animationiteration"),mj=Gu("animationstart"),pj=Gu("transitionend"),gj=new Map,Sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(e,t){gj.set(e,t),ci(t,[e])}for(var mf=0;mf<Sy.length;mf++){var pf=Sy[mf],_A=pf.toLowerCase(),CA=pf[0].toUpperCase()+pf.slice(1);ws(_A,"on"+CA)}ws(fj,"onAnimationEnd");ws(hj,"onAnimationIteration");ws(mj,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws(pj,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function _y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_T(n,t,void 0,e),e.currentTarget=null}function vj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;_y(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;_y(s,l,u),i=c}}}if($c)throw e=kh,$c=!1,kh=null,e}function Le(e,t){var r=t[Fh];r===void 0&&(r=t[Fh]=new Set);var n=e+"__bubble";r.has(n)||(yj(t,e,2,!1),r.add(n))}function gf(e,t,r){var n=0;t&&(n|=4),yj(r,e,n,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Ra(e){if(!e[Ul]){e[Ul]=!0,Cb.forEach(function(r){r!=="selectionchange"&&(EA.has(r)||gf(r,!1,e),gf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,gf("selectionchange",!1,t))}}function yj(e,t,r,n){switch(tj(t)){case 1:var s=VT;break;case 4:s=UT;break;default:s=Np}r=s.bind(null,t,r,e),s=void 0,!Nh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function vf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Fs(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ub(function(){var u=i,d=Sp(r),f=[];e:{var h=gj.get(e);if(h!==void 0){var p=Pp,w=e;switch(e){case"keypress":if(bc(r)===0)break e;case"keydown":case"keyup":p=rA;break;case"focusin":w="focus",p=uf;break;case"focusout":w="blur",p=uf;break;case"beforeblur":case"afterblur":p=uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iA;break;case fj:case hj:case mj:p=GT;break;case pj:p=aA;break;case"scroll":p=BT;break;case"wheel":p=cA;break;case"copy":case"cut":case"paste":p=YT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=my}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,y!==null&&(j=Ea(g,y),j!=null&&v.push(Oa(g,j,x)))),b)break;g=g.return}0<v.length&&(h=new p(h,w,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Ch&&(w=r.relatedTarget||r.fromElement)&&(Fs(w)||w[Sn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?Fs(w):null,w!==null&&(b=ui(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=fy,j="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=my,j="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:Oi(p),x=w==null?h:Oi(w),h=new v(j,g+"leave",p,r,d),h.target=b,h.relatedTarget=x,j=null,Fs(d)===u&&(v=new v(y,g+"enter",w,r,d),v.target=x,v.relatedTarget=b,j=v),b=j,p&&w)t:{for(v=p,y=w,g=0,x=v;x;x=yi(x))g++;for(x=0,j=y;j;j=yi(j))x++;for(;0<g-x;)v=yi(v),g--;for(;0<x-g;)y=yi(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=yi(v),y=yi(y)}v=null}else v=null;p!==null&&Cy(f,h,p,v,!1),w!==null&&b!==null&&Cy(f,b,w,v,!0)}}e:{if(h=u?Oi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=gA;else if(vy(h))if(aj)S=wA;else{S=yA;var P=vA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=xA);if(S&&(S=S(e,u))){oj(f,S,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&wh(h,"number",h.value)}switch(P=u?Oi(u):window,e){case"focusin":(vy(P)||P.contentEditable==="true")&&(Ai=P,Rh=u,ca=null);break;case"focusout":ca=Rh=Ai=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,jy(f,r,d);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":jy(f,r,d)}var k;if(Ap)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ti?sj(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(nj&&r.locale!=="ko"&&(Ti||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ti&&(k=rj()):(Xn=d,kp="value"in Xn?Xn.value:Xn.textContent,Ti=!0)),P=Wc(u,N),0<P.length&&(N=new hy(N,e,null,r,d),f.push({event:N,listeners:P}),k?N.data=k:(k=ij(r),k!==null&&(N.data=k)))),(k=dA?fA(e,r):hA(e,r))&&(u=Wc(u,"onBeforeInput"),0<u.length&&(d=new hy("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}vj(f,t)})}function Oa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ea(e,r),i!=null&&n.unshift(Oa(e,i,s)),i=Ea(e,t),i!=null&&n.push(Oa(e,i,s))),e=e.return}return n}function yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ea(r,i),c!=null&&o.unshift(Oa(r,c,l))):s||(c=Ea(r,i),c!=null&&o.push(Oa(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var NA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(NA,`
`).replace(kA,"")}function Bl(e,t,r){if(t=Ey(t),Ey(e)!==t&&r)throw Error(G(425))}function Hc(){}var Mh=null,Dh=null;function Ih(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lh=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(AA)}:Lh;function AA(e){setTimeout(function(){throw e})}function yf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pa(t)}function rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Hr="__reactFiber$"+wo,Ma="__reactProps$"+wo,Sn="__reactContainer$"+wo,Fh="__reactEvents$"+wo,RA="__reactListeners$"+wo,OA="__reactHandles$"+wo;function Fs(e){var t=e[Hr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Hr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ky(e);e!==null;){if(r=e[Hr])return r;e=ky(e)}return t}e=r,r=e.parentNode}return null}function ll(e){return e=e[Hr]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Ku(e){return e[Ma]||null}var $h=[],Mi=-1;function bs(e){return{current:e}}function Fe(e){0>Mi||(e.current=$h[Mi],$h[Mi]=null,Mi--)}function De(e,t){Mi++,$h[Mi]=e.current,e.current=t}var hs={},St=bs(hs),Bt=bs(!1),Ks=hs;function no(e,t){var r=e.type.contextTypes;if(!r)return hs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function zt(e){return e=e.childContextTypes,e!=null}function qc(){Fe(Bt),Fe(St)}function Py(e,t,r){if(St.current!==hs)throw Error(G(168));De(St,t),De(Bt,r)}function xj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,vT(e)||"Unknown",s));return Ke({},r,n)}function Gc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,Ks=St.current,De(St,e),De(Bt,Bt.current),!0}function Ty(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=xj(e,t,Ks),n.__reactInternalMemoizedMergedChildContext=e,Fe(Bt),Fe(St),De(St,e)):Fe(Bt),De(Bt,r)}var pn=null,Yu=!1,xf=!1;function wj(e){pn===null?pn=[e]:pn.push(e)}function MA(e){Yu=!0,wj(e)}function js(){if(!xf&&pn!==null){xf=!0;var e=0,t=Ae;try{var r=pn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pn=null,Yu=!1}catch(s){throw pn!==null&&(pn=pn.slice(e+1)),Hb(_p,js),s}finally{Ae=t,xf=!1}}return null}var Di=[],Ii=0,Kc=null,Yc=0,lr=[],cr=0,Ys=null,gn=1,vn="";function Ts(e,t){Di[Ii++]=Yc,Di[Ii++]=Kc,Kc=e,Yc=t}function bj(e,t,r){lr[cr++]=gn,lr[cr++]=vn,lr[cr++]=Ys,Ys=e;var n=gn;e=vn;var s=32-Or(n)-1;n&=~(1<<s),r+=1;var i=32-Or(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gn=1<<32-Or(t)+s|r<<s|n,vn=i+e}else gn=1<<i|r<<s|n,vn=e}function Op(e){e.return!==null&&(Ts(e,1),bj(e,1,0))}function Mp(e){for(;e===Kc;)Kc=Di[--Ii],Di[Ii]=null,Yc=Di[--Ii],Di[Ii]=null;for(;e===Ys;)Ys=lr[--cr],lr[cr]=null,vn=lr[--cr],lr[cr]=null,gn=lr[--cr],lr[cr]=null}var Xt=null,Yt=null,ze=!1,Sr=null;function jj(e,t){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ay(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ys!==null?{id:gn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Yt=null,!0):!1;default:return!1}}function Vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uh(e){if(ze){var t=Yt;if(t){var r=t;if(!Ay(e,t)){if(Vh(e))throw Error(G(418));t=rs(r.nextSibling);var n=Xt;t&&Ay(e,t)?jj(n,r):(e.flags=e.flags&-4097|2,ze=!1,Xt=e)}}else{if(Vh(e))throw Error(G(418));e.flags=e.flags&-4097|2,ze=!1,Xt=e}}}function Ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function zl(e){if(e!==Xt)return!1;if(!ze)return Ry(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ih(e.type,e.memoizedProps)),t&&(t=Yt)){if(Vh(e))throw Sj(),Error(G(418));for(;t;)jj(e,t),t=rs(t.nextSibling)}if(Ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=rs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Xt?rs(e.stateNode.nextSibling):null;return!0}function Sj(){for(var e=Yt;e;)e=rs(e.nextSibling)}function so(){Yt=Xt=null,ze=!1}function Dp(e){Sr===null?Sr=[e]:Sr.push(e)}var DA=An.ReactCurrentBatchConfig;function Lo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Wl(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oy(e){var t=e._init;return t(e._payload)}function _j(e){function t(y,g){if(e){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=os(y,g),y.index=0,y.sibling=null,y}function i(y,g,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,x,j){return g===null||g.tag!==6?(g=Ef(x,y.mode,j),g.return=y,g):(g=s(g,x),g.return=y,g)}function c(y,g,x,j){var S=x.type;return S===Pi?d(y,g,x.props.children,j,x.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bn&&Oy(S)===g.type)?(j=s(g,x.props),j.ref=Lo(y,g,x),j.return=y,j):(j=kc(x.type,x.key,x.props,null,y.mode,j),j.ref=Lo(y,g,x),j.return=y,j)}function u(y,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Nf(x,y.mode,j),g.return=y,g):(g=s(g,x.children||[]),g.return=y,g)}function d(y,g,x,j,S){return g===null||g.tag!==7?(g=qs(x,y.mode,j,S),g.return=y,g):(g=s(g,x),g.return=y,g)}function f(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ef(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ol:return x=kc(g.type,g.key,g.props,null,y.mode,x),x.ref=Lo(y,null,g),x.return=y,x;case ki:return g=Nf(g,y.mode,x),g.return=y,g;case Bn:var j=g._init;return f(y,j(g._payload),x)}if(Jo(g)||Ro(g))return g=qs(g,y.mode,x,null),g.return=y,g;Wl(y,g)}return null}function h(y,g,x,j){var S=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(y,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ol:return x.key===S?c(y,g,x,j):null;case ki:return x.key===S?u(y,g,x,j):null;case Bn:return S=x._init,h(y,g,S(x._payload),j)}if(Jo(x)||Ro(x))return S!==null?null:d(y,g,x,j,null);Wl(y,x)}return null}function p(y,g,x,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(x)||null,l(g,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ol:return y=y.get(j.key===null?x:j.key)||null,c(g,y,j,S);case ki:return y=y.get(j.key===null?x:j.key)||null,u(g,y,j,S);case Bn:var P=j._init;return p(y,g,x,P(j._payload),S)}if(Jo(j)||Ro(j))return y=y.get(x)||null,d(g,y,j,S,null);Wl(g,j)}return null}function w(y,g,x,j){for(var S=null,P=null,k=g,N=g=0,F=null;k!==null&&N<x.length;N++){k.index>N?(F=k,k=null):F=k.sibling;var O=h(y,k,x[N],j);if(O===null){k===null&&(k=F);break}e&&k&&O.alternate===null&&t(y,k),g=i(O,g,N),P===null?S=O:P.sibling=O,P=O,k=F}if(N===x.length)return r(y,k),ze&&Ts(y,N),S;if(k===null){for(;N<x.length;N++)k=f(y,x[N],j),k!==null&&(g=i(k,g,N),P===null?S=k:P.sibling=k,P=k);return ze&&Ts(y,N),S}for(k=n(y,k);N<x.length;N++)F=p(k,y,N,x[N],j),F!==null&&(e&&F.alternate!==null&&k.delete(F.key===null?N:F.key),g=i(F,g,N),P===null?S=F:P.sibling=F,P=F);return e&&k.forEach(function(V){return t(y,V)}),ze&&Ts(y,N),S}function v(y,g,x,j){var S=Ro(x);if(typeof S!="function")throw Error(G(150));if(x=S.call(x),x==null)throw Error(G(151));for(var P=S=null,k=g,N=g=0,F=null,O=x.next();k!==null&&!O.done;N++,O=x.next()){k.index>N?(F=k,k=null):F=k.sibling;var V=h(y,k,O.value,j);if(V===null){k===null&&(k=F);break}e&&k&&V.alternate===null&&t(y,k),g=i(V,g,N),P===null?S=V:P.sibling=V,P=V,k=F}if(O.done)return r(y,k),ze&&Ts(y,N),S;if(k===null){for(;!O.done;N++,O=x.next())O=f(y,O.value,j),O!==null&&(g=i(O,g,N),P===null?S=O:P.sibling=O,P=O);return ze&&Ts(y,N),S}for(k=n(y,k);!O.done;N++,O=x.next())O=p(k,y,N,O.value,j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?N:O.key),g=i(O,g,N),P===null?S=O:P.sibling=O,P=O);return e&&k.forEach(function(I){return t(y,I)}),ze&&Ts(y,N),S}function b(y,g,x,j){if(typeof x=="object"&&x!==null&&x.type===Pi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ol:e:{for(var S=x.key,P=g;P!==null;){if(P.key===S){if(S=x.type,S===Pi){if(P.tag===7){r(y,P.sibling),g=s(P,x.props.children),g.return=y,y=g;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bn&&Oy(S)===P.type){r(y,P.sibling),g=s(P,x.props),g.ref=Lo(y,P,x),g.return=y,y=g;break e}r(y,P);break}else t(y,P);P=P.sibling}x.type===Pi?(g=qs(x.props.children,y.mode,j,x.key),g.return=y,y=g):(j=kc(x.type,x.key,x.props,null,y.mode,j),j.ref=Lo(y,g,x),j.return=y,y=j)}return o(y);case ki:e:{for(P=x.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=s(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Nf(x,y.mode,j),g.return=y,y=g}return o(y);case Bn:return P=x._init,b(y,g,P(x._payload),j)}if(Jo(x))return w(y,g,x,j);if(Ro(x))return v(y,g,x,j);Wl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,x),g.return=y,y=g):(r(y,g),g=Ef(x,y.mode,j),g.return=y,y=g),o(y)):r(y,g)}return b}var io=_j(!0),Cj=_j(!1),Xc=bs(null),Qc=null,Li=null,Ip=null;function Lp(){Ip=Li=Qc=null}function Fp(e){var t=Xc.current;Fe(Xc),e._currentValue=t}function Bh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ki(e,t){Qc=e,Ip=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(Ip!==e)if(e={context:e,memoizedValue:t,next:null},Li===null){if(Qc===null)throw Error(G(308));Li=e,Qc.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return t}var $s=null;function $p(e){$s===null?$s=[e]:$s.push(e)}function Ej(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$p(t)):(r.next=s.next,s.next=r),t.interleaved=r,_n(e,n)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zn=!1;function Vp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_n(e,r)}return s=n.interleaved,s===null?(t.next=t,$p(n)):(t.next=s.next,s.next=t),n.interleaved=t,_n(e,r)}function jc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cp(e,r)}}function My(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jc(e,t,r,n){var s=e.updateQueue;zn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(h=t,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=Ke({},f,h);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qs|=o,e.lanes=o,e.memoizedState=f}}function Dy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var cl={},Jr=bs(cl),Da=bs(cl),Ia=bs(cl);function Vs(e){if(e===cl)throw Error(G(174));return e}function Up(e,t){switch(De(Ia,t),De(Da,e),De(Jr,cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jh(t,e)}Fe(Jr),De(Jr,t)}function oo(){Fe(Jr),Fe(Da),Fe(Ia)}function kj(e){Vs(Ia.current);var t=Vs(Jr.current),r=jh(t,e.type);t!==r&&(De(Da,e),De(Jr,r))}function Bp(e){Da.current===e&&(Fe(Jr),Fe(Da))}var He=bs(0);function Zc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wf=[];function zp(){for(var e=0;e<wf.length;e++)wf[e]._workInProgressVersionPrimary=null;wf.length=0}var Sc=An.ReactCurrentDispatcher,bf=An.ReactCurrentBatchConfig,Xs=0,Ge=null,ct=null,ft=null,eu=!1,ua=!1,La=0,IA=0;function yt(){throw Error(G(321))}function Wp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ir(e[r],t[r]))return!1;return!0}function Hp(e,t,r,n,s,i){if(Xs=i,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sc.current=e===null||e.memoizedState===null?VA:UA,e=r(n,s),ua){i=0;do{if(ua=!1,La=0,25<=i)throw Error(G(301));i+=1,ft=ct=null,t.updateQueue=null,Sc.current=BA,e=r(n,s)}while(ua)}if(Sc.current=tu,t=ct!==null&&ct.next!==null,Xs=0,ft=ct=Ge=null,eu=!1,t)throw Error(G(300));return e}function qp(){var e=La!==0;return La=0,e}function Br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=e:ft=ft.next=e,ft}function pr(){if(ct===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ft===null?Ge.memoizedState:ft.next;if(t!==null)ft=t,ct=e;else{if(e===null)throw Error(G(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?Ge.memoizedState=ft=e:ft=ft.next=e}return ft}function Fa(e,t){return typeof t=="function"?t(e):t}function jf(e){var t=pr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ct,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Xs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ge.lanes|=d,Qs|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ir(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ge.lanes|=i,Qs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sf(e){var t=pr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ir(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Pj(){}function Tj(e,t){var r=Ge,n=pr(),s=t(),i=!Ir(n.memoizedState,s);if(i&&(n.memoizedState=s,Ut=!0),n=n.queue,Gp(Oj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,$a(9,Rj.bind(null,r,n,s,t),void 0,null),ht===null)throw Error(G(349));Xs&30||Aj(r,t,s)}return s}function Aj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rj(e,t,r,n){t.value=r,t.getSnapshot=n,Mj(t)&&Dj(e)}function Oj(e,t,r){return r(function(){Mj(t)&&Dj(e)})}function Mj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ir(e,r)}catch{return!0}}function Dj(e){var t=_n(e,1);t!==null&&Mr(t,e,1,-1)}function Iy(e){var t=Br();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=$A.bind(null,Ge,e),[t.memoizedState,e]}function $a(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ij(){return pr().memoizedState}function _c(e,t,r,n){var s=Br();Ge.flags|=e,s.memoizedState=$a(1|t,r,void 0,n===void 0?null:n)}function Xu(e,t,r,n){var s=pr();n=n===void 0?null:n;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,n!==null&&Wp(n,o.deps)){s.memoizedState=$a(t,r,i,n);return}}Ge.flags|=e,s.memoizedState=$a(1|t,r,i,n)}function Ly(e,t){return _c(8390656,8,e,t)}function Gp(e,t){return Xu(2048,8,e,t)}function Lj(e,t){return Xu(4,2,e,t)}function Fj(e,t){return Xu(4,4,e,t)}function $j(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,r){return r=r!=null?r.concat([e]):null,Xu(4,4,$j.bind(null,t,e),r)}function Kp(){}function Uj(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bj(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zj(e,t,r){return Xs&21?(Ir(r,t)||(r=Kb(),Ge.lanes|=r,Qs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function LA(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=bf.transition;bf.transition={};try{e(!1),t()}finally{Ae=r,bf.transition=n}}function Wj(){return pr().memoizedState}function FA(e,t,r){var n=is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hj(e))qj(t,r);else if(r=Ej(e,t,r,n),r!==null){var s=Pt();Mr(r,e,n,s),Gj(r,t,n)}}function $A(e,t,r){var n=is(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hj(e))qj(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ir(l,o)){var c=t.interleaved;c===null?(s.next=s,$p(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ej(e,t,s,n),r!==null&&(s=Pt(),Mr(r,e,n,s),Gj(r,t,n))}}function Hj(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function qj(e,t){ua=eu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cp(e,r)}}var tu={readContext:mr,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},VA={readContext:mr,useCallback:function(e,t){return Br().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:Ly,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_c(4194308,4,$j.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _c(4194308,4,e,t)},useInsertionEffect:function(e,t){return _c(4,2,e,t)},useMemo:function(e,t){var r=Br();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Br();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=FA.bind(null,Ge,e),[n.memoizedState,e]},useRef:function(e){var t=Br();return e={current:e},t.memoizedState=e},useState:Iy,useDebugValue:Kp,useDeferredValue:function(e){return Br().memoizedState=e},useTransition:function(){var e=Iy(!1),t=e[0];return e=LA.bind(null,e[1]),Br().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ge,s=Br();if(ze){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),ht===null)throw Error(G(349));Xs&30||Aj(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ly(Oj.bind(null,n,i,e),[e]),n.flags|=2048,$a(9,Rj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Br(),t=ht.identifierPrefix;if(ze){var r=vn,n=gn;r=(n&~(1<<32-Or(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=La++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=IA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UA={readContext:mr,useCallback:Uj,useContext:mr,useEffect:Gp,useImperativeHandle:Vj,useInsertionEffect:Lj,useLayoutEffect:Fj,useMemo:Bj,useReducer:jf,useRef:Ij,useState:function(){return jf(Fa)},useDebugValue:Kp,useDeferredValue:function(e){var t=pr();return zj(t,ct.memoizedState,e)},useTransition:function(){var e=jf(Fa)[0],t=pr().memoizedState;return[e,t]},useMutableSource:Pj,useSyncExternalStore:Tj,useId:Wj,unstable_isNewReconciler:!1},BA={readContext:mr,useCallback:Uj,useContext:mr,useEffect:Gp,useImperativeHandle:Vj,useInsertionEffect:Lj,useLayoutEffect:Fj,useMemo:Bj,useReducer:Sf,useRef:Ij,useState:function(){return Sf(Fa)},useDebugValue:Kp,useDeferredValue:function(e){var t=pr();return ct===null?t.memoizedState=e:zj(t,ct.memoizedState,e)},useTransition:function(){var e=Sf(Fa)[0],t=pr().memoizedState;return[e,t]},useMutableSource:Pj,useSyncExternalStore:Tj,useId:Wj,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qu={isMounted:function(e){return(e=e._reactInternals)?ui(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),s=is(e),i=xn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ns(e,i,s),t!==null&&(Mr(t,e,s,n),jc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),s=is(e),i=xn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ns(e,i,s),t!==null&&(Mr(t,e,s,n),jc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=is(e),s=xn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ns(e,s,n),t!==null&&(Mr(t,e,n,r),jc(t,e,n))}};function Fy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Aa(r,n)||!Aa(s,i):!0}function Kj(e,t,r){var n=!1,s=hs,i=t.contextType;return typeof i=="object"&&i!==null?i=mr(i):(s=zt(t)?Ks:St.current,n=t.contextTypes,i=(n=n!=null)?no(e,s):hs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $y(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qu.enqueueReplaceState(t,t.state,null)}function Wh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Vp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=mr(i):(i=zt(t)?Ks:St.current,s.context=no(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Qu.enqueueReplaceState(s,s.state,null),Jc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,t){try{var r="",n=t;do r+=gT(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _f(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Hh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zA=typeof WeakMap=="function"?WeakMap:Map;function Yj(e,t,r){r=xn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nu||(nu=!0,tm=n),Hh(e,t)},r}function Xj(e,t,r){r=xn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Hh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Hh(e,t),typeof n!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zA;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=n2.bind(null,e,t,r),t.then(e,e))}function Uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function By(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xn(-1,1),t.tag=2,ns(r,t,1))),r.lanes|=1),e)}var WA=An.ReactCurrentOwner,Ut=!1;function Nt(e,t,r,n){t.child=e===null?Cj(t,null,r,n):io(t,e.child,r,n)}function zy(e,t,r,n,s){r=r.render;var i=t.ref;return Ki(t,s),n=Hp(e,t,r,n,i,s),r=qp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cn(e,t,s)):(ze&&r&&Op(t),t.flags|=1,Nt(e,t,n,s),t.child)}function Wy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!rg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Qj(e,t,i,n,s)):(e=kc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Aa,r(o,n)&&e.ref===t.ref)return Cn(e,t,s)}return t.flags|=1,e=os(i,n),e.ref=t.ref,e.return=t,t.child=e}function Qj(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Aa(i,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Cn(e,t,s)}return qh(e,t,r,n,s)}function Jj(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De($i,Gt),Gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De($i,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,De($i,Gt),Gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,De($i,Gt),Gt|=n;return Nt(e,t,s,r),t.child}function Zj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qh(e,t,r,n,s){var i=zt(r)?Ks:St.current;return i=no(t,i),Ki(t,s),r=Hp(e,t,r,n,i,s),n=qp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Cn(e,t,s)):(ze&&n&&Op(t),t.flags|=1,Nt(e,t,r,s),t.child)}function Hy(e,t,r,n,s){if(zt(r)){var i=!0;Gc(t)}else i=!1;if(Ki(t,s),t.stateNode===null)Cc(e,t),Kj(t,r,n),Wh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=zt(r)?Ks:St.current,u=no(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&$y(t,o,n,u),zn=!1;var h=t.memoizedState;o.state=h,Jc(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Bt.current||zn?(typeof d=="function"&&(zh(t,r,d,n),c=t.memoizedState),(l=zn||Fy(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Nj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=zt(r)?Ks:St.current,c=no(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&$y(t,o,n,c),zn=!1,h=t.memoizedState,o.state=h,Jc(t,n,o,s);var w=t.memoizedState;l!==f||h!==w||Bt.current||zn?(typeof p=="function"&&(zh(t,r,p,n),w=t.memoizedState),(u=zn||Fy(t,r,u,n,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Gh(e,t,r,n,i,s)}function Gh(e,t,r,n,s,i){Zj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ty(t,r,!1),Cn(e,t,i);n=t.stateNode,WA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=io(t,e.child,null,i),t.child=io(t,null,l,i)):Nt(e,t,l,i),t.memoizedState=n.state,s&&Ty(t,r,!0),t.child}function e1(e){var t=e.stateNode;t.pendingContext?Py(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Py(e,t.context,!1),Up(e,t.containerInfo)}function qy(e,t,r,n,s){return so(),Dp(s),t.flags|=256,Nt(e,t,r,n),t.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Yh(e){return{baseLanes:e,cachePool:null,transitions:null}}function t1(e,t,r){var n=t.pendingProps,s=He.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(He,s&1),e===null)return Uh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ed(o,n,0,null),e=qs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yh(r),t.memoizedState=Kh,e):Yp(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return HA(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=os(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=os(l,i):(i=qs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Yh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Kh,n}return i=e.child,e=i.sibling,n=os(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yp(e,t){return t=ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hl(e,t,r,n){return n!==null&&Dp(n),io(t,e.child,null,r),e=Yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HA(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_f(Error(G(422))),Hl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ed({mode:"visible",children:n.children},s,0,null),i=qs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&io(t,e.child,null,o),t.child.memoizedState=Yh(o),t.memoizedState=Kh,i);if(!(t.mode&1))return Hl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=_f(i,n,void 0),Hl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ut||l){if(n=ht,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_n(e,s),Mr(n,e,s,-1))}return tg(),n=_f(Error(G(421))),Hl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=s2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Yt=rs(s.nextSibling),Xt=t,ze=!0,Sr=null,e!==null&&(lr[cr++]=gn,lr[cr++]=vn,lr[cr++]=Ys,gn=e.id,vn=e.overflow,Ys=t),t=Yp(t,n.children),t.flags|=4096,t)}function Gy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bh(e.return,t,r)}function Cf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function r1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Nt(e,t,n.children,r),n=He.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gy(e,r,t);else if(e.tag===19)Gy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(De(He,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Zc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Cf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Cf(t,!0,r,null,i);break;case"together":Cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=os(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=os(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qA(e,t,r){switch(t.tag){case 3:e1(t),so();break;case 5:kj(t);break;case 1:zt(t.type)&&Gc(t);break;case 4:Up(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;De(Xc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(De(He,He.current&1),t.flags|=128,null):r&t.child.childLanes?t1(e,t,r):(De(He,He.current&1),e=Cn(e,t,r),e!==null?e.sibling:null);De(He,He.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return r1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(He,He.current),n)break;return null;case 22:case 23:return t.lanes=0,Jj(e,t,r)}return Cn(e,t,r)}var n1,Xh,s1,i1;n1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xh=function(){};s1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Vs(Jr.current);var i=null;switch(r){case"input":s=yh(e,s),n=yh(e,n),i=[];break;case"select":s=Ke({},s,{value:void 0}),n=Ke({},n,{value:void 0}),i=[];break;case"textarea":s=bh(e,s),n=bh(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hc)}Sh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_a.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_a.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};i1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GA(e,t,r){var n=t.pendingProps;switch(Mp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return zt(t.type)&&qc(),xt(t),null;case 3:return n=t.stateNode,oo(),Fe(Bt),Fe(St),zp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(sm(Sr),Sr=null))),Xh(e,t),xt(t),null;case 5:Bp(t);var s=Vs(Ia.current);if(r=t.type,e!==null&&t.stateNode!=null)s1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return xt(t),null}if(e=Vs(Jr.current),zl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Hr]=t,n[Ma]=i,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<ea.length;s++)Le(ea[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":ry(n,i),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Le("invalid",n);break;case"textarea":sy(n,i),Le("invalid",n)}Sh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bl(n.textContent,l,e),s=["children",""+l]):_a.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Le("scroll",n)}switch(r){case"input":Ml(n),ny(n,i,!0);break;case"textarea":Ml(n),iy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ob(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Hr]=t,e[Ma]=n,n1(e,t,!1,!1),t.stateNode=e;e:{switch(o=_h(r,n),r){case"dialog":Le("cancel",e),Le("close",e),s=n;break;case"iframe":case"object":case"embed":Le("load",e),s=n;break;case"video":case"audio":for(s=0;s<ea.length;s++)Le(ea[s],e);s=n;break;case"source":Le("error",e),s=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=n;break;case"details":Le("toggle",e),s=n;break;case"input":ry(e,n),s=yh(e,n),Le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ke({},n,{value:void 0}),Le("invalid",e);break;case"textarea":sy(e,n),s=bh(e,n),Le("invalid",e);break;default:s=n}Sh(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ib(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ca(e,c):typeof c=="number"&&Ca(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_a.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&xp(e,i,c,o))}switch(r){case"input":Ml(e),ny(e,n,!1);break;case"textarea":Ml(e),iy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Hc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)i1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Vs(Ia.current),Vs(Jr.current),zl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Hr]=t,(i=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:Bl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hr]=t,t.stateNode=n}return xt(t),null;case 13:if(Fe(He),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Yt!==null&&t.mode&1&&!(t.flags&128))Sj(),so(),t.flags|=98560,i=!1;else if(i=zl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Hr]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),i=!1}else Sr!==null&&(sm(Sr),Sr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?ut===0&&(ut=3):tg())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return oo(),Xh(e,t),e===null&&Ra(t.stateNode.containerInfo),xt(t),null;case 10:return Fp(t.type._context),xt(t),null;case 17:return zt(t.type)&&qc(),xt(t),null;case 19:if(Fe(He),i=t.memoizedState,i===null)return xt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Fo(i,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zc(e),o!==null){for(t.flags|=128,Fo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(He,He.current&1|2),t.child}e=e.sibling}i.tail!==null&&Je()>lo&&(t.flags|=128,n=!0,Fo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Zc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return xt(t),null}else 2*Je()-i.renderingStartTime>lo&&r!==1073741824&&(t.flags|=128,n=!0,Fo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,r=He.current,De(He,n?r&1|2:r&1),t):(xt(t),null);case 22:case 23:return eg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function KA(e,t){switch(Mp(t),t.tag){case 1:return zt(t.type)&&qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oo(),Fe(Bt),Fe(St),zp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bp(t),null;case 13:if(Fe(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(He),null;case 4:return oo(),null;case 10:return Fp(t.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var ql=!1,bt=!1,YA=typeof WeakSet=="function"?WeakSet:Set,re=null;function Fi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ye(e,t,n)}else r.current=null}function Qh(e,t,r){try{r()}catch(n){Ye(e,t,n)}}var Ky=!1;function XA(e,t){if(Mh=Bc,e=uj(),Rp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dh={focusedElem:e,selectionRange:r},Bc=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:wr(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Ye(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return w=Ky,Ky=!1,w}function da(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qh(t,r,i)}s=s.next}while(s!==n)}}function Ju(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o1(e){var t=e.alternate;t!==null&&(e.alternate=null,o1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[Ma],delete t[Fh],delete t[RA],delete t[OA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function a1(e){return e.tag===5||e.tag===3||e.tag===4}function Yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||a1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hc));else if(n!==4&&(e=e.child,e!==null))for(Zh(e,t,r),e=e.sibling;e!==null;)Zh(e,t,r),e=e.sibling}function em(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(em(e,t,r),e=e.sibling;e!==null;)em(e,t,r),e=e.sibling}var pt=null,br=!1;function In(e,t,r){for(r=r.child;r!==null;)l1(e,t,r),r=r.sibling}function l1(e,t,r){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Wu,r)}catch{}switch(r.tag){case 5:bt||Fi(r,t);case 6:var n=pt,s=br;pt=null,In(e,t,r),pt=n,br=s,pt!==null&&(br?(e=pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(br?(e=pt,r=r.stateNode,e.nodeType===8?yf(e.parentNode,r):e.nodeType===1&&yf(e,r),Pa(e)):yf(pt,r.stateNode));break;case 4:n=pt,s=br,pt=r.stateNode.containerInfo,br=!0,In(e,t,r),pt=n,br=s;break;case 0:case 11:case 14:case 15:if(!bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qh(r,t,o),s=s.next}while(s!==n)}In(e,t,r);break;case 1:if(!bt&&(Fi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ye(r,t,l)}In(e,t,r);break;case 21:In(e,t,r);break;case 22:r.mode&1?(bt=(n=bt)||r.memoizedState!==null,In(e,t,r),bt=n):In(e,t,r);break;default:In(e,t,r)}}function Xy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YA),t.forEach(function(n){var s=i2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,br=!1;break e;case 3:pt=l.stateNode.containerInfo,br=!0;break e;case 4:pt=l.stateNode.containerInfo,br=!0;break e}l=l.return}if(pt===null)throw Error(G(160));l1(i,o,s),pt=null,br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)c1(t,e),t=t.sibling}function c1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Ur(e),n&4){try{da(3,e,e.return),Ju(3,e)}catch(v){Ye(e,e.return,v)}try{da(5,e,e.return)}catch(v){Ye(e,e.return,v)}}break;case 1:vr(t,e),Ur(e),n&512&&r!==null&&Fi(r,r.return);break;case 5:if(vr(t,e),Ur(e),n&512&&r!==null&&Fi(r,r.return),e.flags&32){var s=e.stateNode;try{Ca(s,"")}catch(v){Ye(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ab(s,i),_h(l,o);var u=_h(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Ib(s,f):d==="dangerouslySetInnerHTML"?Mb(s,f):d==="children"?Ca(s,f):xp(s,d,f,u)}switch(l){case"input":xh(s,i);break;case"textarea":Rb(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wi(s,!!i.multiple,i.defaultValue,!0):Wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ma]=i}catch(v){Ye(e,e.return,v)}}break;case 6:if(vr(t,e),Ur(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Ye(e,e.return,v)}}break;case 3:if(vr(t,e),Ur(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(v){Ye(e,e.return,v)}break;case 4:vr(t,e),Ur(e);break;case 13:vr(t,e),Ur(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jp=Je())),n&4&&Xy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(u=bt)||d,vr(t,e),bt=u):vr(t,e),Ur(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:da(4,h,h.return);break;case 1:Fi(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Ye(n,r,v)}}break;case 5:Fi(h,h.return);break;case 22:if(h.memoizedState!==null){Jy(f);continue}}p!==null?(p.return=h,re=p):Jy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Db("display",o))}catch(v){Ye(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ye(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(t,e),Ur(e),n&4&&Xy(e);break;case 21:break;default:vr(t,e),Ur(e)}}function Ur(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(a1(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ca(s,""),n.flags&=-33);var i=Yy(e);em(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Yy(e);Zh(e,l,o);break;default:throw Error(G(161))}}catch(c){Ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QA(e,t,r){re=e,u1(e)}function u1(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ql;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bt;l=ql;var u=bt;if(ql=o,(bt=c)&&!u)for(re=s;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?Zy(s):c!==null?(c.return=o,re=c):Zy(s);for(;i!==null;)re=i,u1(i),i=i.sibling;re=s,ql=l,bt=u}Qy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Qy(e)}}function Qy(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||Ju(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dy(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}bt||t.flags&512&&Jh(t)}catch(h){Ye(t,t.return,h)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function Jy(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function Zy(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ju(4,t)}catch(c){Ye(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ye(t,s,c)}}var i=t.return;try{Jh(t)}catch(c){Ye(t,i,c)}break;case 5:var o=t.return;try{Jh(t)}catch(c){Ye(t,o,c)}}}catch(c){Ye(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var JA=Math.ceil,ru=An.ReactCurrentDispatcher,Xp=An.ReactCurrentOwner,dr=An.ReactCurrentBatchConfig,je=0,ht=null,it=null,gt=0,Gt=0,$i=bs(0),ut=0,Va=null,Qs=0,Zu=0,Qp=0,fa=null,Ft=null,Jp=0,lo=1/0,hn=null,nu=!1,tm=null,ss=null,Gl=!1,Qn=null,su=0,ha=0,rm=null,Ec=-1,Nc=0;function Pt(){return je&6?Je():Ec!==-1?Ec:Ec=Je()}function is(e){return e.mode&1?je&2&&gt!==0?gt&-gt:DA.transition!==null?(Nc===0&&(Nc=Kb()),Nc):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:tj(e.type)),e):1}function Mr(e,t,r,n){if(50<ha)throw ha=0,rm=null,Error(G(185));ol(e,r,n),(!(je&2)||e!==ht)&&(e===ht&&(!(je&2)&&(Zu|=r),ut===4&&qn(e,gt)),Wt(e,n),r===1&&je===0&&!(t.mode&1)&&(lo=Je()+500,Yu&&js()))}function Wt(e,t){var r=e.callbackNode;DT(e,t);var n=Uc(e,e===ht?gt:0);if(n===0)r!==null&&ly(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ly(r),t===1)e.tag===0?MA(ex.bind(null,e)):wj(ex.bind(null,e)),TA(function(){!(je&6)&&js()}),r=null;else{switch(Yb(n)){case 1:r=_p;break;case 4:r=qb;break;case 16:r=Vc;break;case 536870912:r=Gb;break;default:r=Vc}r=y1(r,d1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function d1(e,t){if(Ec=-1,Nc=0,je&6)throw Error(G(327));var r=e.callbackNode;if(Yi()&&e.callbackNode!==r)return null;var n=Uc(e,e===ht?gt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=iu(e,n);else{t=n;var s=je;je|=2;var i=h1();(ht!==e||gt!==t)&&(hn=null,lo=Je()+500,Hs(e,t));do try{t2();break}catch(l){f1(e,l)}while(1);Lp(),ru.current=i,je=s,it!==null?t=0:(ht=null,gt=0,t=ut)}if(t!==0){if(t===2&&(s=Ph(e),s!==0&&(n=s,t=nm(e,s))),t===1)throw r=Va,Hs(e,0),qn(e,n),Wt(e,Je()),r;if(t===6)qn(e,n);else{if(s=e.current.alternate,!(n&30)&&!ZA(s)&&(t=iu(e,n),t===2&&(i=Ph(e),i!==0&&(n=i,t=nm(e,i))),t===1))throw r=Va,Hs(e,0),qn(e,n),Wt(e,Je()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:As(e,Ft,hn);break;case 3:if(qn(e,n),(n&130023424)===n&&(t=Jp+500-Je(),10<t)){if(Uc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lh(As.bind(null,e,Ft,hn),t);break}As(e,Ft,hn);break;case 4:if(qn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Or(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JA(n/1960))-n,10<n){e.timeoutHandle=Lh(As.bind(null,e,Ft,hn),n);break}As(e,Ft,hn);break;case 5:As(e,Ft,hn);break;default:throw Error(G(329))}}}return Wt(e,Je()),e.callbackNode===r?d1.bind(null,e):null}function nm(e,t){var r=fa;return e.current.memoizedState.isDehydrated&&(Hs(e,t).flags|=256),e=iu(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&sm(t)),e}function sm(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function ZA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ir(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~Qp,t&=~Zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Or(t),n=1<<r;e[r]=-1,t&=~n}}function ex(e){if(je&6)throw Error(G(327));Yi();var t=Uc(e,0);if(!(t&1))return Wt(e,Je()),null;var r=iu(e,t);if(e.tag!==0&&r===2){var n=Ph(e);n!==0&&(t=n,r=nm(e,n))}if(r===1)throw r=Va,Hs(e,0),qn(e,t),Wt(e,Je()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,Ft,hn),Wt(e,Je()),null}function Zp(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(lo=Je()+500,Yu&&js())}}function Js(e){Qn!==null&&Qn.tag===0&&!(je&6)&&Yi();var t=je;je|=1;var r=dr.transition,n=Ae;try{if(dr.transition=null,Ae=1,e)return e()}finally{Ae=n,dr.transition=r,je=t,!(je&6)&&js()}}function eg(){Gt=$i.current,Fe($i)}function Hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PA(r)),it!==null)for(r=it.return;r!==null;){var n=r;switch(Mp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qc();break;case 3:oo(),Fe(Bt),Fe(St),zp();break;case 5:Bp(n);break;case 4:oo();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Fp(n.type._context);break;case 22:case 23:eg()}r=r.return}if(ht=e,it=e=os(e.current,null),gt=Gt=t,ut=0,Va=null,Qp=Zu=Qs=0,Ft=fa=null,$s!==null){for(t=0;t<$s.length;t++)if(r=$s[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}$s=null}return e}function f1(e,t){do{var r=it;try{if(Lp(),Sc.current=tu,eu){for(var n=Ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}eu=!1}if(Xs=0,ft=ct=Ge=null,ua=!1,La=0,Xp.current=null,r===null||r.return===null){ut=1,Va=t,it=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Uy(o);if(p!==null){p.flags&=-257,By(p,o,l,i,t),p.mode&1&&Vy(i,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){Vy(i,u,t),tg();break e}c=Error(G(426))}}else if(ze&&l.mode&1){var b=Uy(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),By(b,o,l,i,t),Dp(ao(c,l));break e}}i=c=ao(c,l),ut!==4&&(ut=2),fa===null?fa=[i]:fa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Yj(i,c,t);My(i,y);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ss===null||!ss.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Xj(i,l,t);My(i,j);break e}}i=i.return}while(i!==null)}p1(r)}catch(S){t=S,it===r&&r!==null&&(it=r=r.return);continue}break}while(1)}function h1(){var e=ru.current;return ru.current=tu,e===null?tu:e}function tg(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||!(Qs&268435455)&&!(Zu&268435455)||qn(ht,gt)}function iu(e,t){var r=je;je|=2;var n=h1();(ht!==e||gt!==t)&&(hn=null,Hs(e,t));do try{e2();break}catch(s){f1(e,s)}while(1);if(Lp(),je=r,ru.current=n,it!==null)throw Error(G(261));return ht=null,gt=0,ut}function e2(){for(;it!==null;)m1(it)}function t2(){for(;it!==null&&!ET();)m1(it)}function m1(e){var t=v1(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?p1(e):it=t,Xp.current=null}function p1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KA(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}else if(r=GA(r,t,Gt),r!==null){it=r;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function As(e,t,r){var n=Ae,s=dr.transition;try{dr.transition=null,Ae=1,r2(e,t,r,n)}finally{dr.transition=s,Ae=n}return null}function r2(e,t,r,n){do Yi();while(Qn!==null);if(je&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(IT(e,i),e===ht&&(it=ht=null,gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gl||(Gl=!0,y1(Vc,function(){return Yi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var o=Ae;Ae=1;var l=je;je|=4,Xp.current=null,XA(e,r),c1(r,e),jA(Dh),Bc=!!Mh,Dh=Mh=null,e.current=r,QA(r),NT(),je=l,Ae=o,dr.transition=i}else e.current=r;if(Gl&&(Gl=!1,Qn=e,su=s),i=e.pendingLanes,i===0&&(ss=null),TT(r.stateNode),Wt(e,Je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(nu)throw nu=!1,e=tm,tm=null,e;return su&1&&e.tag!==0&&Yi(),i=e.pendingLanes,i&1?e===rm?ha++:(ha=0,rm=e):ha=0,js(),null}function Yi(){if(Qn!==null){var e=Yb(su),t=dr.transition,r=Ae;try{if(dr.transition=null,Ae=16>e?16:e,Qn===null)var n=!1;else{if(e=Qn,Qn=null,su=0,je&6)throw Error(G(331));var s=je;for(je|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:da(8,d,i)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var h=d.sibling,p=d.return;if(o1(d),d===u){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:da(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,re=y;break e}re=i.return}}var g=e.current;for(re=g;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=g;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ju(9,l)}}catch(S){Ye(l,l.return,S)}if(l===o){re=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,re=j;break e}re=l.return}}if(je=s,js(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Wu,e)}catch{}n=!0}return n}finally{Ae=r,dr.transition=t}}return!1}function tx(e,t,r){t=ao(r,t),t=Yj(e,t,1),e=ns(e,t,1),t=Pt(),e!==null&&(ol(e,1,t),Wt(e,t))}function Ye(e,t,r){if(e.tag===3)tx(e,e,r);else for(;t!==null;){if(t.tag===3){tx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ss===null||!ss.has(n))){e=ao(r,e),e=Xj(t,e,1),t=ns(t,e,1),e=Pt(),t!==null&&(ol(t,1,e),Wt(t,e));break}}t=t.return}}function n2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(gt&r)===r&&(ut===4||ut===3&&(gt&130023424)===gt&&500>Je()-Jp?Hs(e,0):Qp|=r),Wt(e,t)}function g1(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var r=Pt();e=_n(e,t),e!==null&&(ol(e,t,r),Wt(e,r))}function s2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),g1(e,r)}function i2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),g1(e,r)}var v1;v1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,qA(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,ze&&t.flags&1048576&&bj(t,Yc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cc(e,t),e=t.pendingProps;var s=no(t,St.current);Ki(t,r),s=Hp(null,t,n,e,s,r);var i=qp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(n)?(i=!0,Gc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vp(t),s.updater=Qu,t.stateNode=s,s._reactInternals=t,Wh(t,n,e,r),t=Gh(null,t,n,!0,i,r)):(t.tag=0,ze&&i&&Op(t),Nt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=a2(n),e=wr(n,e),s){case 0:t=qh(null,t,n,e,r);break e;case 1:t=Hy(null,t,n,e,r);break e;case 11:t=zy(null,t,n,e,r);break e;case 14:t=Wy(null,t,n,wr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),qh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),Hy(e,t,n,s,r);case 3:e:{if(e1(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Nj(e,t),Jc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ao(Error(G(423)),t),t=qy(e,t,n,r,s);break e}else if(n!==s){s=ao(Error(G(424)),t),t=qy(e,t,n,r,s);break e}else for(Yt=rs(t.stateNode.containerInfo.firstChild),Xt=t,ze=!0,Sr=null,r=Cj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),n===s){t=Cn(e,t,r);break e}Nt(e,t,n,r)}t=t.child}return t;case 5:return kj(t),e===null&&Uh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ih(n,s)?o=null:i!==null&&Ih(n,i)&&(t.flags|=32),Zj(e,t),Nt(e,t,o,r),t.child;case 6:return e===null&&Uh(t),null;case 13:return t1(e,t,r);case 4:return Up(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=io(t,null,n,r):Nt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),zy(e,t,n,s,r);case 7:return Nt(e,t,t.pendingProps,r),t.child;case 8:return Nt(e,t,t.pendingProps.children,r),t.child;case 12:return Nt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,De(Xc,n._currentValue),n._currentValue=o,i!==null)if(Ir(i.value,o)){if(i.children===s.children&&!Bt.current){t=Cn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=xn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Bh(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Bh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ki(t,r),s=mr(s),n=n(s),t.flags|=1,Nt(e,t,n,r),t.child;case 14:return n=t.type,s=wr(n,t.pendingProps),s=wr(n.type,s),Wy(e,t,n,s,r);case 15:return Qj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),Cc(e,t),t.tag=1,zt(n)?(e=!0,Gc(t)):e=!1,Ki(t,r),Kj(t,n,s),Wh(t,n,s,r),Gh(null,t,n,!0,e,r);case 19:return r1(e,t,r);case 22:return Jj(e,t,r)}throw Error(G(156,t.tag))};function y1(e,t){return Hb(e,t)}function o2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,r,n){return new o2(e,t,r,n)}function rg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a2(e){if(typeof e=="function")return rg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bp)return 11;if(e===jp)return 14}return 2}function os(e,t){var r=e.alternate;return r===null?(r=ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")rg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pi:return qs(r.children,s,i,t);case wp:o=8,s|=8;break;case mh:return e=ur(12,r,t,s|2),e.elementType=mh,e.lanes=i,e;case ph:return e=ur(13,r,t,s),e.elementType=ph,e.lanes=i,e;case gh:return e=ur(19,r,t,s),e.elementType=gh,e.lanes=i,e;case kb:return ed(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Eb:o=10;break e;case Nb:o=9;break e;case bp:o=11;break e;case jp:o=14;break e;case Bn:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=ur(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function qs(e,t,r,n){return e=ur(7,e,n,t),e.lanes=r,e}function ed(e,t,r,n){return e=ur(22,e,n,t),e.elementType=kb,e.lanes=r,e.stateNode={isHidden:!1},e}function Ef(e,t,r){return e=ur(6,e,null,t),e.lanes=r,e}function Nf(e,t,r){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ng(e,t,r,n,s,i,o,l,c){return e=new l2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vp(i),e}function c2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function x1(e){if(!e)return hs;e=e._reactInternals;e:{if(ui(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(zt(r))return xj(e,r,t)}return t}function w1(e,t,r,n,s,i,o,l,c){return e=ng(r,n,!0,e,s,i,o,l,c),e.context=x1(null),r=e.current,n=Pt(),s=is(r),i=xn(n,s),i.callback=t??null,ns(r,i,s),e.current.lanes=s,ol(e,s,n),Wt(e,n),e}function td(e,t,r,n){var s=t.current,i=Pt(),o=is(s);return r=x1(r),t.context===null?t.context=r:t.pendingContext=r,t=xn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ns(s,t,o),e!==null&&(Mr(e,s,o,i),jc(e,s,o)),o}function ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sg(e,t){rx(e,t),(e=e.alternate)&&rx(e,t)}function u2(){return null}var b1=typeof reportError=="function"?reportError:function(e){console.error(e)};function ig(e){this._internalRoot=e}rd.prototype.render=ig.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));td(e,t,null,null)};rd.prototype.unmount=ig.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){td(null,e,null,null)}),t[Sn]=null}};function rd(e){this._internalRoot=e}rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hn.length&&t!==0&&t<Hn[r].priority;r++);Hn.splice(r,0,e),r===0&&ej(e)}};function og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nx(){}function d2(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ou(o);i.call(u)}}var o=w1(t,n,e,0,null,!1,!1,"",nx);return e._reactRootContainer=o,e[Sn]=o.current,Ra(e.nodeType===8?e.parentNode:e),Js(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ou(c);l.call(u)}}var c=ng(e,0,!1,null,null,!1,!1,"",nx);return e._reactRootContainer=c,e[Sn]=c.current,Ra(e.nodeType===8?e.parentNode:e),Js(function(){td(t,c,r,n)}),c}function sd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ou(o);l.call(c)}}td(t,o,e,s)}else o=d2(r,t,e,s,n);return ou(o)}Xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zo(t.pendingLanes);r!==0&&(Cp(t,r|1),Wt(t,Je()),!(je&6)&&(lo=Je()+500,js()))}break;case 13:Js(function(){var n=_n(e,1);if(n!==null){var s=Pt();Mr(n,e,1,s)}}),sg(e,1)}};Ep=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=Pt();Mr(t,e,134217728,r)}sg(e,134217728)}};Qb=function(e){if(e.tag===13){var t=is(e),r=_n(e,t);if(r!==null){var n=Pt();Mr(r,e,t,n)}sg(e,t)}};Jb=function(){return Ae};Zb=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Eh=function(e,t,r){switch(t){case"input":if(xh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ku(n);if(!s)throw Error(G(90));Tb(n),xh(n,s)}}}break;case"textarea":Rb(e,r);break;case"select":t=r.value,t!=null&&Wi(e,!!r.multiple,t,!1)}};$b=Zp;Vb=Js;var f2={usingClientEntryPoint:!1,Events:[ll,Oi,Ku,Lb,Fb,Zp]},$o={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h2={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zb(e),e===null?null:e.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||u2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Wu=Kl.inject(h2),Qr=Kl}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f2;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(t))throw Error(G(200));return c2(e,t,null,r)};rr.createRoot=function(e,t){if(!og(e))throw Error(G(299));var r=!1,n="",s=b1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ng(e,1,!1,null,null,r,!1,n,s),e[Sn]=t.current,Ra(e.nodeType===8?e.parentNode:e),new ig(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=zb(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Js(e)};rr.hydrate=function(e,t,r){if(!nd(t))throw Error(G(200));return sd(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!og(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=b1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=w1(t,null,e,1,r??null,s,!1,i,o),e[Sn]=t.current,Ra(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new rd(t)};rr.render=function(e,t,r){if(!nd(t))throw Error(G(200));return sd(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!nd(e))throw Error(G(40));return e._reactRootContainer?(Js(function(){sd(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};rr.unstable_batchedUpdates=Zp;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!nd(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return sd(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function j1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j1)}catch(e){console.error(e)}}j1(),jb.exports=rr;var di=jb.exports;const m2=li(di);var sx=di;fh.createRoot=sx.createRoot,fh.hydrateRoot=sx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}var Jn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jn||(Jn={}));const ix="popstate";function p2(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return im("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:au(s)}return v2(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g2(){return Math.random().toString(36).substr(2,8)}function ox(e,t){return{usr:e.state,key:e.key,idx:t}}function im(e,t,r,n){return r===void 0&&(r=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bo(t):t,{state:r,key:t&&t.key||n||g2()})}function au(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Jn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ua({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Jn.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function h(b,y){l=Jn.Push;let g=im(v.location,b,y);r&&r(g,b),u=d()+1;let x=ox(g,u),j=v.createHref(g);try{o.pushState(x,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function p(b,y){l=Jn.Replace;let g=im(v.location,b,y);r&&r(g,b),u=d();let x=ox(g,u),j=v.createHref(g);o.replaceState(x,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:au(b);return g=g.replace(/ $/,"%20"),Ze(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let v={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ix,f),c=b,()=>{s.removeEventListener(ix,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return v}var ax;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ax||(ax={}));function y2(e,t,r){return r===void 0&&(r="/"),x2(e,t,r,!1)}function x2(e,t,r,n){let s=typeof t=="string"?bo(t):t,i=ag(s.pathname||"/",r);if(i==null)return null;let o=_1(e);w2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=A2(i);l=P2(o[c],u,n)}return l}function _1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ze(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=as([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_1(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:N2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of C1(i.path))s(i,o,c)}),t}function C1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=C1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function w2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:k2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const b2=/^:[\w-]+$/,j2=3,S2=2,_2=1,C2=10,E2=-2,lx=e=>e==="*";function N2(e,t){let r=e.split("/"),n=r.length;return r.some(lx)&&(n+=E2),t&&(n+=S2),r.filter(s=>!lx(s)).reduce((s,i)=>s+(b2.test(i)?j2:i===""?_2:C2),n)}function k2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function P2(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=cx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=cx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:as([i,f.pathname]),pathnameBase:D2(as([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=as([i,f.pathnameBase]))}return o}function cx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=T2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function T2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),S1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function A2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return S1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ag(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function R2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bo(e):e;return{pathname:r?r.startsWith("/")?r:O2(r,t):t,search:I2(n),hash:L2(s)}}function O2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function kf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lg(e,t){let r=M2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=bo(e):(s=Ua({},e),Ze(!s.pathname||!s.pathname.includes("?"),kf("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),kf("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),kf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=R2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const as=e=>e.join("/").replace(/\/\/+/g,"/"),D2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,L2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function F2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E1=["post","put","patch","delete"];new Set(E1);const $2=["get",...E1];new Set($2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(this,arguments)}const ug=m.createContext(null),V2=m.createContext(null),Ss=m.createContext(null),id=m.createContext(null),Rn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),N1=m.createContext(null);function U2(e,t){let{relative:r}=t===void 0?{}:t;jo()||Ze(!1);let{basename:n,navigator:s}=m.useContext(Ss),{hash:i,pathname:o,search:l}=P1(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:as([n,o])),s.createHref({pathname:c,search:l,hash:i})}function jo(){return m.useContext(id)!=null}function So(){return jo()||Ze(!1),m.useContext(id).location}function k1(e){m.useContext(Ss).static||m.useLayoutEffect(e)}function an(){let{isDataRoute:e}=m.useContext(Rn);return e?eR():B2()}function B2(){jo()||Ze(!1);let e=m.useContext(ug),{basename:t,future:r,navigator:n}=m.useContext(Ss),{matches:s}=m.useContext(Rn),{pathname:i}=So(),o=JSON.stringify(lg(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return k1(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=cg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:as([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function od(){let{matches:e}=m.useContext(Rn),t=e[e.length-1];return t?t.params:{}}function P1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Ss),{matches:s}=m.useContext(Rn),{pathname:i}=So(),o=JSON.stringify(lg(s,n.v7_relativeSplatPath));return m.useMemo(()=>cg(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function z2(e,t){return W2(e,t)}function W2(e,t,r,n){jo()||Ze(!1);let{navigator:s}=m.useContext(Ss),{matches:i}=m.useContext(Rn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=So(),d;if(t){var f;let b=typeof t=="string"?bo(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ze(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=y2(e,{pathname:p}),v=Y2(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:as([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:as([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&v?m.createElement(id.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Jn.Pop}},v):v}function H2(){let e=Z2(),t=F2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,i)}const q2=m.createElement(H2,null);class G2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Rn.Provider,{value:this.props.routeContext},m.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K2(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(ug);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Rn.Provider,{value:t},n)}function Y2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,w=!1,v=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||q2,c&&(u<0&&h===0?(tR("route-fallback",!1),w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),g=()=>{let x;return p?x=v:w?x=b:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(K2,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(G2,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var T1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T1||{}),lu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lu||{});function X2(e){let t=m.useContext(ug);return t||Ze(!1),t}function Q2(e){let t=m.useContext(V2);return t||Ze(!1),t}function J2(e){let t=m.useContext(Rn);return t||Ze(!1),t}function A1(e){let t=J2(),r=t.matches[t.matches.length-1];return r.route.id||Ze(!1),r.route.id}function Z2(){var e;let t=m.useContext(N1),r=Q2(lu.UseRouteError),n=A1(lu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function eR(){let{router:e}=X2(T1.UseNavigateStable),t=A1(lu.UseNavigateStable),r=m.useRef(!1);return k1(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ba({fromRouteId:t},i)))},[e,t])}const ux={};function tR(e,t,r){!t&&!ux[e]&&(ux[e]=!0)}function rR(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Yl(e){let{to:t,replace:r,state:n,relative:s}=e;jo()||Ze(!1);let{future:i,static:o}=m.useContext(Ss),{matches:l}=m.useContext(Rn),{pathname:c}=So(),u=an(),d=cg(t,lg(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ne(e){Ze(!1)}function nR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Jn.Pop,navigator:i,static:o=!1,future:l}=e;jo()&&Ze(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Ba({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=bo(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=n,v=m.useMemo(()=>{let b=ag(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:w},navigationType:s}},[c,d,f,h,p,w,s]);return v==null?null:m.createElement(Ss.Provider,{value:u},m.createElement(id.Provider,{children:r,value:v}))}function dx(e){let{children:t,location:r}=e;return z2(om(t),r)}new Promise(()=>{});function om(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,om(n.props.children,i));return}n.type!==Ne&&Ze(!1),!n.props.index||!n.props.children||Ze(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=om(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function sR(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function iR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oR(e,t){return e.button===0&&(!t||t==="_self")&&!iR(e)}const aR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lR="6";try{window.__reactRouterVersion=lR}catch{}const cR="startTransition",fx=gp[cR];function uR(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=p2({window:s,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&fx?fx(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>rR(n),[n]),m.createElement(nR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const dR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=sR(t,aR),{basename:p}=m.useContext(Ss),w,v=!1;if(typeof u=="string"&&fR.test(u)&&(w=u,dR))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=ag(j.pathname,p);j.origin===x.origin&&S!=null?u=S+j.search+j.hash:v=!0}catch{}let b=U2(u,{relative:s}),y=hR(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(x){n&&n(x),x.defaultPrevented||y(x)}return m.createElement("a",am({},h,{href:w||b,onClick:v||i?n:g,ref:r,target:c}))});var hx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hx||(hx={}));var mx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mx||(mx={}));function hR(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=an(),u=So(),d=P1(e,{relative:o});return m.useCallback(f=>{if(oR(f,r)){f.preventDefault();let h=n!==void 0?n:au(u)===au(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}var R1={exports:{}},mR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pR=mR,gR=pR;function O1(){}function M1(){}M1.resetWarningCache=O1;var vR=function(){function e(n,s,i,o,l,c){if(c!==gR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:M1,resetWarningCache:O1};return r.PropTypes=r,r};R1.exports=vR();var yR=R1.exports;const Ve=li(yR);function xR(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var D1=m,wR=xR(D1);function px(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var jR=!!(typeof window<"u"&&window.document&&window.document.createElement);function SR(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(d){bR(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=l;return l=void 0,o=[],w};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var w=o.indexOf(this);o.splice(w,1),c()},h.render=function(){return wR.createElement(i,this.props)},f}(D1.PureComponent);return px(u,"displayName","SideEffect("+n(i)+")"),px(u,"canUseDOM",jR),u}}var _R=SR;const CR=li(_R);var ER=typeof Element<"u",NR=typeof Map=="function",kR=typeof Set=="function",PR=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Pc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Pc(e[n],t[n]))return!1;return!0}var i;if(NR&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Pc(n.value[1],t.get(n.value[0])))return!1;return!0}if(kR&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(PR&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if(ER&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!Pc(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var TR=function(t,r){try{return Pc(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const AR=li(TR);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gx=Object.getOwnPropertySymbols,RR=Object.prototype.hasOwnProperty,OR=Object.prototype.propertyIsEnumerable;function MR(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function DR(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var IR=DR()?Object.assign:function(e,t){for(var r,n=MR(e),s,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)RR.call(r,o)&&(n[o]=r[o]);if(gx){s=gx(r);for(var l=0;l<s.length;l++)OR.call(r,s[l])&&(n[s[l]]=r[s[l]])}}return n};const LR=li(IR);var Gs={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},he={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(he).map(function(e){return he[e]});var Be={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},cu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},za={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},FR=Object.keys(cu).reduce(function(e,t){return e[cu[t]]=t,e},{}),$R=[he.NOSCRIPT,he.SCRIPT,he.STYLE],Nr="data-react-helmet",VR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UR=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},BR=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zR=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},vx=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},WR=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},lm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},HR=function(t){var r=Xi(t,he.TITLE),n=Xi(t,za.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var s=Xi(t,za.DEFAULT_TITLE);return r||s||void 0},qR=function(t){return Xi(t,za.ON_CHANGE_CLIENT_STATE)||function(){}},Pf=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,s){return It({},n,s)},{})},GR=function(t,r){return r.filter(function(n){return typeof n[he.BASE]<"u"}).map(function(n){return n[he.BASE]}).reverse().reduce(function(n,s){if(!n.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&s[c])return n.concat(s)}return n},[])},Vo=function(t,r,n){var s={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&QR("Helmet: "+t+' should be of type "Array". Instead found type "'+VR(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(h){for(var p=void 0,w=Object.keys(h),v=0;v<w.length;v++){var b=w[v],y=b.toLowerCase();r.indexOf(y)!==-1&&!(p===Be.REL&&h[p].toLowerCase()==="canonical")&&!(y===Be.REL&&h[y].toLowerCase()==="stylesheet")&&(p=y),r.indexOf(b)!==-1&&(b===Be.INNER_HTML||b===Be.CSS_TEXT||b===Be.ITEM_PROP)&&(p=b)}if(!p||!h[p])return!1;var g=h[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][g]?!1:(l[p][g]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=LR({},s[d],l[d]);s[d]=f}return i},[]).reverse()},Xi=function(t,r){for(var n=t.length-1;n>=0;n--){var s=t[n];if(s.hasOwnProperty(r))return s[r]}return null},KR=function(t){return{baseTag:GR([Be.HREF,Be.TARGET],t),bodyAttributes:Pf(Gs.BODY,t),defer:Xi(t,za.DEFER),encode:Xi(t,za.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Pf(Gs.HTML,t),linkTags:Vo(he.LINK,[Be.REL,Be.HREF],t),metaTags:Vo(he.META,[Be.NAME,Be.CHARSET,Be.HTTPEQUIV,Be.PROPERTY,Be.ITEM_PROP],t),noscriptTags:Vo(he.NOSCRIPT,[Be.INNER_HTML],t),onChangeClientState:qR(t),scriptTags:Vo(he.SCRIPT,[Be.SRC,Be.INNER_HTML],t),styleTags:Vo(he.STYLE,[Be.CSS_TEXT],t),title:HR(t),titleAttributes:Pf(Gs.TITLE,t)}},cm=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){cm(t)},0)}}(),yx=function(t){return clearTimeout(t)},YR=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||cm:global.requestAnimationFrame||cm,XR=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||yx:global.cancelAnimationFrame||yx,QR=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Uo=null,JR=function(t){Uo&&XR(Uo),t.defer?Uo=YR(function(){xx(t,function(){Uo=null})}):(xx(t),Uo=null)},xx=function(t,r){var n=t.baseTag,s=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,h=t.title,p=t.titleAttributes;um(he.BODY,s),um(he.HTML,i),ZR(h,p);var w={baseTag:xi(he.BASE,n),linkTags:xi(he.LINK,o),metaTags:xi(he.META,l),noscriptTags:xi(he.NOSCRIPT,c),scriptTags:xi(he.SCRIPT,d),styleTags:xi(he.STYLE,f)},v={},b={};Object.keys(w).forEach(function(y){var g=w[y],x=g.newTags,j=g.oldTags;x.length&&(v[y]=x),j.length&&(b[y]=w[y].oldTags)}),r&&r(),u(t,v,b)},I1=function(t){return Array.isArray(t)?t.join(""):t},ZR=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=I1(t)),um(he.TITLE,r)},um=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var s=n.getAttribute(Nr),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(Nr):n.getAttribute(Nr)!==l.join(",")&&n.setAttribute(Nr,l.join(","))}},xi=function(t,r){var n=document.head||document.querySelector(he.HEAD),s=n.querySelectorAll(t+"["+Nr+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===Be.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Be.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(Nr,"true"),i.some(function(h,p){return l=p,u.isEqualNode(h)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},L1=function(t){return Object.keys(t).reduce(function(r,n){var s=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+s:s},"")},eO=function(t,r,n,s){var i=L1(n),o=I1(r);return i?"<"+t+" "+Nr+'="true" '+i+">"+lm(o,s)+"</"+t+">":"<"+t+" "+Nr+'="true">'+lm(o,s)+"</"+t+">"},tO=function(t,r,n){return r.reduce(function(s,i){var o=Object.keys(i).filter(function(u){return!(u===Be.INNER_HTML||u===Be.CSS_TEXT)}).reduce(function(u,d){var f=typeof i[d]>"u"?d:d+'="'+lm(i[d],n)+'"';return u?u+" "+f:f},""),l=i.innerHTML||i.cssText||"",c=$R.indexOf(t)===-1;return s+"<"+t+" "+Nr+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},F1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[cu[s]||s]=t[s],n},r)},rO=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[FR[s]||s]=t[s],n},r)},nO=function(t,r,n){var s,i=(s={key:r},s[Nr]=!0,s),o=F1(n,i);return[Z.createElement(he.TITLE,o,r)]},sO=function(t,r){return r.map(function(n,s){var i,o=(i={key:s},i[Nr]=!0,i);return Object.keys(n).forEach(function(l){var c=cu[l]||l;if(c===Be.INNER_HTML||c===Be.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Z.createElement(t,o)})},cn=function(t,r,n){switch(t){case he.TITLE:return{toComponent:function(){return nO(t,r.title,r.titleAttributes)},toString:function(){return eO(t,r.title,r.titleAttributes,n)}};case Gs.BODY:case Gs.HTML:return{toComponent:function(){return F1(r)},toString:function(){return L1(r)}};default:return{toComponent:function(){return sO(t,r)},toString:function(){return tO(t,r,n)}}}},$1=function(t){var r=t.baseTag,n=t.bodyAttributes,s=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,h=f===void 0?"":f,p=t.titleAttributes;return{base:cn(he.BASE,r,s),bodyAttributes:cn(Gs.BODY,n,s),htmlAttributes:cn(Gs.HTML,i,s),link:cn(he.LINK,o,s),meta:cn(he.META,l,s),noscript:cn(he.NOSCRIPT,c,s),script:cn(he.SCRIPT,u,s),style:cn(he.STYLE,d,s),title:cn(he.TITLE,{title:h,titleAttributes:p},s)}},iO=function(t){var r,n;return n=r=function(s){zR(i,s);function i(){return UR(this,i),WR(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!AR(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case he.SCRIPT:case he.NOSCRIPT:return{innerHTML:c};case he.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,h=l.nestedChildren;return It({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[It({},f,this.mapNestedChildrenToProps(u,h))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,h=l.newChildProps,p=l.nestedChildren;switch(d.type){case he.TITLE:return It({},f,(c={},c[d.type]=p,c.titleAttributes=It({},h),c));case he.BODY:return It({},f,{bodyAttributes:It({},h)});case he.HTML:return It({},f,{htmlAttributes:It({},h)})}return It({},f,(u={},u[d.type]=It({},h),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=It({},c);return Object.keys(l).forEach(function(d){var f;u=It({},u,(f={},f[d]=l[d],f))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Z.Children.forEach(l,function(f){if(!(!f||!f.props)){var h=f.props,p=h.children,w=vx(h,["children"]),v=rO(w);switch(u.warnOnInvalidChildren(f,p),f.type){case he.LINK:case he.META:case he.NOSCRIPT:case he.SCRIPT:case he.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:v,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:v,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=vx(l,["children"]),d=It({},u);return c&&(d=this.mapChildrenToProps(c,d)),Z.createElement(t,d)},BR(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(Z.Component),r.propTypes={base:Ve.object,bodyAttributes:Ve.object,children:Ve.oneOfType([Ve.arrayOf(Ve.node),Ve.node]),defaultTitle:Ve.string,defer:Ve.bool,encodeSpecialCharacters:Ve.bool,htmlAttributes:Ve.object,link:Ve.arrayOf(Ve.object),meta:Ve.arrayOf(Ve.object),noscript:Ve.arrayOf(Ve.object),onChangeClientState:Ve.func,script:Ve.arrayOf(Ve.object),style:Ve.arrayOf(Ve.object),title:Ve.string,titleAttributes:Ve.object,titleTemplate:Ve.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var s=t.rewind();return s||(s=$1({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},n},oO=function(){return null},aO=CR(KR,JR,$1)(oO),tn=iO(aO);tn.renderStatic=tn.rewind;const lO="modulepreload",cO=function(e){return"/"+e},wx={},ul=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=cO(i),i in wx)return;wx[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":lO,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},uO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ul(()=>Promise.resolve().then(()=>ud),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class dg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class dO extends dg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bx extends dg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jx extends dg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dm||(dm={}));var fO=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class hO{constructor(t,{headers:r={},customFetch:n,region:s=dm.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=uO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return fO(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new dO(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new bx(f);if(!f.ok)throw new jx(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield f.json():p==="application/octet-stream"?w=yield f.blob():p==="text/event-stream"?w=f:p==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof jx||s instanceof bx?s.context:void 0}}})}}var $t={},fg={},ad={},dl={},ld={},cd={},mO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},co=mO();const pO=co.fetch,gO=co.fetch.bind(co),vO=co.Headers,yO=co.Request,xO=co.Response,ud=Object.freeze(Object.defineProperty({__proto__:null,Headers:vO,Request:yO,Response:xO,default:gO,fetch:pO},Symbol.toStringTag,{value:"Module"})),wO=BP(ud);var dd={};Object.defineProperty(dd,"__esModule",{value:!0});let bO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dd.default=bO;var V1=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cd,"__esModule",{value:!0});const jO=V1(wO),SO=V1(dd);let _O=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=jO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,p=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(f=[],d=null,p=200,w="OK")}catch{i.status===404&&b===""?(p=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,w="OK"),d&&this.shouldThrowOnError)throw new SO.default(d)}return{error:d,data:f,count:h,status:p,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};cd.default=_O;var CO=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ld,"__esModule",{value:!0});const EO=CO(cd);let NO=class extends EO.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ld.default=NO;var kO=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dl,"__esModule",{value:!0});const PO=kO(ld);let TO=class extends PO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};dl.default=TO;var AO=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});const Bo=AO(dl);let RO=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Bo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Bo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Bo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Bo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Bo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ad.default=RO;var U1=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fg,"__esModule",{value:!0});const OO=U1(ad),MO=U1(dl);let DO=class B1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new OO.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new B1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new MO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};fg.default=DO;var _o=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($t,"__esModule",{value:!0});$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const z1=_o(fg);$t.PostgrestClient=z1.default;const W1=_o(ad);$t.PostgrestQueryBuilder=W1.default;const H1=_o(dl);$t.PostgrestFilterBuilder=H1.default;const q1=_o(ld);$t.PostgrestTransformBuilder=q1.default;const G1=_o(cd);$t.PostgrestBuilder=G1.default;const K1=_o(dd);$t.PostgrestError=K1.default;var IO=$t.default={PostgrestClient:z1.default,PostgrestQueryBuilder:W1.default,PostgrestFilterBuilder:H1.default,PostgrestTransformBuilder:q1.default,PostgrestBuilder:G1.default,PostgrestError:K1.default};const{PostgrestClient:LO,PostgrestQueryBuilder:a7,PostgrestFilterBuilder:l7,PostgrestTransformBuilder:c7,PostgrestBuilder:u7,PostgrestError:d7}=IO;class FO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $O="2.15.5",VO=`realtime-js/${$O}`,UO="1.0.0",fm=1e4,BO=1e3,zO=100;var ma;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ma||(ma={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var jr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jr||(jr={}));var hm;(function(e){e.websocket="websocket"})(hm||(hm={}));var Is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Is||(Is={}));class WO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Y1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const Sx=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=HO(o,e,t,s),i),{})},HO=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?X1(i,o):mm(o)},X1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YO(t,r)}switch(e){case Me.bool:return qO(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return GO(t);case Me.json:case Me.jsonb:return KO(t);case Me.timestamp:return XO(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return mm(t);default:return mm(t)}},mm=e=>e,qO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>X1(t,l))}return e},XO=e=>typeof e=="string"?e.replace(" ","T"):e,Q1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Tf{constructor(t,r,n={},s=fm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _x;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_x||(_x={}));class pa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pa.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=pa.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pa.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),w=d.filter(b=>p.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cx||(Cx={}));var ga;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ga||(ga={}));var mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));class hg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tf(this,jr.join,this.params,this.timeout),this.rejoinTimer=new Y1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new pa(this),this.broadcastEndpointURL=Q1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ga.PRESENCE]&&this.bindings[ga.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(mn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t(mn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,y=[];for(let g=0;g<b;g++){const x=v[g],{filter:{event:j,schema:S,table:P,filter:k}}=x,N=p&&p[g];if(N&&N.event===j&&N.schema===S&&N.table===P&&N.filter===k)y.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(mn.SUBSCRIBED);return}}).receive("error",p=>{this.state=at.errored,t==null||t(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===at.joined&&t===ga.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Tf(this,jr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Tf(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=jr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,v,b,y,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,S=(w=p.filter)===null||w===void 0?void 0:w.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:b,commit_timestamp:y,type:g,errors:x}=w;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(h,n)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hg.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jr.close,{},t)}_onError(t){this._on(jr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Sx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Sx(t.columns,t.old_record)),r}}const Af=()=>{},Xl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QO=[1e3,2e3,5e3,1e4],JO=1e4,ZO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fm,this.transport=null,this.heartbeatIntervalMs=Xl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Af,this.ref=0,this.reconnectTimer=null,this.logger=Af,this.conn=null,this.sendBuffer=[],this.serializer=new WO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ul(()=>import("./index-906f2cab.js"),[]).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${hm.websocket}`,this.httpEndpoint=Q1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UO}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ma.connecting:return Is.Connecting;case ma.open:return Is.Open;case ma.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new hg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(BO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ZO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:VO};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(jr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Y1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:fm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Af,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>QO[f-1]||JO,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class mg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tM extends mg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pm extends mg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rM=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const J1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ul(()=>Promise.resolve().then(()=>ud),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nM=()=>rM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ul(()=>Promise.resolve().then(()=>ud),void 0)).Response:Response}),gm=e=>{if(Array.isArray(e))return e.map(r=>gm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=gm(n)}),t},sM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Rf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iM=(e,t,r)=>fi(void 0,void 0,void 0,function*(){const n=yield nM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new tM(Rf(s),i,o))}).catch(s=>{t(new pm(Rf(s),s))}):t(new pm(Rf(e),e))}),oM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(sM(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function fl(e,t,r,n,s,i){return fi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,oM(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>iM(c,l,n))})})}function uu(e,t,r,n){return fi(this,void 0,void 0,function*(){return fl(e,"GET",t,r,n)})}function zr(e,t,r,n,s){return fi(this,void 0,void 0,function*(){return fl(e,"POST",t,n,s,r)})}function vm(e,t,r,n,s){return fi(this,void 0,void 0,function*(){return fl(e,"PUT",t,n,s,r)})}function aM(e,t,r,n){return fi(this,void 0,void 0,function*(){return fl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Z1(e,t,r,n,s){return fi(this,void 0,void 0,function*(){return fl(e,"DELETE",t,n,s,r)})}var _t=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ex={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cM{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=J1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return _t(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ex),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?vm:zr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return _t(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ex.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield vm(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return _t(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield zr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new mg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _t(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield zr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return _t(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield zr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return _t(this,void 0,void 0,function*(){try{const s=yield zr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}download(t,r){return _t(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield uu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}info(t){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(t){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof pm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return _t(this,void 0,void 0,function*(){try{return{data:yield Z1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return _t(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lM),r),{prefix:t||""});return{data:yield zr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}listV2(t,r){return _t(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield zr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uM="2.12.0",dM={"X-Client-Info":`storage-js/${uM}`};var wi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class fM{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},dM),r),this.fetch=J1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return wi(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return wi(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return wi(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return wi(this,void 0,void 0,function*(){try{return{data:yield vm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return wi(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return wi(this,void 0,void 0,function*(){try{return{data:yield Z1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class hM extends fM{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new cM(this.url,this.headers,t,this.fetch)}}const mM="2.30.0",pM={"X-Client-Info":`supabase-js/${mM}`};var ym={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jt<"u"&&jt,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof jt<"u"&&jt||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(E){return E&&d.indexOf(Object.prototype.toString.call(E))>-1};function h(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function p(E){return typeof E!="string"&&(E=String(E)),E}function w(E){var _={next:function(){var R=E.shift();return{done:R===void 0,value:R}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function v(E){this.map={},E instanceof v?E.forEach(function(_,R){this.append(R,_)},this):Array.isArray(E)?E.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(_){this.append(_,E[_])},this)}v.prototype.append=function(E,_){E=h(E),_=p(_);var R=this.map[E];this.map[E]=R?R+", "+_:_},v.prototype.delete=function(E){delete this.map[h(E)]},v.prototype.get=function(E){return E=h(E),this.has(E)?this.map[E]:null},v.prototype.has=function(E){return this.map.hasOwnProperty(h(E))},v.prototype.set=function(E,_){this.map[h(E)]=p(_)},v.prototype.forEach=function(E,_){for(var R in this.map)this.map.hasOwnProperty(R)&&E.call(_,this.map[R],R,this)},v.prototype.keys=function(){var E=[];return this.forEach(function(_,R){E.push(R)}),w(E)},v.prototype.values=function(){var E=[];return this.forEach(function(_){E.push(_)}),w(E)},v.prototype.entries=function(){var E=[];return this.forEach(function(_,R){E.push([R,_])}),w(E)},c.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function b(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function y(E){return new Promise(function(_,R){E.onload=function(){_(E.result)},E.onerror=function(){R(E.error)}})}function g(E){var _=new FileReader,R=y(_);return _.readAsArrayBuffer(E),R}function x(E){var _=new FileReader,R=y(_),C=/charset=([A-Za-z0-9_-]+)/.exec(E.type),A=C?C[1]:"utf-8";return _.readAsText(E,A),R}function j(E){for(var _=new Uint8Array(E),R=new Array(_.length),C=0;C<_.length;C++)R[C]=String.fromCharCode(_[C]);return R.join("")}function S(E){if(E.slice)return E.slice(0);var _=new Uint8Array(E.byteLength);return _.set(new Uint8Array(E)),_.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&u(E)?(this._bodyArrayBuffer=S(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||f(E))?this._bodyArrayBuffer=S(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=b(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=b(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=b(this);if(E)return E;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(E){var _=E.toUpperCase();return k.indexOf(_)>-1?_:E}function F(E,_){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var R=_.body;if(E instanceof F){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,_.headers||(this.headers=new v(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!R&&E._bodyInit!=null&&(R=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new v(_.headers)),this.method=N(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in l){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var C=/([?&])_=[^&]*/;if(C.test(this.url))this.url=this.url.replace(C,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function O(E){var _=new FormData;return E.trim().split("&").forEach(function(R){if(R){var C=R.split("="),A=C.shift().replace(/\+/g," "),D=C.join("=").replace(/\+/g," ");_.append(decodeURIComponent(A),decodeURIComponent(D))}}),_}function V(E){var _=new v,R=E.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(C){return C.indexOf(`
`)===0?C.substr(1,C.length):C}).forEach(function(C){var A=C.split(":"),D=A.shift().trim();if(D){var H=A.join(":").trim();try{_.append(D,H)}catch(ne){console.warn("Response "+ne.message)}}}),_}P.call(F.prototype);function I(E,_){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new v(_.headers),this.url=_.url||"",this._initBody(E)}P.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},I.error=function(){var E=new I(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var W=[301,302,303,307,308];I.redirect=function(E,_){if(W.indexOf(_)===-1)throw new RangeError("Invalid status code");return new I(null,{status:_,headers:{location:E}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,R){this.message=_,this.name=R;var C=Error(_);this.stack=C.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(E,_){return new Promise(function(R,C){var A=new F(E,_);if(A.signal&&A.signal.aborted)return C(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function H(){D.abort()}D.onload=function(){var ee={statusText:D.statusText,headers:V(D.getAllResponseHeaders()||"")};A.url.indexOf("file://")===0&&(D.status<200||D.status>599)?ee.status=200:ee.status=D.status,ee.url="responseURL"in D?D.responseURL:ee.headers.get("X-Request-URL");var Se="response"in D?D.response:D.responseText;setTimeout(function(){R(new I(Se,ee))},0)},D.onerror=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){C(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){C(new o.DOMException("Aborted","AbortError"))},0)};function ne(ee){try{return ee===""&&l.location.href?l.location.href:ee}catch{return ee}}if(D.open(A.method,ne(A.url),!0),A.credentials==="include"?D.withCredentials=!0:A.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(c.blob?D.responseType="blob":c.arrayBuffer&&(D.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof v||l.Headers&&_.headers instanceof l.Headers)){var q=[];Object.getOwnPropertyNames(_.headers).forEach(function(ee){q.push(h(ee)),D.setRequestHeader(ee,p(_.headers[ee]))}),A.headers.forEach(function(ee,Se){q.indexOf(Se)===-1&&D.setRequestHeader(Se,ee)})}else A.headers.forEach(function(ee,Se){D.setRequestHeader(Se,ee)});A.signal&&(A.signal.addEventListener("abort",H),D.onreadystatechange=function(){D.readyState===4&&A.signal.removeEventListener("abort",H)}),D.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return $.polyfill=!0,l.fetch||(l.fetch=$,l.Headers=v,l.Request=F,l.Response=I),o.Headers=v,o.Request=F,o.Response=I,o.fetch=$,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(ym,ym.exports);var pg=ym.exports;const eS=li(pg),gM=ub({__proto__:null,default:eS},[pg]);var vM=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const yM=e=>{let t;return e?t=e:typeof fetch>"u"?t=eS:t=fetch,(...r)=>t(...r)},xM=()=>typeof Headers>"u"?pg.Headers:Headers,wM=(e,t,r)=>{const n=yM(r),s=xM();return(i,o)=>vM(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function bM(e){return e.replace(/\/$/,"")}function jM(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i)}}function SM(e){return Math.round(Date.now()/1e3)+e}function _M(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fn=()=>typeof document<"u",Ns={tested:!1,writable:!1},Tc=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ns.tested)return Ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ns.tested=!0,Ns.writable=!0}catch{Ns.tested=!0,Ns.writable=!1}return Ns.writable};function Dt(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),s=n.exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const tS=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await ul(()=>Promise.resolve().then(()=>gM),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},CM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ql=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Of=async(e,t)=>{await e.removeItem(t)};function EM(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class fd{constructor(){this.promise=new fd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fd.promiseConstructor=Promise;function Nx(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(EM(n))}function NM(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function kM(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function PM(e){return("0"+e.toString(16)).substr(-2)}function Jl(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,PM).join("")}async function TM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function AM(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zl(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await TM(e);return AM(t)}const RM="__stack_guard__",OM="__",MM=/__stack_guard__([a-zA-Z0-9_-]+)__/;let kx=!1,gg;function xm(e){var t,r;gg();let n;try{throw new Error}catch(i){n=i}const s=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let i=0;i<s.length;i+=1){const l=s[i].match(MM);if(l&&l[1]===e)return!0}return!1}async function wm(e,t){await gg();const r=`${RM}${e}${OM}`;return await{[r]:async()=>await t()}[r]()}gg=async()=>{kx||(kx=!0,await wm("ENV_CHECK",async()=>{const e=xm("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class vg extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DM extends vg{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function IM(e){return be(e)&&e.name==="AuthApiError"}class rS extends vg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Co extends vg{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bi extends Co{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Mf extends Co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class ec extends Co{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class un extends Co{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Df extends Co{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bm extends Co{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function Px(e){return be(e)&&e.name==="AuthRetryableFetchError"}var LM=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FM=[502,503,504];async function Tx(e){if(!CM(e))throw new bm(ta(e),0);if(FM.includes(e.status))throw new bm(ta(e),e.status);let t;try{t=await e.json()}catch(r){throw new rS(ta(r),r)}throw new DM(ta(t),e.status||500)}const $M=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ce(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await VM(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function VM(e,t,r,n,s,i){const o=$M(t,n,s,i);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new bm(ta(c),0)}if(l.ok||await Tx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Tx(c)}}function Ln(e){var t;let r=null;WM(e)&&(r=Object.assign({},e),r.expires_at=SM(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UM(e){return{data:e,error:null}}function BM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=LM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function zM(e){return e}function WM(e){return e.access_token&&e.refresh_token&&e.expires_in}var HM=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class qM{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ls})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=HM(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:BM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ls})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zM});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ls})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ls})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ls})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}const GM="2.43.1",KM="http://localhost:9999",YM="supabase.auth.token",XM={"X-Client-Info":`gotrue-js/${GM}`},Ax=10,Rx={getItem:e=>Tc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Tc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Tc()&&globalThis.localStorage.removeItem(e)}};function QM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}QM();const JM={url:KM,storageKey:YM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XM,flowType:"implicit",debug:!1},tc=30*1e3,Ox=3;class Wa{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=Wa.nextInstanceID,Wa.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},JM),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||Rx,this.admin=new qM({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tS(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===Rx&&!Tc()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=wm("_initialize",async()=>{try{const t=fn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return be(t)?{error:t}:{error:new rS("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,s;try{await this._removeSession();let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,w=null;if(this.flowType==="pkce"){const v=Jl();await zo(this.storage,`${this.storageKey}-code-verifier`,v),p=await Zl(v),w=v===p?"plain":"s256"}i=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:Ln})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ln})}else throw new ec("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ln})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ln})}else throw new ec("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Mf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:s})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:s}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ln});return await Of(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Mf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ln}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Mf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const h=Jl();await zo(this.storage,`${this.storageKey}-code-verifier`,h),u=await Zl(h),d=h===u?"plain":"s256"}const{error:f}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ec("You must provide either an email or phone number.")}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:s,error:i}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:Ln});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{return await this._removeSession(),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:UM})}catch(i){if(be(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bi;const{error:s}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ec("You must provide either an email or phone number and a type")}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await wm("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!xm("_useSession"))throw new Error("Please use #_useSession()");xm("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await Ql(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,s;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0}return await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ls})})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new bi;const o=s.session,{data:l,error:c}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:Ls});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Nx(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bi;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Nx(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bi;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!fn())throw new un("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new un("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Df("Not a valid PKCE flow url.");if(t){const b=Dt("code");if(!b)throw new Df("No code detected.");const{data:y,error:g}=await this.exchangeCodeForSession(b);if(g)throw g;if(!y.session)throw new Df("No session detected.");let x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const r=Dt("error_description");if(r){const b=Dt("error_code");if(!b)throw new un("No error_code detected.");const y=Dt("error");throw y?new un(r,{error:y,code:b}):new un("No error detected.")}const n=Dt("provider_token"),s=Dt("provider_refresh_token"),i=Dt("access_token");if(!i)throw new un("No access_token detected.");const o=Dt("expires_in");if(!o)throw new un("No expires_in detected.");const l=Dt("refresh_token");if(!l)throw new un("No refresh_token detected.");const c=Dt("token_type");if(!c)throw new un("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:f,error:h}=await this.getUser(i);if(h)throw h;const p=f.user,w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:parseInt(o),expires_at:d,refresh_token:l,token_type:c,user:p},v=Dt("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:w,redirectType:v},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return fn()&&(!!Dt("access_token")||!!Dt("error_description"))}async _isPKCEFlow(){const t=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!Dt("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(IM(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Of(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=_M(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;if(this.flowType==="pkce"){const i=Jl();await zo(this.storage,`${this.storageKey}-code-verifier`,i),n=await Zl(i),s=i===n?"plain":"s256"}try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kM(async s=>(await NM(s*200),this._debug(r,"refreshing attempt",s),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ln})),(s,i,o)=>o&&o.error&&Px(o.error)&&Date.now()+(s+1)*200-n<tc)}catch(n){if(this._debug(r,"error",n),be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),fn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ql(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Ax;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ax}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Px(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),be(i)){const o={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),zo(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Of(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/tc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tc}ms, refresh threshold is ${Ox} ticks`),s<=Ox&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const s=Jl();await zo(this.storage,`${this.storageKey}-code-verifier`,s);const i=await Zl(s),o=s===i?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);n.push(s.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}Wa.nextInstanceID=0;class ZM extends Wa{constructor(t){super(t)}}var eD=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const tD={headers:pM},rD={schema:"public"},nD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sD={};class iD{constructor(t,r,n){var s,i,o,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=bM(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:rD,realtime:sD,auth:Object.assign(Object.assign({},nD),{storageKey:p}),global:tD},v=jM(n??{},w);this.storageKey=(i=(s=v.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=v.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,(u=v.global)===null||u===void 0?void 0:u.fetch),this.fetch=wM(r,this._getAccessToken.bind(this),(d=v.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new LO(`${h}/rest/v1`,{headers:this.headers,schema:(f=v.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new hO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hM(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eD(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZM({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new eM(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oD=(e,t,r)=>new iD(e,t,r),aD="https://fpjabzhhwwlhgrnhmnby.supabase.co",lD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZwamFiemhod3dsaGdybmhtbmJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NjcxNzgsImV4cCI6MjA3MjA0MzE3OH0.m5i-rU7D46cJnmZAaXV6DzSL3LSKgTyZ0aTwxlGh65w",B=oD(aD,lD),cD=1;let If=0;function uD(){return If=(If+1)%Number.MAX_VALUE,If.toString()}const Ct={state:{toasts:[]},listeners:[],getState:()=>Ct.state,setState:e=>{typeof e=="function"?Ct.state=e(Ct.state):Ct.state={...Ct.state,...e},Ct.listeners.forEach(t=>t(Ct.state))},subscribe:e=>(Ct.listeners.push(e),()=>{Ct.listeners=Ct.listeners.filter(t=>t!==e)})},dD=({...e})=>{const t=uD(),r=s=>Ct.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...s}:o)})),n=()=>Ct.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==t)}));return Ct.setState(s=>({...s,toasts:[{...e,id:t,dismiss:n},...s.toasts].slice(0,cD)})),{id:t,dismiss:n,update:r}};function ot(){const[e,t]=m.useState(Ct.getState());return m.useEffect(()=>Ct.subscribe(n=>{t(n)}),[]),m.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const s=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(s)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:dD,toasts:e.toasts}}const nS=m.createContext(void 0),fD=({children:e})=>{const{toast:t}=ot(),[r,n]=m.useState(null),[s,i]=m.useState(!0);m.useEffect(()=>{let d=!1;(async()=>{const{data:{session:p}}=await B.auth.getSession();d||(n(p),i(!1))})();const{data:{subscription:h}}=B.auth.onAuthStateChange((p,w)=>{n(w)});return()=>{d=!0,h.unsubscribe()}},[]);const o=m.useCallback(async(d,f,h)=>{const{data:p,error:w}=await B.auth.signUp({email:d,password:f,options:{...h,emailRedirectTo:`${window.location.origin}/`}});return w&&t({variant:"destructive",title:"Sign up Failed",description:w.message||"Something went wrong"}),{data:p,error:w}},[t]),l=m.useCallback(async(d,f)=>{const{data:h,error:p}=await B.auth.signInWithPassword({email:d,password:f});return p&&t({variant:"destructive",title:"Sign in Failed",description:p.message||"Something went wrong"}),{data:h,error:p}},[t]),c=m.useCallback(async()=>{const{error:d}=await B.auth.signOut();return d&&t({variant:"destructive",title:"Sign out Failed",description:d.message||"Something went wrong"}),{error:d}},[t]),u=m.useMemo(()=>({user:(r==null?void 0:r.user)??null,session:r,loading:s,signUp:o,signIn:l,signOut:c}),[r,s,o,l,c]);return a.jsx(nS.Provider,{value:u,children:e})},On=()=>{const e=m.useContext(nS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},yg=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),hd=m.createContext({}),md=m.createContext(null),pd=typeof document<"u",gd=pd?m.useLayoutEffect:m.useEffect,sS=m.createContext({strict:!1}),xg=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),hD="framerAppearId",iS="data-"+xg(hD);function mD(e,t,r,n){const{visualElement:s}=m.useContext(hd),i=m.useContext(sS),o=m.useContext(md),l=m.useContext(yg).reducedMotion,c=m.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(r,o)});const d=m.useRef(!!(r[iS]&&!window.HandoffComplete));return gd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Vi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pD(e,t,r){return m.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Vi(r)&&(r.current=n))},[t])}function Ha(e){return typeof e=="string"||Array.isArray(e)}function vd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bg=["initial",...wg];function yd(e){return vd(e.animate)||bg.some(t=>Ha(e[t]))}function oS(e){return!!(yd(e)||e.variants)}function gD(e,t){if(yd(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ha(r)?r:void 0,animate:Ha(n)?n:void 0}}return e.inherit!==!1?t:{}}function vD(e){const{initial:t,animate:r}=gD(e,m.useContext(hd));return m.useMemo(()=>({initial:t,animate:r}),[Mx(t),Mx(r)])}function Mx(e){return Array.isArray(e)?e.join(" "):e}const Dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qa={};for(const e in Dx)qa[e]={isEnabled:t=>Dx[e].some(r=>!!t[r])};function yD(e){for(const t in e)qa[t]={...qa[t],...e[t]}}const jg=m.createContext({}),aS=m.createContext({}),xD=Symbol.for("motionComponentSymbol");function wD({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&yD(e);function i(l,c){let u;const d={...m.useContext(yg),...l,layoutId:bD(l)},{isStatic:f}=d,h=vD(l),p=n(l,f);if(!f&&pd){h.visualElement=mD(s,p,d,t);const w=m.useContext(aS),v=m.useContext(sS).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,e,w))}return m.createElement(hd.Provider,{value:h},u&&h.visualElement?m.createElement(u,{visualElement:h.visualElement,...d}):null,r(s,l,pD(p,h.visualElement,c),p,f,h.visualElement))}const o=m.forwardRef(i);return o[xD]=s,o}function bD({layoutId:e}){const t=m.useContext(jg).id;return t&&e!==void 0?t+"-"+e:e}function jD(e){function t(n,s={}){return wD(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const SD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sg(e){return typeof e!="string"||e.includes("-")?!1:!!(SD.indexOf(e)>-1||/[A-Z]/.test(e))}const du={};function _D(e){Object.assign(du,e)}const hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hi=new Set(hl);function lS(e,{layout:t,layoutId:r}){return hi.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!du[e]||e==="opacity")}const Tt=e=>!!(e&&e.getVelocity),CD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ED=hl.length;function ND(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<ED;o++){const l=hl[o];if(e[l]!==void 0){const c=CD[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const cS=e=>t=>typeof t=="string"&&t.startsWith(e),uS=cS("--"),jm=cS("var(--"),kD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,PD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ms=(e,t,r)=>Math.min(Math.max(r,e),t),mi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},va={...mi,transform:e=>ms(0,1,e)},rc={...mi,default:1},ya=e=>Math.round(e*1e5)/1e5,xd=/(-)?([\d]*\.?[\d])+/g,dS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,TD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ml(e){return typeof e=="string"}const pl=e=>({test:t=>ml(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vn=pl("deg"),Zr=pl("%"),ue=pl("px"),AD=pl("vh"),RD=pl("vw"),Ix={...Zr,parse:e=>Zr.parse(e)/100,transform:e=>Zr.transform(e*100)},Lx={...mi,transform:Math.round},fS={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,size:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,rotate:Vn,rotateX:Vn,rotateY:Vn,rotateZ:Vn,scale:rc,scaleX:rc,scaleY:rc,scaleZ:rc,skew:Vn,skewX:Vn,skewY:Vn,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:va,originX:Ix,originY:Ix,originZ:ue,zIndex:Lx,fillOpacity:va,strokeOpacity:va,numOctaves:Lx};function _g(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(uS(f)){i[f]=h;continue}const p=fS[f],w=PD(h,p);if(hi.has(f)){if(c=!0,o[f]=w,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=w):s[f]=w}if(t.transform||(c||n?s.transform=ND(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const Cg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hS(e,t,r){for(const n in t)!Tt(t[n])&&!lS(n,r)&&(e[n]=t[n])}function OD({transformTemplate:e},t,r){return m.useMemo(()=>{const n=Cg();return _g(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function MD(e,t,r){const n=e.style||{},s={};return hS(s,n,e),Object.assign(s,OD(e,t,r)),e.transformValues?e.transformValues(s):s}function DD(e,t,r){const n={},s=MD(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const ID=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ID.has(e)}let mS=e=>!fu(e);function LD(e){e&&(mS=t=>t.startsWith("on")?!fu(t):e(t))}try{LD(require("@emotion/is-prop-valid").default)}catch{}function FD(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(mS(s)||r===!0&&fu(s)||!t&&!fu(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Fx(e,t,r){return typeof e=="string"?e:ue.transform(t+r*e)}function $D(e,t,r){const n=Fx(t,e.x,e.width),s=Fx(r,e.y,e.height);return`${n} ${s}`}const VD={offset:"stroke-dashoffset",array:"stroke-dasharray"},UD={offset:"strokeDashoffset",array:"strokeDasharray"};function BD(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?VD:UD;e[i.offset]=ue.transform(-n);const o=ue.transform(t),l=ue.transform(r);e[i.array]=`${o} ${l}`}function Eg(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(_g(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:v}=e;p.transform&&(v&&(w.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=$D(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&BD(p,o,l,c,!1)}const pS=()=>({...Cg(),attrs:{}}),Ng=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zD(e,t,r,n){const s=m.useMemo(()=>{const i=pS();return Eg(i,t,{enableHardwareAcceleration:!1},Ng(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};hS(i,e.style,e),s.style={...i,...s.style}}return s}function WD(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(Sg(r)?zD:DD)(n,i,o,r),d={...FD(n,typeof r=="string",e),...c,ref:s},{children:f}=n,h=m.useMemo(()=>Tt(f)?f.get():f,[f]);return m.createElement(r,{...d,children:h})}}function gS(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const vS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yS(e,t,r,n){gS(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(vS.has(s)?s:xg(s),t.attrs[s])}function kg(e,t){const{style:r}=e,n={};for(const s in r)(Tt(r[s])||t.style&&Tt(t.style[s])||lS(s,e))&&(n[s]=r[s]);return n}function xS(e,t){const r=kg(e,t);for(const n in e)if(Tt(e[n])||Tt(t[n])){const s=hl.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function Pg(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Eo(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const hu=e=>Array.isArray(e),HD=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qD=e=>hu(e)?e[e.length-1]||0:e;function Ac(e){const t=Tt(e)?e.get():e;return HD(t)?t.toValue():t}function GD({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:KD(n,s,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const wS=e=>(t,r)=>{const n=m.useContext(hd),s=m.useContext(md),i=()=>GD(e,t,n,s);return r?i():Eo(i)};function KD(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Ac(i[h]);let{initial:o,animate:l}=e;const c=yd(e),u=oS(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!vd(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const w=Pg(e,p);if(!w)return;const{transitionEnd:v,transition:b,...y}=w;for(const g in y){let x=y[g];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[g]=x)}for(const g in v)s[g]=v[g]}),s}const Xe=e=>e;class $x{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function YD(e){let t=new $x,r=new $x,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const nc=["prepare","read","update","preRender","render","postRender"],XD=40;function QD(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=nc.reduce((f,h)=>(f[h]=YD(()=>r=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(f-s.timestamp,XD),1),s.timestamp=f,s.isProcessing=!0,nc.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:nc.reduce((f,h)=>{const p=i[h];return f[h]=(w,v=!1,b=!1)=>(r||c(),p.schedule(w,v,b)),f},{}),cancel:f=>nc.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:Re,cancel:rn,state:wt,steps:Lf}=QD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0),JD={useVisualState:wS({scrapeMotionValuesFromProps:xS,createRenderState:pS,onMount:(e,t,{renderState:r,latestValues:n})=>{Re.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Re.render(()=>{Eg(r,n,{enableHardwareAcceleration:!1},Ng(t.tagName),e.transformTemplate),yS(t,r)})}})},ZD={useVisualState:wS({scrapeMotionValuesFromProps:kg,createRenderState:Cg})};function eI(e,{forwardMotionProps:t=!1},r,n){return{...Sg(e)?JD:ZD,preloadedFeatures:r,useRender:WD(t),createVisualElement:n,Component:e}}function yn(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const bS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function wd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const tI=e=>t=>bS(t)&&e(t,wd(t));function wn(e,t,r,n){return yn(e,t,tI(r),n)}const rI=(e,t)=>r=>t(e(r)),ls=(...e)=>e.reduce(rI);function jS(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Vx=jS("dragHorizontal"),Ux=jS("dragVertical");function SS(e){let t=!1;if(e==="y")t=Ux();else if(e==="x")t=Vx();else{const r=Vx(),n=Ux();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function _S(){const e=SS(!0);return e?(e(),!1):!0}class _s{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Bx(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||_S())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&Re.update(()=>l[n](i,o))};return wn(e.current,r,s,{passive:!e.getProps()[n]})}class nI extends _s{mount(){this.unmount=ls(Bx(this.node,!0),Bx(this.node,!1))}unmount(){}}class sI extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ls(yn(this.node.current,"focus",()=>this.onFocus()),yn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CS=(e,t)=>t?e===t?!0:CS(e,t.parentElement):!1;function Ff(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,wd(r))}class iI extends _s{constructor(){super(...arguments),this.removeStartListeners=Xe,this.removeEndListeners=Xe,this.removeAccessibleListeners=Xe,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=wn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Re.update(()=>{!f&&!CS(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=wn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ls(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ff("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Re.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=yn(this.node.current,"keyup",o),Ff("down",(l,c)=>{this.startPress(l,c)})},r=yn(this.node.current,"keydown",t),n=()=>{this.isPressing&&Ff("cancel",(i,o)=>this.cancelPress(i,o))},s=yn(this.node.current,"blur",n);this.removeAccessibleListeners=ls(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Re.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_S()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Re.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=wn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=yn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ls(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Sm=new WeakMap,$f=new WeakMap,oI=e=>{const t=Sm.get(e.target);t&&t(e)},aI=e=>{e.forEach(oI)};function lI({root:e,...t}){const r=e||document;$f.has(r)||$f.set(r,{});const n=$f.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(aI,{root:e,...t})),n[s]}function cI(e,t,r){const n=lI(t);return Sm.set(e,r),n.observe(e),()=>{Sm.delete(e),n.unobserve(e)}}const uI={some:0,all:1};class dI extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:uI[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return cI(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(fI(t,r))&&this.startObserver()}unmount(){}}function fI({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const hI={inView:{Feature:dI},tap:{Feature:iI},focus:{Feature:sI},hover:{Feature:nI}};function ES(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function mI(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function pI(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function bd(e,t,r){const n=e.getProps();return Pg(n,t,r!==void 0?r:n.custom,mI(e),pI(e))}let gI=Xe,Tg=Xe;const cs=e=>e*1e3,bn=e=>e/1e3,vI={current:!1},NS=e=>Array.isArray(e)&&typeof e[0]=="number";function kS(e){return!!(!e||typeof e=="string"&&PS[e]||NS(e)||Array.isArray(e)&&e.every(kS))}const ra=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,PS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ra([0,.65,.55,1]),circOut:ra([.55,0,1,.45]),backIn:ra([.31,.01,.66,-.59]),backOut:ra([.33,1.53,.69,.99])};function TS(e){if(e)return NS(e)?ra(e):Array.isArray(e)?e.map(TS):PS[e]}function yI(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=TS(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function xI(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const AS=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,wI=1e-7,bI=12;function jI(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=AS(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>wI&&++l<bI);return o}function gl(e,t,r,n){if(e===t&&r===n)return Xe;const s=i=>jI(i,0,1,e,r);return i=>i===0||i===1?i:AS(s(i),t,n)}const SI=gl(.42,0,1,1),_I=gl(0,0,.58,1),RS=gl(.42,0,.58,1),CI=e=>Array.isArray(e)&&typeof e[0]!="number",OS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MS=e=>t=>1-e(1-t),Ag=e=>1-Math.sin(Math.acos(e)),DS=MS(Ag),EI=OS(Ag),IS=gl(.33,1.53,.69,.99),Rg=MS(IS),NI=OS(Rg),kI=e=>(e*=2)<1?.5*Rg(e):.5*(2-Math.pow(2,-10*(e-1))),PI={linear:Xe,easeIn:SI,easeInOut:RS,easeOut:_I,circIn:Ag,circInOut:EI,circOut:DS,backIn:Rg,backInOut:NI,backOut:IS,anticipate:kI},zx=e=>{if(Array.isArray(e)){Tg(e.length===4);const[t,r,n,s]=e;return gl(t,r,n,s)}else if(typeof e=="string")return PI[e];return e},Og=(e,t)=>r=>!!(ml(r)&&TD.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),LS=(e,t,r)=>n=>{if(!ml(n))return n;const[s,i,o,l]=n.match(xd);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},TI=e=>ms(0,255,e),Vf={...mi,transform:e=>Math.round(TI(e))},Us={test:Og("rgb","red"),parse:LS("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Vf.transform(e)+", "+Vf.transform(t)+", "+Vf.transform(r)+", "+ya(va.transform(n))+")"};function AI(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const _m={test:Og("#"),parse:AI,transform:Us.transform},Ui={test:Og("hsl","hue"),parse:LS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Zr.transform(ya(t))+", "+Zr.transform(ya(r))+", "+ya(va.transform(n))+")"},Et={test:e=>Us.test(e)||_m.test(e)||Ui.test(e),parse:e=>Us.test(e)?Us.parse(e):Ui.test(e)?Ui.parse(e):_m.parse(e),transform:e=>ml(e)?e:e.hasOwnProperty("red")?Us.transform(e):Ui.transform(e)},We=(e,t,r)=>-r*e+r*t+e;function Uf(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function RI({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Uf(c,l,e+1/3),i=Uf(c,l,e),o=Uf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const Bf=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},OI=[_m,Us,Ui],MI=e=>OI.find(t=>t.test(e));function Wx(e){const t=MI(e);let r=t.parse(e);return t===Ui&&(r=RI(r)),r}const FS=(e,t)=>{const r=Wx(e),n=Wx(t),s={...r};return i=>(s.red=Bf(r.red,n.red,i),s.green=Bf(r.green,n.green,i),s.blue=Bf(r.blue,n.blue,i),s.alpha=We(r.alpha,n.alpha,i),Us.transform(s))};function DI(e){var t,r;return isNaN(e)&&ml(e)&&(((t=e.match(xd))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(dS))===null||r===void 0?void 0:r.length)||0)>0}const $S={regex:kD,countKey:"Vars",token:"${v}",parse:Xe},VS={regex:dS,countKey:"Colors",token:"${c}",parse:Et.parse},US={regex:xd,countKey:"Numbers",token:"${n}",parse:mi.parse};function zf(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function mu(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&zf(r,$S),zf(r,VS),zf(r,US),r}function BS(e){return mu(e).values}function zS(e){const{values:t,numColors:r,numVars:n,tokenised:s}=mu(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<n?l=l.replace($S.token,o[c]):c<n+r?l=l.replace(VS.token,Et.transform(o[c])):l=l.replace(US.token,ya(o[c]));return l}}const II=e=>typeof e=="number"?0:e;function LI(e){const t=BS(e);return zS(e)(t.map(II))}const ps={test:DI,parse:BS,createTransformer:zS,getAnimatableNone:LI},WS=(e,t)=>r=>`${r>0?t:e}`;function HS(e,t){return typeof e=="number"?r=>We(e,t,r):Et.test(e)?FS(e,t):e.startsWith("var(")?WS(e,t):GS(e,t)}const qS=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>HS(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},FI=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=HS(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},GS=(e,t)=>{const r=ps.createTransformer(t),n=mu(e),s=mu(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?ls(qS(n.values,s.values),r):WS(e,t)},Ga=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Hx=(e,t)=>r=>We(e,t,r);function $I(e){return typeof e=="number"?Hx:typeof e=="string"?Et.test(e)?FS:GS:Array.isArray(e)?qS:typeof e=="object"?FI:Hx}function VI(e,t,r){const n=[],s=r||$I(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Xe:t;l=ls(c,l)}n.push(l)}return n}function Mg(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Tg(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=VI(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Ga(e[d],e[d+1],u);return o[d](f)};return r?u=>c(ms(e[0],e[i-1],u)):c}function UI(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ga(0,t,n);e.push(We(r,1,s))}}function BI(e){const t=[0];return UI(t,e.length-1),t}function zI(e,t){return e.map(r=>r*t)}function WI(e,t){return e.map(()=>t||RS).splice(0,e.length-1)}function pu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=CI(n)?n.map(zx):zx(n),i={done:!1,value:t[0]},o=zI(r&&r.length===t.length?r:BI(t),e),l=Mg(o,t,{ease:Array.isArray(s)?s:WI(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function KS(e,t){return t?e*(1e3/t):0}const HI=5;function YS(e,t,r){const n=Math.max(t-HI,0);return KS(r-e(n),t-n)}const Wf=.001,qI=.01,qx=10,GI=.05,KI=1;function YI({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i;gI(e<=cs(qx));let o=1-t;o=ms(GI,KI,o),e=ms(qI,qx,bn(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,p=Cm(u,o),w=Math.exp(-f);return Wf-h/p*w},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-f),v=Cm(Math.pow(u,2),o);return(-s(u)+Wf>0?-1:1)*((h-p)*w)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Wf+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=QI(s,i,l);if(e=cs(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const XI=12;function QI(e,t,r){let n=r;for(let s=1;s<XI;s++)n=n-e(n)/t(n);return n}function Cm(e,t){return e*Math.sqrt(1-t*t)}const JI=["duration","bounce"],ZI=["stiffness","damping","mass"];function Gx(e,t){return t.some(r=>e[r]!==void 0)}function eL(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Gx(e,ZI)&&Gx(e,JI)){const r=YI(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function XS({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=eL({...n,velocity:-bn(n.velocity||0)}),p=f||0,w=c/(2*Math.sqrt(l*u)),v=i-s,b=bn(Math.sqrt(l/u)),y=Math.abs(v)<5;r||(r=y?.01:2),t||(t=y?.005:.5);let g;if(w<1){const x=Cm(b,w);g=j=>{const S=Math.exp(-w*b*j);return i-S*((p+w*b*v)/x*Math.sin(x*j)+v*Math.cos(x*j))}}else if(w===1)g=x=>i-Math.exp(-b*x)*(v+(p+b*v)*x);else{const x=b*Math.sqrt(w*w-1);g=j=>{const S=Math.exp(-w*b*j),P=Math.min(x*j,300);return i-S*((p+w*b*v)*Math.sinh(P)+x*v*Math.cosh(P))/x}}return{calculatedDuration:h&&d||null,next:x=>{const j=g(x);if(h)o.done=x>=d;else{let S=p;x!==0&&(w<1?S=YS(g,x,j):S=0);const P=Math.abs(S)<=r,k=Math.abs(i-j)<=t;o.done=P&&k}return o.value=o.done?i:j,o}}}function Kx({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=N=>l!==void 0&&N<l||c!==void 0&&N>c,w=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let v=r*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const g=N=>-v*Math.exp(-N/n),x=N=>y+g(N),j=N=>{const F=g(N),O=x(N);h.done=Math.abs(F)<=u,h.value=h.done?y:O};let S,P;const k=N=>{p(h.value)&&(S=N,P=XS({keyframes:[h.value,w(h.value)],velocity:YS(x,N,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let F=!1;return!P&&S===void 0&&(F=!0,j(N),k(N)),S!==void 0&&N>S?P.next(N-S):(!F&&j(N),h)}}}const tL=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Re.update(t,!0),stop:()=>rn(t),now:()=>wt.isProcessing?wt.timestamp:performance.now()}},Yx=2e4;function Xx(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Yx;)t+=r,n=e.next(t);return t>=Yx?1/0:t}const rL={decay:Kx,inertia:Kx,tween:pu,keyframes:pu,spring:XS};function gu({autoplay:e=!0,delay:t=0,driver:r=tL,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,w=!1,v,b;const y=()=>{b=new Promise(H=>{v=H})};y();let g;const x=rL[s]||pu;let j;x!==pu&&typeof n[0]!="number"&&(j=Mg([0,100],n,{clamp:!1}),n=[0,100]);const S=x({...h,keyframes:n});let P;l==="mirror"&&(P=x({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let k="idle",N=null,F=null,O=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=Xx(S));const{calculatedDuration:V}=S;let I=1/0,W=1/0;V!==null&&(I=V+o,W=I*(i+1)-o);let $=0;const E=H=>{if(F===null)return;p>0&&(F=Math.min(F,H)),p<0&&(F=Math.min(H-W/p,F)),N!==null?$=N:$=Math.round(H-F)*p;const ne=$-t*(p>=0?1:-1),q=p>=0?ne<0:ne>W;$=Math.max(ne,0),k==="finished"&&N===null&&($=W);let ee=$,Se=S;if(i){const ge=Math.min($,W)/I;let me=Math.floor(ge),L=ge%1;!L&&ge>=1&&(L=1),L===1&&me--,me=Math.min(me,i+1),!!(me%2)&&(l==="reverse"?(L=1-L,o&&(L-=o/I)):l==="mirror"&&(Se=P)),ee=ms(0,1,L)*I}const _e=q?{done:!1,value:n[0]}:Se.next(ee);j&&(_e.value=j(_e.value));let{done:se}=_e;!q&&V!==null&&(se=p>=0?$>=W:$<=0);const ye=N===null&&(k==="finished"||k==="running"&&se);return f&&f(_e.value),ye&&C(),_e},_=()=>{g&&g.stop(),g=void 0},R=()=>{k="idle",_(),v(),y(),F=O=null},C=()=>{k="finished",d&&d(),_(),v()},A=()=>{if(w)return;g||(g=r(E));const H=g.now();c&&c(),N!==null?F=H-N:(!F||k==="finished")&&(F=H),k==="finished"&&y(),O=F,N=null,k="running",g.start()};e&&A();const D={then(H,ne){return b.then(H,ne)},get time(){return bn($)},set time(H){H=cs(H),$=H,N!==null||!g||p===0?N=H:F=g.now()-H/p},get duration(){const H=S.calculatedDuration===null?Xx(S):S.calculatedDuration;return bn(H)},get speed(){return p},set speed(H){H===p||!g||(p=H,D.time=bn($))},get state(){return k},play:A,pause:()=>{k="paused",N=$},stop:()=>{w=!0,k!=="idle"&&(k="idle",u&&u(),R())},cancel:()=>{O!==null&&E(O),R()},complete:()=>{k="finished"},sample:H=>(F=0,E(H))};return D}function nL(e){let t;return()=>(t===void 0&&(t=e()),t)}const sL=nL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sc=10,oL=2e4,aL=(e,t)=>t.type==="spring"||e==="backgroundColor"||!kS(t.ease);function lL(e,t,{onUpdate:r,onComplete:n,...s}){if(!(sL()&&iL.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:f,duration:h=300,ease:p,times:w}=s;if(aL(t,s)){const x=gu({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const S=[];let P=0;for(;!j.done&&P<oL;)j=x.sample(P),S.push(j.value),P+=sc;w=void 0,f=S,h=P-sc,p="linear"}const v=yI(e.owner.current,t,f,{...s,duration:h,ease:p,times:w}),b=()=>{u=!1,v.cancel()},y=()=>{u=!0,Re.update(b),l(),d()};return v.onfinish=()=>{u||(e.set(xI(f,s)),n&&n(),y())},{then(x,j){return c.then(x,j)},attachTimeline(x){return v.timeline=x,v.onfinish=null,Xe},get time(){return bn(v.currentTime||0)},set time(x){v.currentTime=cs(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return bn(h)},play:()=>{o||(v.play(),rn(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const j=gu({...s,autoplay:!1});e.setWithVelocity(j.sample(x-sc).value,j.sample(x).value,sc)}y()},complete:()=>{u||v.finish()},cancel:y}}function cL({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Xe,pause:Xe,stop:Xe,then:i=>(i(),Promise.resolve()),cancel:Xe,complete:Xe});return t?gu({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const uL={type:"spring",stiffness:500,damping:25,restSpeed:10},dL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fL={type:"keyframes",duration:.8},hL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mL=(e,{keyframes:t})=>t.length>2?fL:hi.has(e)?e.startsWith("scale")?dL(t[1]):uL:hL,Em=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ps.test(t)||t==="0")&&!t.startsWith("url(")),pL=new Set(["brightness","contrast","saturate","opacity"]);function gL(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(xd)||[];if(!n)return e;const s=r.replace(n,"");let i=pL.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const vL=/([a-z-]*)\(.*?\)/g,Nm={...ps,getAnimatableNone:e=>{const t=e.match(vL);return t?t.map(gL).join(" "):e}},yL={...fS,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Nm,WebkitFilter:Nm},Dg=e=>yL[e];function QS(e,t){let r=Dg(e);return r!==Nm&&(r=ps),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const JS=e=>/^0[^.\s]+$/.test(e);function xL(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||JS(e)}function wL(e,t,r,n){const s=Em(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),xL(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=QS(t,l)}return i}function bL({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Ig(e,t){return e[t]||e.default||e}const jL={skipAnimations:!1},Lg=(e,t,r,n={})=>s=>{const i=Ig(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-cs(o);const c=wL(t,e,r,i),u=c[0],d=c[c.length-1],f=Em(e,u),h=Em(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(bL(i)||(p={...p,...mL(e,p)}),p.duration&&(p.duration=cs(p.duration)),p.repeatDelay&&(p.repeatDelay=cs(p.repeatDelay)),!f||!h||vI.current||i.type===!1||jL.skipAnimations)return cL(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=lL(t,e,p);if(w)return w}return gu(p)};function vu(e){return!!(Tt(e)&&e.add)}const ZS=e=>/^\-?\d*\.?\d+$/.test(e);function Fg(e,t){e.indexOf(t)===-1&&e.push(t)}function $g(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function SL([...e],t,r){const n=t<0?e.length+t:t;if(n>=0&&n<e.length){const s=r<0?e.length+r:r,[i]=e.splice(t,1);e.splice(s,0,i)}return e}class Vg{constructor(){this.subscriptions=[]}add(t){return Fg(this.subscriptions,t),()=>$g(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _L=e=>!isNaN(parseFloat(e)),xa={current:void 0};class CL{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=wt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=_L(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Vg);const n=this.events[t].add(r);return t==="change"?()=>{n(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return xa.current&&xa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?KS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zs(e,t){return new CL(e,t)}const e_=e=>t=>t.test(e),EL={test:e=>e==="auto",parse:e=>e},t_=[mi,ue,Zr,Vn,RD,AD,EL],Wo=e=>t_.find(e_(e)),NL=[...t_,Et,ps],kL=e=>NL.find(e_(e));function PL(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zs(r))}function TL(e,t){const r=bd(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=qD(i[o]);PL(e,o,l)}}function AL(e,t,r){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(ZS(d)||JS(d))?d=parseFloat(d):!kL(d)&&ps.test(u)&&(d=QS(c,u)),e.addValue(c,Zs(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function RL(e,t){return t?(t[e]||t.default||t).from:void 0}function OL(e,t,r){const n={};for(const s in e){const i=RL(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function ML({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function DL(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function r_(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&ML(d,f))continue;const w={delay:r,elapsed:0,...Ig(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[iS];if(y){const g=window.HandoffAppearAnimations(y,f,h,Re);g!==null&&(w.elapsed=g,w.isHandoff=!0)}}let v=!w.isHandoff&&!DL(h,p);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(Lg(f,h,p,e.shouldReduceMotion&&hi.has(f)?{type:!1}:w));const b=h.animation;vu(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&TL(e,o)}),u}function km(e,t,r={}){const n=bd(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(r_(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return IL(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function IL(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(LL).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(km(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function LL(e,t){return e.sortNodePosition(t)}function FL(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>km(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=km(e,t,r);else{const s=typeof t=="function"?bd(e,t,r.custom):t;n=Promise.all(r_(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const $L=[...wg].reverse(),VL=wg.length;function UL(e){return t=>Promise.all(t.map(({animation:r,options:n})=>FL(e,r,n)))}function BL(e){let t=UL(e);const r=WL();let n=!0;const s=(c,u)=>{const d=bd(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let w={},v=1/0;for(let y=0;y<VL;y++){const g=$L[y],x=r[g],j=d[g]!==void 0?d[g]:f[g],S=Ha(j),P=g===u?x.isActive:null;P===!1&&(v=y);let k=j===f[g]&&j!==d[g]&&S;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...w},!x.isActive&&P===null||!j&&!x.prevProp||vd(j)||typeof j=="boolean")continue;let F=zL(x.prevProp,j)||g===u&&x.isActive&&!k&&S||y>v&&S,O=!1;const V=Array.isArray(j)?j:[j];let I=V.reduce(s,{});P===!1&&(I={});const{prevResolvedValues:W={}}=x,$={...W,...I},E=_=>{F=!0,p.has(_)&&(O=!0,p.delete(_)),x.needsAnimating[_]=!0};for(const _ in $){const R=I[_],C=W[_];if(w.hasOwnProperty(_))continue;let A=!1;hu(R)&&hu(C)?A=!ES(R,C):A=R!==C,A?R!==void 0?E(_):p.add(_):R!==void 0&&p.has(_)?E(_):x.protectedKeys[_]=!0}x.prevProp=j,x.prevResolvedValues=I,x.isActive&&(w={...w,...I}),n&&e.blockInitialAnimation&&(F=!1),F&&(!k||O)&&h.push(...V.map(_=>({animation:_,options:{type:g,...c}})))}if(p.size){const y={};p.forEach(g=>{const x=e.getBaseTarget(g);x!==void 0&&(y[g]=x)}),h.push({animation:y})}let b=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function zL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ES(t,e):!1}function ks(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WL(){return{animate:ks(!0),whileInView:ks(),whileHover:ks(),whileTap:ks(),whileDrag:ks(),whileFocus:ks(),exit:ks()}}class HL extends _s{constructor(t){super(t),t.animationState||(t.animationState=BL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),vd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let qL=0;class GL extends _s{constructor(){super(...arguments),this.id=qL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KL={animation:{Feature:HL},exit:{Feature:GL}},Qx=(e,t)=>Math.abs(e-t);function YL(e,t){const r=Qx(e.x,t.x),n=Qx(e.y,t.y);return Math.sqrt(r**2+n**2)}class n_{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=qf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=YL(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:w}=f,{timestamp:v}=wt;this.history.push({...w,timestamp:v});const{onStart:b,onMove:y}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Hf(h,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=qf(f.type==="pointercancel"?this.lastMoveEventInfo:Hf(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),w&&w(f,b)},!bS(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=wd(t),l=Hf(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=wt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,qf(l,this.history)),this.removeListeners=ls(wn(this.contextWindow,"pointermove",this.handlePointerMove),wn(this.contextWindow,"pointerup",this.handlePointerUp),wn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rn(this.updatePoint)}}function Hf(e,t){return t?{point:t(e.point)}:e}function Jx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qf({point:e},t){return{point:e,delta:Jx(e,s_(t)),offset:Jx(e,XL(t)),velocity:QL(t,.1)}}function XL(e){return e[0]}function s_(e){return e[e.length-1]}function QL(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=s_(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>cs(t)));)r--;if(!n)return{x:0,y:0};const i=bn(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zt(e){return e.max-e.min}function Pm(e,t=0,r=.01){return Math.abs(e-t)<=r}function Zx(e,t,r,n=.5){e.origin=n,e.originPoint=We(t.min,t.max,e.origin),e.scale=Zt(r)/Zt(t),(Pm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=We(r.min,r.max,e.origin)-e.originPoint,(Pm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wa(e,t,r,n){Zx(e.x,t.x,r.x,n?n.originX:void 0),Zx(e.y,t.y,r.y,n?n.originY:void 0)}function ew(e,t,r){e.min=r.min+t.min,e.max=e.min+Zt(t)}function JL(e,t,r){ew(e.x,t.x,r.x),ew(e.y,t.y,r.y)}function tw(e,t,r){e.min=t.min-r.min,e.max=e.min+Zt(t)}function ba(e,t,r){tw(e.x,t.x,r.x),tw(e.y,t.y,r.y)}function ZL(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?We(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?We(r,e,n.max):Math.min(e,r)),e}function rw(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function e4(e,{top:t,left:r,bottom:n,right:s}){return{x:rw(e.x,r,s),y:rw(e.y,t,n)}}function nw(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function t4(e,t){return{x:nw(e.x,t.x),y:nw(e.y,t.y)}}function r4(e,t){let r=.5;const n=Zt(e),s=Zt(t);return s>n?r=Ga(t.min,t.max-n,e.min):n>s&&(r=Ga(e.min,e.max-s,t.min)),ms(0,1,r)}function n4(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Tm=.35;function s4(e=Tm){return e===!1?e=0:e===!0&&(e=Tm),{x:sw(e,"left","right"),y:sw(e,"top","bottom")}}function sw(e,t,r){return{min:iw(e,t),max:iw(e,r)}}function iw(e,t){return typeof e=="number"?e:e[t]||0}const ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bi=()=>({x:ow(),y:ow()}),aw=()=>({min:0,max:0}),nt=()=>({x:aw(),y:aw()});function ar(e){return[e("x"),e("y")]}function i_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function i4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function o4(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Gf(e){return e===void 0||e===1}function Am({scale:e,scaleX:t,scaleY:r}){return!Gf(e)||!Gf(t)||!Gf(r)}function Rs(e){return Am(e)||o_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function o_(e){return lw(e.x)||lw(e.y)}function lw(e){return e&&e!=="0%"}function yu(e,t,r){const n=e-r,s=t*n;return r+s}function cw(e,t,r,n,s){return s!==void 0&&(e=yu(e,s,n)),yu(e,r,n)+t}function Rm(e,t=0,r=1,n,s){e.min=cw(e.min,t,r,n,s),e.max=cw(e.max,t,r,n,s)}function a_(e,{x:t,y:r}){Rm(e.x,t.translate,t.scale,t.originPoint),Rm(e.y,r.translate,r.scale,r.originPoint)}function a4(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,a_(e,o)),n&&Rs(i.latestValues)&&zi(e,i.latestValues))}t.x=uw(t.x),t.y=uw(t.y)}function uw(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Wn(e,t){e.min=e.min+t,e.max=e.max+t}function dw(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=We(e.min,e.max,i);Rm(e,t[r],t[n],o,t.scale)}const l4=["x","scaleX","originX"],c4=["y","scaleY","originY"];function zi(e,t){dw(e.x,t,l4),dw(e.y,t,c4)}function l_(e,t){return i_(o4(e.getBoundingClientRect(),t))}function u4(e,t,r){const n=l_(e,r),{scroll:s}=t;return s&&(Wn(n.x,s.offset.x),Wn(n.y,s.offset.y)),n}const c_=({current:e})=>e?e.ownerDocument.defaultView:null,d4=new WeakMap;class f4{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(wd(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:w}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=SS(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Zr.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(y=Zt(x)*(parseFloat(y)/100))}}this.originPoint[b]=y}),w&&Re.update(()=>w(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=h4(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>ar(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new n_(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:c_(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Re.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!ic(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=ZL(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Vi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=e4(s.layoutBox,r):this.constraints=!1,this.elastic=s4(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ar(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=n4(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Vi(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=u4(n,s.root,this.visualElement.getTransformPagePoint());let o=t4(s.layout.layoutBox,i);if(r){const l=r(i4(o));this.hasMutatedConstraints=!!l,l&&(o=i_(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ar(d=>{if(!ic(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Lg(t,n,0,r))}stopAnimation(){ar(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ar(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ar(r=>{const{drag:n}=this.getProps();if(!ic(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-We(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vi(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ar(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=r4({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ar(o=>{if(!ic(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(We(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;d4.set(this.visualElement,this);const t=this.visualElement.current,r=wn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Vi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=yn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ar(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Tm,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ic(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function h4(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class m4 extends _s{constructor(t){super(t),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new f4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const fw=e=>(t,r)=>{e&&Re.update(()=>e(t,r))};class p4 extends _s{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(t){this.session=new n_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:fw(t),onStart:fw(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Re.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=wn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function g4(){const e=m.useContext(md);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=m.useId();return m.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ho={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const r=hw(e,t.target.x),n=hw(e,t.target.y);return`${r}% ${n}%`}},v4={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=ps.parse(e);if(s.length>5)return n;const i=ps.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=We(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class y4 extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;_D(x4),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function u_(e){const[t,r]=g4(),n=m.useContext(jg);return Z.createElement(y4,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(aS),isPresent:t,safeToRemove:r})}const x4={borderRadius:{...Ho,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ho,borderTopRightRadius:Ho,borderBottomLeftRadius:Ho,borderBottomRightRadius:Ho,boxShadow:v4},d_=["TopLeft","TopRight","BottomLeft","BottomRight"],w4=d_.length,mw=e=>typeof e=="string"?parseFloat(e):e,pw=e=>typeof e=="number"||ue.test(e);function b4(e,t,r,n,s,i){s?(e.opacity=We(0,r.opacity!==void 0?r.opacity:1,j4(n)),e.opacityExit=We(t.opacity!==void 0?t.opacity:1,0,S4(n))):i&&(e.opacity=We(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<w4;o++){const l=`border${d_[o]}Radius`;let c=gw(t,l),u=gw(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||pw(c)===pw(u)?(e[l]=Math.max(We(mw(c),mw(u),n),0),(Zr.test(u)||Zr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=We(t.rotate||0,r.rotate||0,n))}function gw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j4=f_(0,.5,DS),S4=f_(.5,.95,Xe);function f_(e,t,r){return n=>n<e?0:n>t?1:r(Ga(e,t,n))}function vw(e,t){e.min=t.min,e.max=t.max}function ir(e,t){vw(e.x,t.x),vw(e.y,t.y)}function yw(e,t,r,n,s){return e-=t,e=yu(e,1/r,n),s!==void 0&&(e=yu(e,1/s,n)),e}function _4(e,t=0,r=1,n=.5,s,i=e,o=e){if(Zr.test(t)&&(t=parseFloat(t),t=We(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=We(i.min,i.max,n);e===i&&(l-=t),e.min=yw(e.min,t,r,l,s),e.max=yw(e.max,t,r,l,s)}function xw(e,t,[r,n,s],i,o){_4(e,t[r],t[n],t[s],t.scale,i,o)}const C4=["x","scaleX","originX"],E4=["y","scaleY","originY"];function ww(e,t,r,n){xw(e.x,t,C4,r?r.x:void 0,n?n.x:void 0),xw(e.y,t,E4,r?r.y:void 0,n?n.y:void 0)}function bw(e){return e.translate===0&&e.scale===1}function h_(e){return bw(e.x)&&bw(e.y)}function N4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function m_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function jw(e){return Zt(e.x)/Zt(e.y)}class k4{constructor(){this.members=[]}add(t){Fg(this.members,t),t.scheduleRender()}remove(t){if($g(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sw(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const P4=(e,t)=>e.depth-t.depth;class T4{constructor(){this.children=[],this.isDirty=!1}add(t){Fg(this.children,t),this.isDirty=!0}remove(t){$g(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P4),this.isDirty=!1,this.children.forEach(t)}}function A4(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(rn(n),e(i-t))};return Re.read(n,!0),()=>rn(n)}function R4(e){window.MotionDebug&&window.MotionDebug.record(e)}function O4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function M4(e,t,r){const n=Tt(e)?e:Zs(e);return n.start(Lg("",n,t,r)),n.animation}const _w=["","X","Y","Z"],D4={visibility:"hidden"},Cw=1e3;let I4=0;const Os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function p_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=I4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Os.totalNodes=Os.resolvedTargetDeltas=Os.recalculatedProjection=0,this.nodes.forEach($4),this.nodes.forEach(W4),this.nodes.forEach(H4),this.nodes.forEach(V4),R4(Os)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new T4)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O4(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=A4(h,250),Rc.hasAnimatedSinceResize&&(Rc.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||X4,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),g=!this.targetLayout||!m_(this.targetLayout,w)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const j={...Ig(v,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ew);return}this.isUpdating||this.nodes.forEach(B4),this.isUpdating=!1,this.nodes.forEach(z4),this.nodes.forEach(L4),this.nodes.forEach(F4),this.clearAllSnapshots();const l=performance.now();wt.delta=ms(0,1e3/60,l-wt.timestamp),wt.timestamp=l,wt.isProcessing=!0,Lf.update.process(wt),Lf.preRender.process(wt),Lf.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(U4),this.sharedNodes.forEach(G4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!h_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Rs(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Q4(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return nt();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Wn(l.x,c.offset.x),Wn(l.y,c.offset.y)),l}removeElementScroll(o){const l=nt();ir(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){ir(l,o);const{scroll:h}=this.root;h&&(Wn(l.x,-h.offset.x),Wn(l.y,-h.offset.y))}Wn(l.x,d.offset.x),Wn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=nt();ir(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zi(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rs(d.latestValues)&&zi(c,d.latestValues)}return Rs(this.latestValues)&&zi(c,this.latestValues),c}removeTransform(o){const l=nt();ir(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rs(u.latestValues))continue;Am(u.latestValues)&&u.updateSnapshot();const d=nt(),f=u.measurePageBox();ir(d,f),ww(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rs(this.latestValues)&&ww(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),ba(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),a_(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),ba(this.relativeTargetOrigin,this.target,p.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||o_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ir(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;a4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Bi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Bi(),this.projectionDeltaWithTransform=Bi());const v=this.projectionTransform;wa(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Sw(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Os.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Bi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=nt(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,v=p!==w,b=this.getStack(),y=!b||b.members.length<=1,g=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(Y4));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const S=j/1e3;kw(f.x,o.x,S),kw(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ba(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K4(this.relativeTarget,this.relativeTargetOrigin,h,S),x&&N4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=nt()),ir(x,this.relativeTarget)),v&&(this.animationValues=d,b4(d,u,this.latestValues,S,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Rc.hasAnimatedSinceResize=!0,this.currentAnimation=M4(0,Cw,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&g_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||nt();const f=Zt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Zt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ir(l,c),zi(l,d),wa(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new k4),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<_w.length;d++){const f="rotate"+_w[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return D4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ac(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ac(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Sw(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in du){if(h[v]===void 0)continue;const{correct:b,applyTo:y}=du[v],g=u.transform==="none"?h[v]:b(h[v],f);if(y){const x=y.length;for(let j=0;j<x;j++)u[y[j]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=f===this?Ac(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ew),this.root.sharedNodes.clear()}}}function L4(e){e.updateLayout()}function F4(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ar(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Zt(h);h.min=n[f].min,h.max=h.min+p}):g_(i,r.layoutBox,n)&&ar(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Zt(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Bi();wa(l,n,r.layoutBox);const c=Bi();o?wa(c,e.applyTransform(s,!0),r.measuredBox):wa(c,n,r.layoutBox);const u=!h_(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const w=nt();ba(w,r.layoutBox,h.layoutBox);const v=nt();ba(v,n,p.layoutBox),m_(w,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $4(e){Os.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function V4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function U4(e){e.clearSnapshot()}function Ew(e){e.clearMeasurements()}function B4(e){e.isLayoutDirty=!1}function z4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Nw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function W4(e){e.resolveTargetDelta()}function H4(e){e.calcProjection()}function q4(e){e.resetRotation()}function G4(e){e.removeLeadSnapshot()}function kw(e,t,r){e.translate=We(t.translate,0,r),e.scale=We(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Pw(e,t,r,n){e.min=We(t.min,r.min,n),e.max=We(t.max,r.max,n)}function K4(e,t,r,n){Pw(e.x,t.x,r.x,n),Pw(e.y,t.y,r.y,n)}function Y4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const X4={duration:.45,ease:[.4,0,.1,1]},Tw=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Aw=Tw("applewebkit/")&&!Tw("chrome/")?Math.round:Xe;function Rw(e){e.min=Aw(e.min),e.max=Aw(e.max)}function Q4(e){Rw(e.x),Rw(e.y)}function g_(e,t,r){return e==="position"||e==="preserve-aspect"&&!Pm(jw(t),jw(r),.2)}const J4=p_({attachResizeListener:(e,t)=>yn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kf={current:void 0},v_=p_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kf.current){const e=new J4({});e.mount(window),e.setOptions({layoutScroll:!0}),Kf.current=e}return Kf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Z4={pan:{Feature:p4},drag:{Feature:m4,ProjectionNode:v_,MeasureLayout:u_}},eF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tF(e){const t=eF.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Om(e,t,r=1){const[n,s]=tF(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return ZS(o)?parseFloat(o):o}else return jm(s)?Om(s,t,r+1):s}function rF(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!jm(i))return;const o=Om(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!jm(i))continue;const o=Om(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const nF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),y_=e=>nF.has(e),sF=e=>Object.keys(e).some(y_),Ow=e=>e===mi||e===ue,Mw=(e,t)=>parseFloat(e.split(", ")[t]),Dw=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return Mw(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?Mw(i[1],e):0}},iF=new Set(["x","y","z"]),oF=hl.filter(e=>!iF.has(e));function aF(e){const t=[];return oF.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const uo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Dw(4,13),y:Dw(5,14)};uo.translateX=uo.x;uo.translateY=uo.y;const lF=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=uo[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=uo[u](c,i)}),e},cF=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(y_);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=Wo(d);const h=t[c];let p;if(hu(h)){const w=h.length,v=h[0]===null?1:0;d=h[v],f=Wo(d);for(let b=v;b<w&&h[b]!==null;b++)p?Tg(Wo(h[b])===p):p=Wo(h[b])}else p=Wo(h);if(f!==p)if(Ow(f)&&Ow(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===ue&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(i=aF(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=lF(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),pd&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function uF(e,t,r,n){return sF(t)?cF(e,t,r,n):{target:t,transitionEnd:n}}const dF=(e,t,r,n)=>{const s=rF(e,t,n);return t=s.target,n=s.transitionEnd,uF(e,t,r,n)},Mm={current:null},x_={current:!1};function fF(){if(x_.current=!0,!!pd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mm.current=e.matches;e.addListener(t),t()}else Mm.current=!1}function hF(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(Tt(i))e.addValue(s,i),vu(n)&&n.add(s);else if(Tt(o))e.addValue(s,Zs(i,{owner:e})),vu(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Zs(l!==void 0?l:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const Iw=new WeakMap,w_=Object.keys(qa),mF=w_.length,Lw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],pF=bg.length;class gF{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Re.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=yd(r),this.isVariantNode=oS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&Tt(h)&&(h.set(l[f],!1),vu(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Iw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),x_.current||fF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Iw.delete(this.current),this.projection&&this.projection.unmount(),rn(this.notifyUpdate),rn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=hi.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Re.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,l;for(let c=0;c<mF;c++){const u=w_[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=qa[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Vi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Lw.length;n++){const s=Lw[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=hF(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<pF;n++){const s=bg[n],i=this.props[s];(Ha(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Zs(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=Pg(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Tt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Vg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class b_ extends gF{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=OL(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){AL(this,n,o);const l=dF(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function vF(e){return window.getComputedStyle(e)}class yF extends b_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(hi.has(r)){const n=Dg(r);return n&&n.default||0}else{const n=vF(t),s=(uS(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return l_(t,r)}build(t,r,n,s){_g(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return kg(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){gS(t,r,n,s)}}class xF extends b_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(hi.has(r)){const n=Dg(r);return n&&n.default||0}return r=vS.has(r)?r:xg(r),t.getAttribute(r)}measureInstanceViewportBox(){return nt()}scrapeMotionValuesFromProps(t,r){return xS(t,r)}build(t,r,n,s){Eg(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){yS(t,r,n,s)}mount(t){this.isSVGTag=Ng(t.tagName),super.mount(t)}}const wF=(e,t)=>Sg(e)?new xF(t,{enableHardwareAcceleration:!1}):new yF(t,{enableHardwareAcceleration:!0}),bF={layout:{ProjectionNode:v_,MeasureLayout:u_}},jF={...KL,...hI,...Z4,...bF},te=jD((e,t)=>eI(e,t,jF,wF));function j_(){const e=m.useRef(!1);return gd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function SF(){const e=j_(),[t,r]=m.useState(0),n=m.useCallback(()=>{e.current&&r(t+1)},[t]);return[m.useCallback(()=>Re.postRender(n),[n]),t]}class _F extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CF({children:e,isPresent:t}){const r=m.useId(),n=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(_F,{isPresent:t,childRef:n,sizeRef:s},m.cloneElement(e,{ref:n}))}const Yf=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Eo(EF),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return m.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),m.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=m.createElement(CF,{isPresent:r},e)),m.createElement(md.Provider,{value:u},e)};function EF(){return new Map}function NF(e){return m.useEffect(()=>()=>e(),[])}const Ms=e=>e.key||"";function kF(e,t){e.forEach(r=>{const n=Ms(r);t.set(n,r)})}function PF(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const Ug=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=m.useContext(jg).forceRender||SF()[0],c=j_(),u=PF(e);let d=u;const f=m.useRef(new Map).current,h=m.useRef(d),p=m.useRef(new Map).current,w=m.useRef(!0);if(gd(()=>{w.current=!1,kF(u,p),h.current=d}),NF(()=>{w.current=!0,p.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,d.map(g=>m.createElement(Yf,{key:Ms(g),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const v=h.current.map(Ms),b=u.map(Ms),y=v.length;for(let g=0;g<y;g++){const x=v[g];b.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((g,x)=>{if(b.indexOf(x)!==-1)return;const j=p.get(x);if(!j)return;const S=v.indexOf(x);let P=g;if(!P){const k=()=>{f.delete(x);const N=Array.from(p.keys()).filter(F=>!b.includes(F));if(N.forEach(F=>p.delete(F)),h.current=u.filter(F=>{const O=Ms(F);return O===x||N.includes(O)}),!f.size){if(c.current===!1)return;l(),n&&n()}};P=m.createElement(Yf,{key:Ms(j),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:o},j),f.set(x,P)}d.splice(S,0,P)}),d=d.map(g=>{const x=g.key;return f.has(x)?g:m.createElement(Yf,{key:Ms(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),m.createElement(m.Fragment,null,f.size?d:d.map(g=>m.cloneElement(g)))},S_=m.createContext(null);function TF(e,t,r,n){if(!n)return e;const s=e.findIndex(d=>d.value===t);if(s===-1)return e;const i=n>0?1:-1,o=e[s+i];if(!o)return e;const l=e[s],c=o.layout,u=We(c.min,c.max,.5);return i===1&&l.layout.max+r>u||i===-1&&l.layout.min+r<u?SL(e,s,s+i):e}function AF({children:e,as:t="ul",axis:r="y",onReorder:n,values:s,...i},o){const l=Eo(()=>te(t)),c=[],u=m.useRef(!1),d={axis:r,registerItem:(f,h)=>{const p=c.findIndex(w=>f===w.value);p!==-1?c[p].layout=h[r]:c.push({value:f,layout:h[r]}),c.sort(MF)},updateOrder:(f,h,p)=>{if(u.current)return;const w=TF(c,f,h,p);c!==w&&(u.current=!0,n(w.map(OF).filter(v=>s.indexOf(v)!==-1)))}};return m.useEffect(()=>{u.current=!1}),m.createElement(l,{...i,ref:o,ignoreStrict:!0},m.createElement(S_.Provider,{value:d},e))}const RF=m.forwardRef(AF);function OF(e){return e.value}function MF(e,t){return e.layout.min-t.layout.min}function __(e){const t=Eo(()=>Zs(e)),{isStatic:r}=m.useContext(yg);if(r){const[,n]=m.useState(e);m.useEffect(()=>t.on("change",n),[])}return t}const DF=e=>e&&typeof e=="object"&&e.mix,IF=e=>DF(e)?e.mix:void 0;function LF(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],o=e[3+r],l=Mg(s,i,{mixer:IF(i[0]),...o});return t?l(n):l}function C_(e,t){const r=__(t()),n=()=>r.set(t());return n(),gd(()=>{const s=()=>Re.update(n,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),rn(n)}}),r}function FF(e){xa.current=[],e();const t=C_(xa.current,e);return xa.current=void 0,t}function $F(e,t,r,n){if(typeof e=="function")return FF(e);const s=typeof t=="function"?t:LF(t,r,n);return Array.isArray(e)?Fw(e,s):Fw([e],([i])=>s(i))}function Fw(e,t){const r=Eo(()=>[]);return C_(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function $w(e,t=0){return Tt(e)?e:__(t)}function VF({children:e,style:t={},value:r,as:n="li",onDrag:s,layout:i=!0,...o},l){const c=Eo(()=>te(n)),u=m.useContext(S_),d={x:$w(t.x),y:$w(t.y)},f=$F([d.x,d.y],([v,b])=>v||b?1:"unset"),{axis:h,registerItem:p,updateOrder:w}=u;return m.createElement(c,{drag:h,...o,dragSnapToOrigin:!0,style:{...t,x:d.x,y:d.y,zIndex:f},layout:i,onDrag:(v,b)=>{const{velocity:y}=b;y[h]&&w(r,d[h].get(),y[h]),s&&s(v,b)},onLayoutMeasure:v=>p(r,v),ref:l,ignoreStrict:!0},e)}const UF=m.forwardRef(VF),oc={Group:RF,Item:UF};var BF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),le=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>m.createElement("svg",{ref:u,...BF,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${zF(e)}`,...c},[...t.map(([d,f])=>m.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},Dm=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Im=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fo=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Xf=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Qi=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),WF=le("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12",key:"1owzki"}]]),No=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),HF=le("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Ka=le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),qF=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),er=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),vl=le("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),E_=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Bg=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),GF=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jd=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),KF=le("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),Vw=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Lm=le("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),YF=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),XF=le("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),N_=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Uw=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Bw=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zw=le("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),Ww=le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),QF=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),zg=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),JF=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ZF=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Hw=le("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Wg=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Hg=le("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),qg=le("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Fm=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ya=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),$m=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),e$=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),t$=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),k_=le("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),qw=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Gg=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mt=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xu=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vm=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Vt=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),r$=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Gw=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Sd=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),P_=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),T_=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),n$=le("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),gs=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),s$=le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xa=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function A_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=A_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function R_(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=A_(e))&&(n&&(n+=" "),n+=t);return n}function i$(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=O_(t))&&(n&&(n+=" "),n+=r);return n}function O_(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=O_(e[n]))&&(r&&(r+=" "),r+=t);return r}var Kg="-";function o$(e){var t=l$(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function i(l){var c=l.split(Kg);return c[0]===""&&c.length!==1&&c.shift(),M_(c,t)||a$(l)}function o(l,c){var u=r[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function M_(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?M_(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Kg);return(o=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var Kw=/^\[(.+)\]$/;function a$(e){if(Kw.test(e)){var t=Kw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function l$(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=u$(Object.entries(e.classGroups),r);return s.forEach(function(i){var o=i[0],l=i[1];Um(l,n,o,t)}),n}function Um(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Yw(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(c$(s)){Um(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];Um(c,Yw(t,l),r,n)})})}function Yw(e,t){var r=e;return t.split(Kg).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function c$(e){return e.isThemeGetter}function u$(e,t){return t?e.map(function(r){var n=r[0],s=r[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[n,i]}):e}function d$(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(i,o){r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(o){var l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set:function(o,l){r.has(o)?r.set(o,l):s(o,l)}}}var D_="!";function f$(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(o){for(var l=[],c=0,u=0,d,f=0;f<o.length;f++){var h=o[f];if(c===0){if(h===n&&(r||o.slice(f,f+s)===t)){l.push(o.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?o:o.substring(u),w=p.startsWith(D_),v=w?p.substring(1):p,b=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:b}}}function h$(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function m$(e){return{cache:d$(e.cacheSize),splitModifiers:f$(e),...o$(e)}}var p$=/\s+/;function g$(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(p$).map(function(o){var l=r(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:o};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:o};p=!1}var w=h$(c).join(":"),v=u?w+D_:w;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return i.has(d)?!1:(i.add(d),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function v$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,i,o=l;function l(u){var d=t[0],f=t.slice(1),h=f.reduce(function(p,w){return w(p)},d());return n=m$(h),s=n.cache.get,i=n.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=g$(u,n);return i(u,f),f}return function(){return o(i$.apply(null,arguments))}}function Ie(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var I_=/^\[(?:([a-z-]+):)?(.+)\]$/i,y$=/^\d+\/\d+$/,x$=new Set(["px","full","screen"]),w$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j$=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function yr(e){return Bs(e)||x$.has(e)||y$.test(e)||Bm(e)}function Bm(e){return pi(e,"length",k$)}function S$(e){return pi(e,"size",L_)}function _$(e){return pi(e,"position",L_)}function C$(e){return pi(e,"url",P$)}function ac(e){return pi(e,"number",Bs)}function Bs(e){return!Number.isNaN(Number(e))}function E$(e){return e.endsWith("%")&&Bs(e.slice(0,-1))}function qo(e){return Xw(e)||pi(e,"number",Xw)}function xe(e){return I_.test(e)}function Go(){return!0}function Fn(e){return w$.test(e)}function N$(e){return pi(e,"",T$)}function pi(e,t,r){var n=I_.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function k$(e){return b$.test(e)}function L_(){return!1}function P$(e){return e.startsWith("url(")}function Xw(e){return Number.isInteger(Number(e))}function T$(e){return j$.test(e)}function A$(){var e=Ie("colors"),t=Ie("spacing"),r=Ie("blur"),n=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),u=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),h=Ie("gap"),p=Ie("gradientColorStops"),w=Ie("gradientColorStopPositions"),v=Ie("inset"),b=Ie("margin"),y=Ie("opacity"),g=Ie("padding"),x=Ie("saturate"),j=Ie("scale"),S=Ie("sepia"),P=Ie("skew"),k=Ie("space"),N=Ie("translate"),F=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},V=function(){return["auto",xe,t]},I=function(){return[xe,t]},W=function(){return["",yr]},$=function(){return["auto",Bs,xe]},E=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},_=function(){return["solid","dashed","dotted","double","none"]},R=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},C=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",xe]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},H=function(){return[Bs,ac]},ne=function(){return[Bs,xe]};return{cacheSize:500,theme:{colors:[Go],spacing:[yr],blur:["none","",Fn,xe],brightness:H(),borderColor:[e],borderRadius:["none","","full",Fn,xe],borderSpacing:I(),borderWidth:W(),contrast:H(),grayscale:A(),hueRotate:ne(),invert:A(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[E$,Bm],inset:V(),margin:V(),opacity:H(),padding:I(),saturate:H(),scale:H(),sepia:A(),skew:ne(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Fn]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(E(),[xe])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qo]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",qo]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",qo]},xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[qo]},xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(C())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(C(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(C(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",xe,t]}],"min-w":[{"min-w":["min","max","fit",xe,yr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Fn]},Fn,xe]}],h:[{h:[xe,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",xe,yr]}],"max-h":[{"max-h":[xe,t,"min","max","fit"]}],"font-size":[{text:["base",Fn,Bm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ac]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Bs,ac]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xe,yr]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(_(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",yr]}],"underline-offset":[{"underline-offset":["auto",xe,yr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(E(),[_$])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",S$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(_(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:_()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(_())}],"outline-offset":[{"outline-offset":[xe,yr]}],"outline-w":[{outline:[yr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[yr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fn,N$]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":R()}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fn,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[qo,xe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,ac]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var R$=v$(A$);function de(...e){return R$(R_(e))}function O$(e=""){return e.toString().normalize("NFD").replace(/['"()]/g,"").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,80)}function us(e,t){return`${e}-${O$(t||"")}`}function F_(e){if(!e)return null;const t=/^([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i,r=e.match(t);return r?r[1]:e.split("-")[0]}function Qw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _d(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Qw(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Qw(e[s],null)}}}}function pe(...e){return m.useCallback(_d(...e),e)}function ei(e){const t=D$(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(L$);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var M$=ei("Slot");function D$(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=$$(s),l=F$(i,s.props);return s.type!==m.Fragment&&(l.ref=n?_d(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $_=Symbol("radix.slottable");function I$(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=$_,t}function L$(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$_}function F$(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Jw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zw=R_,Yg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Jw(d)||Jw(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...u,f,h]:u},[]);return Zw(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Xg=Yg("inline-flex items-center justify-center rounded-md text-base font-sans tracking-wider ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=Z.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?M$:"button";return a.jsx(o,{className:de(Xg({variant:t,size:r,className:e})),ref:i,...s})});z.displayName="Button";const V$=async()=>{const{data:e,error:t}=await B.rpc("get_programs_with_details");if(t)throw t;return e},U$=async e=>{const{data:t,error:r}=await B.from("programs").select(`
      *,
      weeks:program_weeks (
        *,
        sessions:program_sessions (
          *
        )
      )
    `).eq("id",e).single();if(r)throw r;const{data:n,error:s}=await B.from("program_reviews").select("*, user:profiles(display_name, photo_url)").eq("program_id",e);if(s)throw s;const{count:i,error:o}=await B.from("enrollments").select("*",{count:"exact",head:!0}).eq("program_id",e);if(o)throw o;return{...t,reviews:n,enrollment_count:i}},B$=async e=>{const{data:t,error:r}=await B.from("program_weeks").select("id, week_order, label, sessions:program_sessions(*)").eq("program_id",e).order("week_order",{ascending:!0}).order("session_order",{foreignTable:"sessions",ascending:!0});if(r)throw console.error("Error fetching all sessions for program:",r),r;return t||[]},e0=async e=>{const{data:t,error:r}=await B.from("program_sessions").select("*, week:program_weeks(week_order)").eq("id",e).single();if(r)throw r;return t},z$=async()=>{const{data:e,error:t}=await B.from("lesson_categories").select(`
      *,
      lessons (
        *
      )
    `).order("order",{ascending:!0});if(t)throw t;return e},W$=async e=>{const{data:t,error:r}=await B.from("lessons").select(`
      *,
      category:lesson_categories (
        name
      )
    `).eq("id",e).single();if(r)throw r;return t},V_=async(e,t)=>{var h;const{data:{user:r}}=await B.auth.getUser();if(!r)throw new Error("Debes iniciar sesión para inscribirte.");const{data:n}=await B.from("enrollments").select("id").eq("user_id",r.id).eq("status","active").maybeSingle();if(n){const p={status:"cancelled",cancelled_at:new Date().toISOString()},{error:w}=await B.from("enrollments").update(p).eq("id",n.id);w&&((h=w.message)!=null&&h.includes("cancelled_at"))&&await B.from("enrollments").update({status:"cancelled"}).eq("id",n.id)}const{data:s,error:i}=await B.from("programs").select("version").eq("id",e).single();if(i||!s)throw new Error("Programa no encontrado");let o=1;const{data:l,error:c}=await B.from("enrollments").select("attempt").eq("user_id",r.id).eq("program_id",e).order("attempt",{ascending:!1}).limit(1);!c&&l&&l.length>0&&l[0].attempt&&(o=(l[0].attempt||0)+1);const u={user_id:r.id,program_id:e,version_locked:s.version,status:"active",started_at:new Date().toISOString(),training_days:t,attempt:o};let{data:d,error:f}=await B.from("enrollments").insert([u]).select().maybeSingle();if(f){if(f.code==="23505"){const{data:p}=await B.from("enrollments").select("*").eq("user_id",r.id).eq("program_id",e).maybeSingle();if(!p)throw f;const w={status:"active",started_at:new Date().toISOString(),completed_at:null,training_days:t,version_locked:s.version};p.hasOwnProperty("attempt")&&(w.attempt=(p.attempt||0)+1);const{data:v,error:b}=await B.from("enrollments").update(w).eq("id",p.id).select().single();if(b)throw b;return v}throw f}return d},U_=async(e,t=null)=>{var i;const{data:{user:r}}=await B.auth.getUser();if(!r)throw new Error("Debes iniciar sesión.");let{data:n,error:s}=await B.from("enrollments").update({status:"cancelled",cancelled_at:new Date().toISOString()}).eq("id",e).eq("user_id",r.id).select().single();if(s&&((i=s.message)!=null&&i.includes("cancelled_at"))&&({data:n,error:s}=await B.from("enrollments").update({status:"cancelled"}).eq("id",e).eq("user_id",r.id).select().single()),s)throw s;if(t&&Object.keys(t).length>0)try{await B.from("unenroll_feedback").insert([{enrollment_id:e,user_id:r.id,payload:t,created_at:new Date().toISOString()}])}catch(o){console.warn("Feedback de desinscripción no guardado (tabla opcional):",o==null?void 0:o.message)}return n},Cd=async(e=null)=>{let t=e;if(!t){const{data:{user:u}}=await B.auth.getUser();if(!u)return null;t=u.id}const{data:r,error:n}=await B.from("enrollments").select("*, program:programs(*)").eq("user_id",t).eq("status","active").maybeSingle();if(n)throw console.error("Error fetching active enrollment:",n),n;if(!r)return null;const{count:s,error:i}=await B.from("session_progress").select("*",{count:"exact",head:!0}).eq("enrollment_id",r.id).eq("completed",!0).gte("completed_at",r.started_at);if(i)return console.error("Error fetching completed sessions count:",i),{...r,completed_sessions_count:0,total_sessions_count:0,is_completed:!1};const o=s||0,l=(r.program.weeks||0)*(r.program.sessions_per_week||0),c=l>0&&o>=l;if(c&&r.status!=="completed"&&!e){const{data:u,error:d}=await B.from("enrollments").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",r.id).select("*, program:programs(*)").single();if(d)console.error("Error updating enrollment status to completed:",d);else return{...u,completed_sessions_count:o,total_sessions_count:l,is_completed:!0}}return{...r,completed_sessions_count:o,total_sessions_count:l,is_completed:c}},H$=async e=>{var t;if(!e)return{error:new Error("No active enrollment found.")};try{const{data:r,error:n}=await B.from("program_weeks").select("id, week_order").eq("program_id",e.program_id).order("week_order",{ascending:!0});if(n)throw n;if(!r||r.length===0)return{noSessions:!0};const o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date().getDay()];if(!((t=e.training_days)!=null&&t.includes(o)))return{isRestDay:!0};const{data:l,error:c}=await B.from("session_progress").select("session_id").eq("enrollment_id",e.id).eq("completed",!0).gte("completed_at",e.started_at);if(c)throw c;const u=l.map(w=>w.session_id),d=r.map(w=>w.id);let f=B.from("program_sessions").select("*, week:program_weeks!inner(week_order)").in("week_id",d);u.length>0&&(f=f.not("id","in",`(${u.join(",")})`));const{data:h,error:p}=await f.order("week_order",{foreignTable:"week",ascending:!0}).order("session_order",{ascending:!0}).limit(1).maybeSingle();if(p)throw console.error("Error fetching next session:",p),p;return h?!h.exercises||h.exercises.length===0?{...h,noExercises:!0}:{...h}:{completedProgram:!0}}catch(r){return console.error("Error in getTodaySession:",r),{error:r}}},q$=async(e,t,r,n)=>{const{data:{user:s}}=await B.auth.getUser();if(!s)throw new Error("Usuario no autenticado");const{data:i,error:o}=await B.from("session_progress").upsert({enrollment_id:t,session_id:e,user_id:s.id,completed:!0,completed_at:new Date().toISOString(),real_rpe:r,notes:n},{onConflict:"enrollment_id, session_id"}).select().single();if(o)throw o;return await B.from("points_ledger").insert([{user_id:s.id,source:"complete_session",points:50}]),i},yl=async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)return null;const{data:t,error:r}=await B.from("profiles").select("*").eq("id",e.id).single();if(r)throw r;return t},G$=async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await B.from("profiles").update(e).eq("id",t.id).select().single();if(n)throw n;return r},K$=async e=>{var c;const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const r="avatars",n=(e.name.split(".").pop()||"jpg").toLowerCase(),s=`${t.id}/avatar.${n}`;if(!["png","jpg","jpeg"].includes(n))throw new Error("Formato no soportado. Usa PNG o JPG.");if(e.size>5*1024*1024)throw new Error("La imagen excede 5MB.");const{error:i}=await B.storage.from(r).upload(s,e,{cacheControl:"0",upsert:!0,contentType:e.type});if(i)throw console.error("Error uploading avatar:",i),(c=i.message)!=null&&c.includes("does not exist")?new Error('El bucket de avatars no existe o no es público. Crea "avatars" en el panel de Storage y márcalo como público.'):new Error(i.message||"No se pudo subir el avatar.");const{data:o}=B.storage.from(r).getPublicUrl(s);return o.publicUrl+`?v=${Date.now()}`},B_=async(e=null)=>{let t=e;if(!t){const{data:{user:s}}=await B.auth.getUser();if(!s)return[];t=s.id}const{data:r,error:n}=await B.from("user_badges").select("*, badge:badges(*)").eq("user_id",t);if(n)throw n;return r.map(s=>s.badge)},Qg=async(e=null)=>{let t=e;if(!t){const{data:{user:s}}=await B.auth.getUser();if(!s)return[];t=s.id}const{data:r,error:n}=await B.from("prs").select("*").eq("user_id",t).order("date",{ascending:!1});if(n)throw n;return r},Y$=async({type:e,value:t,unit:r,date:n})=>{const{data:{user:s}}=await B.auth.getUser();if(!s)throw new Error("Usuario no autenticado");if(!e||!t)throw new Error("Tipo y valor son requeridos");const i={user_id:s.id,type:e.trim(),value:Number(t),unit:(r==null?void 0:r.trim())||null,date:n||new Date().toISOString().slice(0,10)},{data:o,error:l}=await B.from("prs").insert(i).select().single();if(l)throw l;return o},X$=async(e,{type:t,value:r,unit:n,date:s})=>{const{data:{user:i}}=await B.auth.getUser();if(!i)throw new Error("Usuario no autenticado");const o={};t&&(o.type=t.trim()),r!=null&&(o.value=Number(r)),n!==void 0&&(o.unit=n?n.trim():null),s&&(o.date=s);const{data:l,error:c}=await B.from("prs").update(o).eq("id",e).eq("user_id",i.id).select().single();if(c)throw c;return l},t0=async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{error:r}=await B.from("prs").delete().eq("id",e).eq("user_id",t.id);if(r)throw r},Q$=async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await B.from("profiles").select("*").eq("id",e).single();if(n)throw n;const[s,i,o,l]=await Promise.all([Cd(e),B.from("session_progress").select("*, session:program_sessions(title)").eq("user_id",e).order("completed_at",{ascending:!1}).limit(5),Qg(e),B.from("friends").select("*").or(`and(user_id_1.eq.${t.id},user_id_2.eq.${e}),and(user_id_1.eq.${e},user_id_2.eq.${t.id})`).maybeSingle()]);if(i.error)throw i.error;return l.error&&console.error("Friendship fetch error:",l.error),{profile:r,activeEnrollment:s,recentProgress:i.data,prs:o,friendship:l.data}},J$=async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)return[];const{data:r,error:n}=await B.from("profiles").select("id, display_name, photo_url").ilike("display_name",`%${e}%`).neq("id",t.id).limit(10);if(n)throw n;return r},z_=async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)return{friends:[],requests:[]};const{data:t,error:r}=await B.from("friends").select("*, user1:profiles!user_id_1(id, display_name, photo_url), user2:profiles!user_id_2(id, display_name, photo_url)").or(`user_id_1.eq.${e.id},user_id_2.eq.${e.id}`);if(r)throw r;const n=t.filter(i=>i.status==="accepted").map(i=>i.user_id_1===e.id?i.user2:i.user1),s=t.filter(i=>i.status==="pending"&&i.action_user_id!==e.id).map(i=>i.user_id_1===e.id?i.user2:i.user1);return{friends:n,requests:s}},Jg=async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const[r,n]=[t.id,e].sort(),{error:s}=await B.from("friends").insert({user_id_1:r,user_id_2:n,status:"pending",action_user_id:t.id});if(s)throw s.code==="23505"?new Error("Ya existe una solicitud de amistad con este usuario."):s},Z$=async(e,t)=>{const{data:{user:r}}=await B.auth.getUser();if(!r)throw new Error("Usuario no autenticado");const[n,s]=[r.id,e].sort();if(t){const{error:i}=await B.from("friends").update({status:"accepted",action_user_id:r.id}).eq("user_id_1",n).eq("user_id_2",s);if(i)throw i}else{const{error:i}=await B.from("friends").delete().eq("user_id_1",n).eq("user_id_2",s);if(i)throw i}},eV=async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const[r,n]=[t.id,e].sort(),{error:s}=await B.from("friends").delete().eq("user_id_1",r).eq("user_id_2",n);if(s)throw s},W_=async(e=null)=>{let t=e;if(!t){const{data:{user:i}}=await B.auth.getUser();if(!i)return[];t=i.id}const{data:r,error:n}=await B.from("enrollments").select(`
      id,
      started_at,
      completed_at,
      program:programs(
        id,
        name,
        description,
        level,
        cover_url
      )
    `).eq("user_id",t).eq("status","completed").order("completed_at",{ascending:!1});if(n)throw console.error("Error fetching user achievements:",n),n;return await Promise.all(r.map(async i=>{const{count:o}=await B.from("session_progress").select("*",{count:"exact",head:!0}).eq("enrollment_id",i.id).eq("completed",!0);return{...i,completed_sessions:o||0}}))},H_=async(e=null)=>{let t=e;if(!t){const{data:{user:s}}=await B.auth.getUser();if(!s)return{totalPrograms:0,totalSessions:0};t=s.id}const{count:r}=await B.from("enrollments").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("status","completed"),{count:n}=await B.from("session_progress").select(`
      id,
      enrollment:enrollments!inner(user_id)
    `,{count:"exact",head:!0}).eq("completed",!0).eq("enrollment.user_id",t);return{totalPrograms:r||0,totalSessions:n||0}},tV=async e=>{if(!e)return[];const{data:{user:t}}=await B.auth.getUser();if(!t)return[];const{data:r,error:n}=await B.from("enrollments").select(`
      id,
      user_id,
      program_id,
      profiles:user_id(display_name, photo_url),
      program:program_id(name)
    `).eq("program_id",e).eq("status","active");return n?(console.error("Error fetching program enrolled students:",n),[]):(r||[]).filter(s=>s.user_id!==t.id).map(s=>{var i,o,l;return{id:s.user_id,display_name:(i=s.profiles)==null?void 0:i.display_name,photo_url:(o=s.profiles)==null?void 0:o.photo_url,program_id:s.program_id,program_name:(l=s.program)==null?void 0:l.name}})},rV=async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Usuario no autenticado");if(e){const{data:n}=await B.from("profiles").select("role").eq("id",e.id).single();if(n.role!=="admin")throw new Error("Acción no autorizada")}const{data:t,error:r}=await B.rpc("get_enrolled_students",{p_admin_id:e.id});if(r)throw r;return t},nV=async()=>{const{data:e,error:t}=await B.from("programs").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},sV=async e=>{const{data:t,error:r}=await B.from("programs").insert([e]).select();if(r)throw r;return t},iV=async(e,t)=>{const{data:r,error:n}=await B.from("programs").update(t).eq("id",e).select();if(n)throw n;return r},oV=async e=>{const{error:t}=await B.from("programs").delete().eq("id",e);if(t)throw t},aV=async e=>{const{data:t,error:r}=await B.from("programs").select(`
      *,
      weeks:program_weeks (
        *,
        sessions:program_sessions (
          *
        )
      )
    `).eq("id",e).order("week_order",{foreignTable:"weeks",ascending:!0}).order("session_order",{foreignTable:"weeks.sessions",ascending:!0}).single();if(r)throw r;return t},lV=async(e,t)=>{let{data:r,error:n}=await B.from("program_sessions").update(t).eq("id",e).select().single();if(n&&/objective/i.test(n.message)){const{objective:s,...i}=t;({data:r,error:n}=await B.from("program_sessions").update(i).eq("id",e).select().single())}if(n)throw n;return r},cV=async(e,t)=>{const{data:r,error:n}=await B.from("program_weeks").update(t).eq("id",e).select().single();if(n)throw n;return r},q_=async(e,t=null)=>{const{data:r,error:n}=await B.from("program_weeks").select("week_order").eq("program_id",e).order("week_order",{ascending:!1}).limit(1);if(n)throw n;const s=r&&r.length>0?(r[0].week_order||0)+1:1,{data:i,error:o}=await B.from("program_weeks").insert([{program_id:e,week_order:s,label:t||`Semana ${s}`}]).select("*").single();if(o)throw o;return i},uV=async e=>{await B.from("program_sessions").delete().eq("week_id",e);const{error:t}=await B.from("program_weeks").delete().eq("id",e);if(t)throw t},Zg=async(e,t={})=>{const{data:r,error:n}=await B.from("program_sessions").select("session_order").eq("week_id",e).order("session_order",{ascending:!1}).limit(1);if(n)throw n;const s=r&&r.length>0?(r[0].session_order||0)+1:1,i={title:t.title||`Sesión ${s}`,week_id:e,session_order:s,exercises:t.exercises||[],video_url:t.video_url||null,objective:t.objective||null};let{data:o,error:l}=await B.from("program_sessions").insert([i]).select("*").single();if(l&&/objective/i.test(l.message)){const{objective:c,...u}=i;({data:o,error:l}=await B.from("program_sessions").insert([u]).select("*").single())}if(l)throw l;return o},dV=async e=>{const{error:t}=await B.from("program_sessions").delete().eq("id",e);if(t)throw t},fV=async e=>{const{data:t,error:r}=await B.from("program_weeks").select("*, sessions:program_sessions(*)").eq("id",e).single();if(r)throw r;const n=await q_(t.program_id,`${t.label||"Semana"} (Copia)`);for(const s of t.sessions||[])await Zg(n.id,{title:`${s.title} (Copia)`,exercises:s.exercises||[],video_url:s.video_url||null,objective:s.objective||null});return n},hV=async e=>{const{data:t,error:r}=await B.from("program_sessions").select("*").eq("id",e).single();if(r)throw r;return await Zg(t.week_id,{title:`${t.title} (Copia)`,exercises:t.exercises||[],video_url:t.video_url||null,objective:t.objective||null})},mV=async(e,t)=>{if(!Array.isArray(t))throw new Error("orderedWeekIds debe ser un array");const{error:r}=await B.rpc("reorder_program_weeks",{p_program_id:e,p_week_ids:t});if(r){for(let n=0;n<t.length;n++){const s=t[n],{error:i}=await B.from("program_weeks").update({week_order:1e3+n+1}).eq("id",s);if(i)throw i}for(let n=0;n<t.length;n++){const s=t[n],{error:i}=await B.from("program_weeks").update({week_order:n+1}).eq("id",s);if(i)throw i}}},pV=async(e,t)=>{if(!Array.isArray(t))throw new Error("orderedSessionIds debe ser un array");const{error:r}=await B.rpc("reorder_week_sessions",{p_week_id:e,p_session_ids:t});if(r){for(let n=0;n<t.length;n++){const s=t[n],{error:i}=await B.from("program_sessions").update({session_order:1e3+n+1}).eq("id",s);if(i)throw i}for(let n=0;n<t.length;n++){const s=t[n],{error:i}=await B.from("program_sessions").update({session_order:n+1}).eq("id",s);if(i)throw i}}},gV=async()=>{const{data:e,error:t}=await B.from("lesson_categories").select("*, lessons(*)").order("order",{ascending:!0});if(t)throw t;return e},vV=async e=>{const{data:t,error:r}=await B.from("lesson_categories").insert([e]).select();if(r)throw r;return t},yV=async(e,t)=>{const{data:r,error:n}=await B.from("lesson_categories").update(t).eq("id",e).select();if(n)throw n;return r},xV=async e=>{await B.from("lessons").delete().eq("category_id",e);const{error:t}=await B.from("lesson_categories").delete().eq("id",e);if(t)throw t},wV=async e=>{let{data:t,error:r}=await B.from("lessons").insert([e]).select();if(r&&/applicable_task/i.test(r.message)){const{applicable_task:n,...s}=e;({data:t,error:r}=await B.from("lessons").insert([s]).select())}if(r)throw r;return t},bV=async(e,t)=>{let{data:r,error:n}=await B.from("lessons").update(t).eq("id",e).select();if(n&&/applicable_task/i.test(n.message)){const{applicable_task:s,...i}=t;({data:r,error:n}=await B.from("lessons").update(i).eq("id",e).select())}if(n)throw n;return r},jV=async e=>{const{data:t,error:r}=await B.from("lessons").delete().eq("id",e);if(r)throw r},SV=async()=>{const{data:e,error:t}=await B.from("enrollments").select(`
      id,
      started_at,
      profiles:user_id(display_name, photo_url),
      program:program_id(name)
    `).order("started_at",{ascending:!1});if(t)throw console.error("Error fetching enrollments:",t),t;return e},_V=async()=>{const{data:e,error:t}=await B.from("session_progress").select(`
      id,
      completed_at,
      real_rpe,
      notes,
      profiles:user_id(display_name, photo_url),
      session:session_id(title, week:week_id(program:program_id(name)))
    `).order("completed_at",{ascending:!1});if(t)throw console.error("Error fetching session progress:",t),t;return e};function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function CV(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ht(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...w}=f,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=m.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=m.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,EV(s,...t)]}function EV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var tt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},NV=gp[" useId ".trim().toString()]||(()=>{}),kV=0;function Dr(e){const[t,r]=m.useState(NV());return tt(()=>{e||r(n=>n??String(kV++))},[e]),e||(t?`radix-${t}`:"")}var PV=gp[" useInsertionEffect ".trim().toString()]||tt;function nn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=TV({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=AV(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function TV({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),i=m.useRef(t);return PV(()=>{i.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function AV(e){return typeof e=="function"}var RV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=RV.reduce((e,t)=>{const r=ei(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ev(e,t){e&&di.flushSync(()=>e.dispatchEvent(t))}function At(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function OV(e,t=globalThis==null?void 0:globalThis.document){const r=At(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MV="DismissableLayer",zm="dismissableLayer.update",DV="dismissableLayer.pointerDownOutside",IV="dismissableLayer.focusOutside",r0,G_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(G_),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=pe(t,k=>f(k)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),g=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=y,S=FV(k=>{const N=k.target,F=[...u.branches].some(O=>O.contains(N));!j||F||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),P=$V(k=>{const N=k.target;[...u.branches].some(O=>O.contains(N))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return OV(k=>{g===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(r0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),n0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=r0)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),n0())},[d,u]),m.useEffect(()=>{const k=()=>p({});return document.addEventListener(zm,k),()=>document.removeEventListener(zm,k)},[]),a.jsx(oe.div,{...c,ref:w,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,P.onFocusCapture),onBlurCapture:X(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,S.onPointerDownCapture)})});xl.displayName=MV;var LV="DismissableLayerBranch",K_=m.forwardRef((e,t)=>{const r=m.useContext(G_),n=m.useRef(null),s=pe(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(oe.div,{...e,ref:s})});K_.displayName=LV;function FV(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Y_(DV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $V(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&Y_(IV,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function n0(){const e=new CustomEvent(zm);document.dispatchEvent(e)}function Y_(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ev(s,i):s.dispatchEvent(i)}var VV=xl,UV=K_,Qf="focusScope.autoFocusOnMount",Jf="focusScope.autoFocusOnUnmount",s0={bubbles:!1,cancelable:!0},BV="FocusScope",Ed=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),u=At(s),d=At(i),f=m.useRef(null),h=pe(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(x){if(p.paused||!l)return;const j=x.target;l.contains(j)?f.current=j:Un(f.current,{select:!0})},b=function(x){if(p.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||Un(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Un(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),g.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){o0.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Qf,s0);l.addEventListener(Qf,u),l.dispatchEvent(y),y.defaultPrevented||(zV(KV(X_(l)),{select:!0}),document.activeElement===v&&Un(l))}return()=>{l.removeEventListener(Qf,u),setTimeout(()=>{const y=new CustomEvent(Jf,s0);l.addEventListener(Jf,d),l.dispatchEvent(y),y.defaultPrevented||Un(v??document.body,{select:!0}),l.removeEventListener(Jf,d),o0.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(v=>{if(!r&&!n||p.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const g=v.currentTarget,[x,j]=WV(g);x&&j?!v.shiftKey&&y===j?(v.preventDefault(),r&&Un(x,{select:!0})):v.shiftKey&&y===x&&(v.preventDefault(),r&&Un(j,{select:!0})):y===g&&v.preventDefault()}},[r,n,p.paused]);return a.jsx(oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});Ed.displayName=BV;function zV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Un(n,{select:t}),document.activeElement!==r)return}function WV(e){const t=X_(e),r=i0(t,e),n=i0(t.reverse(),e);return[r,n]}function X_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function i0(e,t){for(const r of e)if(!HV(r,{upTo:t}))return r}function HV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qV(e){return e instanceof HTMLInputElement&&"select"in e}function Un(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qV(e)&&t&&e.select()}}var o0=GV();function GV(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=a0(e,t),e.unshift(t)},remove(t){var r;e=a0(e,t),(r=e[0])==null||r.resume()}}}function a0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function KV(e){return e.filter(t=>t.tagName!=="A")}var YV="Portal",wl=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);tt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?m2.createPortal(a.jsx(oe.div,{...n,ref:t}),o):null});wl.displayName=YV;function XV(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var gr=e=>{const{present:t,children:r}=e,n=QV(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=pe(n.ref,JV(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};gr.displayName="Presence";function QV(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=XV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=lc(n.current);i.current=l==="mounted"?u:"none"},[l]),tt(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=lc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),tt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=lc(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(i.current=lc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function lc(e){return(e==null?void 0:e.animationName)||"none"}function JV(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Zf=0;function tv(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??l0()),document.body.insertAdjacentElement("beforeend",e[1]??l0()),Zf++,()=>{Zf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Zf--}},[])}function l0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qr=function(){return qr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qr.apply(this,arguments)};function Q_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ZV(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Oc="right-scroll-bar-position",Mc="width-before-scroll-bar",e3="with-scroll-bars-hidden",t3="--removed-body-scroll-bar-size";function eh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function r3(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var n3=typeof window<"u"?m.useLayoutEffect:m.useEffect,c0=new WeakMap;function s3(e,t){var r=r3(t||null,function(n){return e.forEach(function(s){return eh(s,n)})});return n3(function(){var n=c0.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||eh(l,null)}),i.forEach(function(l){s.has(l)||eh(l,o)})}c0.set(r,e)},[e]),r}function i3(e){return e}function o3(e,t){t===void 0&&(t=i3);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function a3(e){e===void 0&&(e={});var t=o3(null);return t.options=qr({async:!0,ssr:!1},e),t}var J_=function(e){var t=e.sideCar,r=Q_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,qr({},r))};J_.isSideCarExport=!0;function l3(e,t){return e.useMedium(t),J_}var Z_=a3(),th=function(){},Nd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:th,onWheelCapture:th,onTouchMoveCapture:th}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,x=e.gapMode,j=Q_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,P=s3([r,t]),k=qr(qr({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:Z_,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:x}),o?m.cloneElement(m.Children.only(l),qr(qr({},k),{ref:P})):m.createElement(g,qr({},k,{className:c,ref:P}),l))});Nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nd.classNames={fullWidth:Mc,zeroRight:Oc};var u0,c3=function(){if(u0)return u0;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=c3();return t&&e.setAttribute("nonce",t),e}function d3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function f3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var h3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=u3())&&(d3(t,r),f3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},m3=function(){var e=h3();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},eC=function(){var e=m3(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},p3={left:0,top:0,right:0,gap:0},rh=function(e){return parseInt(e||"",10)||0},g3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rh(r),rh(n),rh(s)]},v3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return p3;var t=g3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},y3=eC(),Ji="data-scroll-locked",x3=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(e3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ji,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ji,`] {
    `).concat(t3,": ").concat(l,`px;
  }
`)},d0=function(){var e=parseInt(document.body.getAttribute(Ji)||"0",10);return isFinite(e)?e:0},w3=function(){m.useEffect(function(){return document.body.setAttribute(Ji,(d0()+1).toString()),function(){var e=d0()-1;e<=0?document.body.removeAttribute(Ji):document.body.setAttribute(Ji,e.toString())}},[])},b3=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;w3();var i=m.useMemo(function(){return v3(s)},[s]);return m.createElement(y3,{styles:x3(i,!t,s,r?"":"!important")})},Wm=!1;if(typeof window<"u")try{var cc=Object.defineProperty({},"passive",{get:function(){return Wm=!0,!0}});window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{Wm=!1}var ji=Wm?{passive:!1}:!1,j3=function(e){return e.tagName==="TEXTAREA"},tC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!j3(e)&&r[t]==="visible")},S3=function(e){return tC(e,"overflowY")},_3=function(e){return tC(e,"overflowX")},f0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=rC(e,n);if(s){var i=nC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},C3=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},E3=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},rC=function(e,t){return e==="v"?S3(t):_3(t)},nC=function(e,t){return e==="v"?C3(t):E3(t)},N3=function(e,t){return e==="h"&&t==="rtl"?-1:1},k3=function(e,t,r,n,s){var i=N3(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=nC(e,l),w=p[0],v=p[1],b=p[2],y=v-b-i*w;(w||y)&&rC(e,l)&&(f+=y,h+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(h)<1||!s&&-o>h))&&(u=!0),u},uc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},h0=function(e){return[e.deltaX,e.deltaY]},m0=function(e){return e&&"current"in e?e.current:e},P3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},T3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A3=0,Si=[];function R3(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(A3++)[0],i=m.useState(eC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=ZV([e.lockRef.current],(e.shards||[]).map(m0),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=uc(v),g=r.current,x="deltaX"in v?v.deltaX:g[0]-y[0],j="deltaY"in v?v.deltaY:g[1]-y[1],S,P=v.target,k=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in v&&k==="h"&&P.type==="range")return!1;var N=f0(k,P);if(!N)return!0;if(N?S=k:(S=k==="v"?"h":"v",N=f0(k,P)),!N)return!1;if(!n.current&&"changedTouches"in v&&(x||j)&&(n.current=S),!S)return!0;var F=n.current||S;return k3(F,b,v,F==="h"?x:j,!0)},[]),c=m.useCallback(function(v){var b=v;if(!(!Si.length||Si[Si.length-1]!==i)){var y="deltaY"in b?h0(b):uc(b),g=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&P3(S.delta,y)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(m0).filter(Boolean).filter(function(S){return S.contains(b.target)}),j=x.length>0?l(b,x[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(v,b,y,g){var x={name:v,delta:b,target:y,should:g,shadowParent:O3(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),d=m.useCallback(function(v){r.current=uc(v),n.current=void 0},[]),f=m.useCallback(function(v){u(v.type,h0(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,uc(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Si.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ji),document.addEventListener("touchmove",c,ji),document.addEventListener("touchstart",d,ji),function(){Si=Si.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,ji),document.removeEventListener("touchmove",c,ji),document.removeEventListener("touchstart",d,ji)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:T3(s)}):null,p?m.createElement(b3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function O3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const M3=l3(Z_,R3);var sC=m.forwardRef(function(e,t){return m.createElement(Nd,qr({},e,{ref:t,sideCar:M3}))});sC.classNames=Nd.classNames;const rv=sC;var D3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_i=new WeakMap,dc=new WeakMap,fc={},nh=0,iC=function(e){return e&&(e.host||iC(e.parentNode))},I3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=iC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},L3=function(e,t,r,n){var s=I3(t,Array.isArray(e)?e:[e]);fc[r]||(fc[r]=new WeakMap);var i=fc[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),w=p!==null&&p!=="false",v=(_i.get(h)||0)+1,b=(i.get(h)||0)+1;_i.set(h,v),i.set(h,b),o.push(h),v===1&&w&&dc.set(h,!0),b===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),nh++,function(){o.forEach(function(f){var h=_i.get(f)-1,p=i.get(f)-1;_i.set(f,h),i.set(f,p),h||(dc.has(f)||f.removeAttribute(n),dc.delete(f)),p||f.removeAttribute(r)}),nh--,nh||(_i=new WeakMap,_i=new WeakMap,dc=new WeakMap,fc={})}},nv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||D3(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),L3(n,s,r,"aria-hidden")):function(){return null}},kd="Dialog",[oC,aC]=Ht(kd),[F3,$r]=oC(kd),lC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=nn({prop:n,defaultProp:s??!1,onChange:i,caller:kd});return a.jsx(F3,{scope:t,triggerRef:l,contentRef:c,contentId:Dr(),titleId:Dr(),descriptionId:Dr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};lC.displayName=kd;var cC="DialogTrigger",uC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$r(cC,r),i=pe(t,s.triggerRef);return a.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ov(s.open),...n,ref:i,onClick:X(e.onClick,s.onOpenToggle)})});uC.displayName=cC;var sv="DialogPortal",[$3,dC]=oC(sv,{forceMount:void 0}),fC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=$r(sv,t);return a.jsx($3,{scope:t,forceMount:r,children:m.Children.map(n,o=>a.jsx(gr,{present:r||i.open,children:a.jsx(wl,{asChild:!0,container:s,children:o})}))})};fC.displayName=sv;var wu="DialogOverlay",hC=m.forwardRef((e,t)=>{const r=dC(wu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=$r(wu,e.__scopeDialog);return i.modal?a.jsx(gr,{present:n||i.open,children:a.jsx(U3,{...s,ref:t})}):null});hC.displayName=wu;var V3=ei("DialogOverlay.RemoveScroll"),U3=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$r(wu,r);return a.jsx(rv,{as:V3,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(oe.div,{"data-state":ov(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ti="DialogContent",mC=m.forwardRef((e,t)=>{const r=dC(ti,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=$r(ti,e.__scopeDialog);return a.jsx(gr,{present:n||i.open,children:i.modal?a.jsx(B3,{...s,ref:t}):a.jsx(z3,{...s,ref:t})})});mC.displayName=ti;var B3=m.forwardRef((e,t)=>{const r=$r(ti,e.__scopeDialog),n=m.useRef(null),s=pe(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return nv(i)},[]),a.jsx(pC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault())})}),z3=m.forwardRef((e,t)=>{const r=$r(ti,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(pC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),pC=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=$r(ti,r),c=m.useRef(null),u=pe(t,c);return tv(),a.jsxs(a.Fragment,{children:[a.jsx(Ed,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(xl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ov(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(H3,{titleId:l.titleId}),a.jsx(G3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),iv="DialogTitle",gC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$r(iv,r);return a.jsx(oe.h2,{id:s.titleId,...n,ref:t})});gC.displayName=iv;var vC="DialogDescription",yC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$r(vC,r);return a.jsx(oe.p,{id:s.descriptionId,...n,ref:t})});yC.displayName=vC;var xC="DialogClose",wC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$r(xC,r);return a.jsx(oe.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});wC.displayName=xC;function ov(e){return e?"open":"closed"}var bC="DialogTitleWarning",[W3,jC]=CV(bC,{contentName:ti,titleName:iv,docsSlug:"dialog"}),H3=({titleId:e})=>{const t=jC(bC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},q3="DialogDescriptionWarning",G3=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jC(q3).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SC=lC,K3=uC,av=fC,lv=hC,cv=mC,uv=gC,dv=yC,Pd=wC;const En=SC,_C=({className:e,...t})=>a.jsx(av,{className:de(e),...t});_C.displayName=av.displayName;const Hm=Pd,CC=Z.forwardRef(({className:e,...t},r)=>a.jsx(lv,{ref:r,asChild:!0,...t,children:a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:de("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm",e)})}));CC.displayName=lv.displayName;const sn=Z.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(_C,{children:[a.jsx(CC,{}),a.jsx(cv,{ref:n,asChild:!0,...r,children:a.jsxs(te.div,{initial:{opacity:0,scale:.95,y:"-45%"},animate:{opacity:1,scale:1,y:"-50%"},exit:{opacity:0,scale:.95,y:"-45%"},transition:{duration:.2,ease:"easeOut"},className:de("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] border bg-card shadow-lg duration-200","w-[95vw] rounded-lg md:w-full",e),children:[a.jsx("div",{className:"relative p-6",children:t}),a.jsxs(Pd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Xa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));sn.displayName=cv.displayName;const Nn=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left mb-4",e),...t});Nn.displayName="DialogHeader";const vs=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-6",e),...t});vs.displayName="DialogFooter";const kn=Z.forwardRef(({className:e,...t},r)=>a.jsx(uv,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));kn.displayName=uv.displayName;const Qa=Z.forwardRef(({className:e,...t},r)=>a.jsx(dv,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));Qa.displayName=dv.displayName;function bu(e,[t,r]){return Math.min(r,Math.max(t,e))}var Y3=m.createContext(void 0);function bl(e){const t=m.useContext(Y3);return e||t||"ltr"}function fv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function hv(e){const[t,r]=m.useState(void 0);return tt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function jl(e){const t=e+"CollectionProvider",[r,n]=Ht(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:y}=v,g=Z.useRef(null),x=Z.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:x,collectionRef:g,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=ei(l),u=Z.forwardRef((v,b)=>{const{scope:y,children:g}=v,x=i(l,y),j=pe(b,x.collectionRef);return a.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ei(d),p=Z.forwardRef((v,b)=>{const{scope:y,children:g,...x}=v,j=Z.useRef(null),S=pe(b,j),P=i(d,y);return Z.useEffect(()=>(P.itemMap.set(j,{ref:j,...x}),()=>void P.itemMap.delete(j))),a.jsx(h,{[f]:"",ref:S,children:g})});p.displayName=d;function w(v){const b=i(e+"CollectionConsumer",v);return Z.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((P,k)=>x.indexOf(P.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,n]}var EC=["PageUp","PageDown"],NC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ko="Slider",[qm,X3,Q3]=jl(ko),[PC,h7]=Ht(ko,[Q3]),[J3,Td]=PC(ko),TC=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:w,...v}=e,b=m.useRef(new Set),y=m.useRef(0),x=o==="horizontal"?Z3:e5,[j=[],S]=nn({prop:d,defaultProp:u,onChange:V=>{var W;(W=[...b.current][y.current])==null||W.focus(),f(V)}}),P=m.useRef(j);function k(V){const I=i5(j,V);O(V,I)}function N(V){O(V,y.current)}function F(){const V=P.current[y.current];j[y.current]!==V&&h(j)}function O(V,I,{commit:W}={commit:!1}){const $=c5(i),E=u5(Math.round((V-n)/i)*i+n,$),_=bu(E,[n,s]);S((R=[])=>{const C=n5(R,_,I);if(l5(C,c*i)){y.current=C.indexOf(_);const A=String(C)!==String(R);return A&&W&&h(C),A?C:R}else return R})}return a.jsx(J3,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:y,thumbs:b.current,values:j,orientation:o,form:w,children:a.jsx(qm.Provider,{scope:e.__scopeSlider,children:a.jsx(qm.Slot,{scope:e.__scopeSlider,children:a.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:t,onPointerDown:X(v.onPointerDown,()=>{l||(P.current=j)}),min:n,max:s,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:F,onHomeKeyDown:()=>!l&&O(n,0,{commit:!0}),onEndKeyDown:()=>!l&&O(s,j.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:I})=>{if(!l){const E=EC.includes(V.key)||V.shiftKey&&NC.includes(V.key)?10:1,_=y.current,R=j[_],C=i*E*I;O(R+C,_,{commit:!0})}}})})})})});TC.displayName=ko;var[AC,RC]=PC(ko,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Z3=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=m.useState(null),p=pe(t,x=>h(x)),w=m.useRef(void 0),v=bl(s),b=v==="ltr",y=b&&!i||!b&&i;function g(x){const j=w.current||f.getBoundingClientRect(),S=[0,j.width],k=mv(S,y?[r,n]:[n,r]);return w.current=j,k(x-j.left)}return a.jsx(AC,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(OC,{dir:v,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const j=g(x.clientX);o==null||o(j)},onSlideMove:x=>{const j=g(x.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:x=>{const S=kC[y?"from-left":"from-right"].includes(x.key);u==null||u({event:x,direction:S?-1:1})}})})}),e5=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=m.useRef(null),f=pe(t,d),h=m.useRef(void 0),p=!s;function w(v){const b=h.current||d.current.getBoundingClientRect(),y=[0,b.height],x=mv(y,p?[n,r]:[r,n]);return h.current=b,x(v-b.top)}return a.jsx(AC,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(OC,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=w(v.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:v=>{const y=kC[p?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:y?-1:1})}})})}),OC=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Td(ko,r);return a.jsx(oe.span,{...u,ref:t,onKeyDown:X(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):EC.concat(NC).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:X(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:X(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:X(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),MC="SliderTrack",DC=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Td(MC,r);return a.jsx(oe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});DC.displayName=MC;var Gm="SliderRange",IC=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Td(Gm,r),i=RC(Gm,r),o=m.useRef(null),l=pe(t,o),c=s.values.length,u=s.values.map(h=>$C(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(oe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});IC.displayName=Gm;var Km="SliderThumb",LC=m.forwardRef((e,t)=>{const r=X3(e.__scopeSlider),[n,s]=m.useState(null),i=pe(t,l=>s(l)),o=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(t5,{...e,ref:i,index:o})}),t5=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,o=Td(Km,r),l=RC(Km,r),[c,u]=m.useState(null),d=pe(t,g=>u(g)),f=c?o.form||!!c.closest("form"):!0,h=hv(c),p=o.values[n],w=p===void 0?0:$C(p,o.min,o.max),v=s5(n,o.values.length),b=h==null?void 0:h[l.size],y=b?o5(b,w,l.direction):0;return m.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${y}px)`},children:[a.jsx(qm.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(oe.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:X(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&a.jsx(FC,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});LC.displayName=Km;var r5="RadioBubbleInput",FC=m.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=m.useRef(null),i=pe(s,n),o=fv(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(oe.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});FC.displayName=r5;function n5(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function $C(e,t,r){const i=100/(r-t)*(e-t);return bu(i,[0,100])}function s5(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function i5(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function o5(e,t,r){const n=e/2,i=mv([0,50],[0,n]);return(n-i(t)*r)*r}function a5(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function l5(e,t){if(t>0){const r=a5(e);return Math.min(...r)>=t}return!0}function mv(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function c5(e){return(String(e).split(".")[1]||"").length}function u5(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var VC=TC,d5=DC,f5=IC,h5=LC;const UC=Z.forwardRef(({className:e,...t},r)=>a.jsxs(VC,{ref:r,className:de("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(d5,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-muted",children:a.jsx(f5,{className:"absolute h-full bg-primary"})}),a.jsx(h5,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));UC.displayName=VC.displayName;const m5=({session:e,enrollment:t,onClose:r,onComplete:n})=>{const{toast:s}=ot(),[i,o]=m.useState([7]),[l,c]=m.useState(""),u=async()=>{try{await q$(e.id,t.id,i[0],l),s({title:"🎉 ¡Sesión Completada!",description:"¡Excelente trabajo! Has ganado 50 puntos VALKA."}),n()}catch(d){s({title:"Error",description:d.message,variant:"destructive"})}};return a.jsx(En,{open:!0,onOpenChange:r,children:a.jsxs(sn,{className:"bg-card border-secondary max-w-lg",children:[a.jsx(Nn,{children:a.jsxs(kn,{className:"flex items-center justify-center gap-2 text-primary font-logo text-2xl",children:[a.jsx(er,{className:"w-6 h-6"}),"SESIÓN COMPLETADA"]})}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold tracking-wider mb-2",children:e.title}),a.jsx("p",{className:"text-muted-foreground",children:"¡Felicitaciones por completar tu sesión!"})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("label",{className:"block text-lg font-bold tracking-wider mb-3 text-center",children:["¿CÓMO TE SENTISTE? (RPE: ",i[0],")"]}),a.jsx(UC,{value:i,onValueChange:o,max:10,min:1,step:.5,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[a.jsx("span",{children:"MUY FÁCIL"}),a.jsx("span",{children:"MÁXIMO ESFUERZO"})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-lg font-bold tracking-wider mb-2 text-center",children:"NOTAS"}),a.jsx("textarea",{value:l,onChange:d=>c(d.target.value),placeholder:"¿Cómo te fue? ¿Alguna observación?",className:"w-full p-3 bg-background border border-border rounded-lg resize-none h-24"})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-4 border border-border",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold tracking-wider text-primary",children:"¡RECOMPENSAS!"}),a.jsx("p",{className:"text-sm text-foreground",children:"+50 PUNTOS VALKA"})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(z,{variant:"outline",onClick:r,className:"flex-1",children:"CANCELAR"}),a.jsxs(z,{onClick:u,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(Gg,{className:"w-4 h-4 mr-2"}),"COMPLETAR"]})]})]})]})})},p5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},g5=({profile:e,user:t})=>a.jsxs(te.div,{variants:p5,className:"mb-6 sm:mb-8",children:[a.jsxs("h1",{className:"text-2xl leading-snug font-bold mb-2 sm:text-3xl md:text-4xl break-words",children:["¡Bienvenido de vuelta, ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:(e==null?void 0:e.display_name)||(t==null?void 0:t.email)}),"! 🔥"]}),a.jsx("p",{className:"text-muted-foreground text-base sm:text-lg",children:"Listo para conquistar el día"})]}),p0={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},v5=({enrollment:e})=>{if(!e||!e.program)return null;const{program:t,completed_sessions_count:r,total_sessions_count:n,is_completed:s}=e,i=n>0?Math.round(r/n*100):0,o=t.sessions_per_week>0?Math.min(t.weeks,Math.floor(r/t.sessions_per_week)+1):1;return s?a.jsx(te.div,{variants:p0,className:"bg-gradient-to-br from-primary/80 to-secondary/80 border border-yellow-400 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-center text-center flex-col",children:[a.jsx(Vt,{className:"w-12 h-12 text-yellow-300 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold",children:"¡Programa Completado!"}),a.jsxs("p",{className:"text-lg mt-1",children:["¡Felicitaciones por terminar ",t.name,"!"]}),a.jsxs("p",{className:"text-yellow-200 mt-4",children:[r," de ",n," sesiones completadas"]})]})}):a.jsxs(te.div,{variants:p0,className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2 leading-snug break-words",children:[a.jsx(mt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),a.jsx("span",{children:"Mi Bloque Actual"})]}),a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Semana ",o," de ",t.weeks]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-primary mb-2 leading-snug",children:t.name}),a.jsxs("p",{className:"text-muted-foreground",children:["Progreso actual – ",r," de ",n," sesiones"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Progreso del Programa"}),a.jsxs("span",{children:[i,"%"]})]}),a.jsx("div",{className:"w-full bg-accent rounded-full h-3",children:a.jsx(te.div,{className:"bg-gradient-to-r from-primary to-secondary rounded-full h-3",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5,ease:"easeInOut"}})})]})]})]})},y5=["top","right","bottom","left"],ys=Math.min,Kt=Math.max,ju=Math.round,hc=Math.floor,en=e=>({x:e,y:e}),x5={left:"right",right:"left",bottom:"top",top:"bottom"},w5={start:"end",end:"start"};function Ym(e,t,r){return Kt(e,ys(t,r))}function Pn(e,t){return typeof e=="function"?e(t):e}function Tn(e){return e.split("-")[0]}function Po(e){return e.split("-")[1]}function pv(e){return e==="x"?"y":"x"}function gv(e){return e==="y"?"height":"width"}const b5=new Set(["top","bottom"]);function Yr(e){return b5.has(Tn(e))?"y":"x"}function vv(e){return pv(Yr(e))}function j5(e,t,r){r===void 0&&(r=!1);const n=Po(e),s=vv(e),i=gv(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Su(o)),[o,Su(o)]}function S5(e){const t=Su(e);return[Xm(e),t,Xm(t)]}function Xm(e){return e.replace(/start|end/g,t=>w5[t])}const g0=["left","right"],v0=["right","left"],_5=["top","bottom"],C5=["bottom","top"];function E5(e,t,r){switch(e){case"top":case"bottom":return r?t?v0:g0:t?g0:v0;case"left":case"right":return t?_5:C5;default:return[]}}function N5(e,t,r,n){const s=Po(e);let i=E5(Tn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Xm)))),i}function Su(e){return e.replace(/left|right|bottom|top/g,t=>x5[t])}function k5(e){return{top:0,right:0,bottom:0,left:0,...e}}function BC(e){return typeof e!="number"?k5(e):{top:e,right:e,bottom:e,left:e}}function _u(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function y0(e,t,r){let{reference:n,floating:s}=e;const i=Yr(t),o=vv(t),l=gv(o),c=Tn(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Po(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const P5=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=y0(u,n,c),h=n,p={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:y}=l[v],{x:g,y:x,data:j,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=x??f,p={...p,[b]:{...p[b],...j}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=y0(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Ja(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Pn(t,e),w=BC(p),b=l[h?f==="floating"?"reference":"floating":f],y=_u(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=_u(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(y.top-S.top+w.top)/j.y,bottom:(S.bottom-y.bottom+w.bottom)/j.y,left:(y.left-S.left+w.left)/j.x,right:(S.right-y.right+w.right)/j.x}}const T5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Pn(e,t)||{};if(u==null)return{};const f=BC(d),h={x:r,y:n},p=vv(s),w=gv(p),v=await o.getDimensions(u),b=p==="y",y=b?"top":"left",g=b?"bottom":"right",x=b?"clientHeight":"clientWidth",j=i.reference[w]+i.reference[p]-h[p]-i.floating[w],S=h[p]-i.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=P?P[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(P)))&&(k=l.floating[x]||i.floating[w]);const N=j/2-S/2,F=k/2-v[w]/2-1,O=ys(f[y],F),V=ys(f[g],F),I=O,W=k-v[w]-V,$=k/2-v[w]/2+N,E=Ym(I,$,W),_=!c.arrow&&Po(s)!=null&&$!==E&&i.reference[w]/2-($<I?O:V)-v[w]/2<0,R=_?$<I?$-I:$-W:0;return{[p]:h[p]+R,data:{[p]:E,centerOffset:$-E-R,..._&&{alignmentOffset:R}},reset:_}}}),A5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=Pn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Tn(s),g=Yr(l),x=Tn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(x||!v?[Su(l)]:S5(l)),P=w!=="none";!h&&P&&S.push(...N5(l,v,w,j));const k=[l,...S],N=await Ja(t,b),F=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&F.push(N[y]),f){const $=j5(s,o,j);F.push(N[$[0]],N[$[1]])}if(O=[...O,{placement:s,overflows:F}],!F.every($=>$<=0)){var V,I;const $=(((V=i.flip)==null?void 0:V.index)||0)+1,E=k[$];if(E&&(!(f==="alignment"?g!==Yr(E):!1)||O.every(C=>Yr(C.placement)===g?C.overflows[0]>0:!0)))return{data:{index:$,overflows:O},reset:{placement:E}};let _=(I=O.filter(R=>R.overflows[0]<=0).sort((R,C)=>R.overflows[1]-C.overflows[1])[0])==null?void 0:I.placement;if(!_)switch(p){case"bestFit":{var W;const R=(W=O.filter(C=>{if(P){const A=Yr(C.placement);return A===g||A==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(A=>A>0).reduce((A,D)=>A+D,0)]).sort((C,A)=>C[1]-A[1])[0])==null?void 0:W[0];R&&(_=R);break}case"initialPlacement":_=l;break}if(s!==_)return{reset:{placement:_}}}return{}}}};function x0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function w0(e){return y5.some(t=>e[t]>=0)}const R5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Pn(e,t);switch(n){case"referenceHidden":{const i=await Ja(t,{...s,elementContext:"reference"}),o=x0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:w0(o)}}}case"escaped":{const i=await Ja(t,{...s,altBoundary:!0}),o=x0(i,r.floating);return{data:{escapedOffsets:o,escaped:w0(o)}}}default:return{}}}}},zC=new Set(["left","top"]);async function O5(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Tn(r),l=Po(r),c=Yr(r)==="y",u=zC.has(o)?-1:1,d=i&&c?-1:1,f=Pn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const M5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await O5(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},D5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:g}=b;return{x:y,y:g}}},...c}=Pn(e,t),u={x:r,y:n},d=await Ja(t,c),f=Yr(Tn(s)),h=pv(f);let p=u[h],w=u[f];if(i){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=p+d[b],x=p-d[y];p=Ym(g,p,x)}if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=w+d[b],x=w-d[y];w=Ym(g,w,x)}const v=l.fn({...t,[h]:p,[f]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:i,[f]:o}}}}}},I5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Pn(e,t),d={x:r,y:n},f=Yr(s),h=pv(f);let p=d[h],w=d[f];const v=Pn(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=h==="y"?"height":"width",j=i.reference[h]-i.floating[x]+b.mainAxis,S=i.reference[h]+i.reference[x]-b.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var y,g;const x=h==="y"?"width":"height",j=zC.has(Tn(s)),S=i.reference[f]-i.floating[x]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:b.crossAxis),P=i.reference[f]+i.reference[x]+(j?0:((g=o.offset)==null?void 0:g[f])||0)-(j?b.crossAxis:0);w<S?w=S:w>P&&(w=P)}return{[h]:p,[f]:w}}}},L5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Pn(e,t),d=await Ja(t,u),f=Tn(s),h=Po(s),p=Yr(s)==="y",{width:w,height:v}=i.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const g=v-d.top-d.bottom,x=w-d.left-d.right,j=ys(v-d[b],g),S=ys(w-d[y],x),P=!t.middlewareData.shift;let k=j,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=g),P&&!h){const O=Kt(d.left,0),V=Kt(d.right,0),I=Kt(d.top,0),W=Kt(d.bottom,0);p?N=w-2*(O!==0||V!==0?O+V:Kt(d.left,d.right)):k=v-2*(I!==0||W!==0?I+W:Kt(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const F=await o.getDimensions(l.floating);return w!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function Ad(){return typeof window<"u"}function To(e){return WC(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ln(e){var t;return(t=(WC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WC(e){return Ad()?e instanceof Node||e instanceof Qt(e).Node:!1}function Lr(e){return Ad()?e instanceof Element||e instanceof Qt(e).Element:!1}function on(e){return Ad()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function b0(e){return!Ad()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}const F5=new Set(["inline","contents"]);function Sl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!F5.has(s)}const $5=new Set(["table","td","th"]);function V5(e){return $5.has(To(e))}const U5=[":popover-open",":modal"];function Rd(e){return U5.some(t=>{try{return e.matches(t)}catch{return!1}})}const B5=["transform","translate","scale","rotate","perspective"],z5=["transform","translate","scale","rotate","perspective","filter"],W5=["paint","layout","strict","content"];function yv(e){const t=xv(),r=Lr(e)?Fr(e):e;return B5.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||z5.some(n=>(r.willChange||"").includes(n))||W5.some(n=>(r.contain||"").includes(n))}function H5(e){let t=xs(e);for(;on(t)&&!ho(t);){if(yv(t))return t;if(Rd(t))return null;t=xs(t)}return null}function xv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q5=new Set(["html","body","#document"]);function ho(e){return q5.has(To(e))}function Fr(e){return Qt(e).getComputedStyle(e)}function Od(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xs(e){if(To(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b0(e)&&e.host||ln(e);return b0(t)?t.host:t}function HC(e){const t=xs(e);return ho(t)?e.ownerDocument?e.ownerDocument.body:e.body:on(t)&&Sl(t)?t:HC(t)}function Za(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=HC(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Qt(s);if(i){const l=Qm(o);return t.concat(o,o.visualViewport||[],Sl(s)?s:[],l&&r?Za(l):[])}return t.concat(s,Za(s,[],r))}function Qm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qC(e){const t=Fr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=on(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=ju(r)!==i||ju(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function wv(e){return Lr(e)?e:e.contextElement}function Zi(e){const t=wv(e);if(!on(t))return en(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=qC(t);let o=(i?ju(r.width):r.width)/n,l=(i?ju(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const G5=en(0);function GC(e){const t=Qt(e);return!xv()||!t.visualViewport?G5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function K5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qt(e)?!1:t}function ri(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=wv(e);let o=en(1);t&&(n?Lr(n)&&(o=Zi(n)):o=Zi(e));const l=K5(i,r,n)?GC(i):en(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Qt(i),p=n&&Lr(n)?Qt(n):n;let w=h,v=Qm(w);for(;v&&n&&p!==w;){const b=Zi(v),y=v.getBoundingClientRect(),g=Fr(v),x=y.left+(v.clientLeft+parseFloat(g.paddingLeft))*b.x,j=y.top+(v.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=x,u+=j,w=Qt(v),v=Qm(w)}}return _u({width:d,height:f,x:c,y:u})}function Md(e,t){const r=Od(e).scrollLeft;return t?t.left+r:ri(ln(e)).left+r}function KC(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Md(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Y5(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=ln(n),l=t?Rd(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=en(1);const d=en(0),f=on(n);if((f||!f&&!i)&&((To(n)!=="body"||Sl(o))&&(c=Od(n)),on(n))){const p=ri(n);u=Zi(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?KC(o,c):en(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function X5(e){return Array.from(e.getClientRects())}function Q5(e){const t=ln(e),r=Od(e),n=e.ownerDocument.body,s=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Md(e);const l=-r.scrollTop;return Fr(n).direction==="rtl"&&(o+=Kt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const j0=25;function J5(e,t){const r=Qt(e),n=ln(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=xv();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Md(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,w=Math.abs(n.clientWidth-f.clientWidth-p);w<=j0&&(i-=w)}else u<=j0&&(i+=u);return{width:i,height:o,x:l,y:c}}const Z5=new Set(["absolute","fixed"]);function eU(e,t){const r=ri(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=on(e)?Zi(e):en(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function S0(e,t,r){let n;if(t==="viewport")n=J5(e,r);else if(t==="document")n=Q5(ln(e));else if(Lr(t))n=eU(t,r);else{const s=GC(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return _u(n)}function YC(e,t){const r=xs(e);return r===t||!Lr(r)||ho(r)?!1:Fr(r).position==="fixed"||YC(r,t)}function tU(e,t){const r=t.get(e);if(r)return r;let n=Za(e,[],!1).filter(l=>Lr(l)&&To(l)!=="body"),s=null;const i=Fr(e).position==="fixed";let o=i?xs(e):e;for(;Lr(o)&&!ho(o);){const l=Fr(o),c=yv(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Z5.has(s.position)||Sl(o)&&!c&&YC(e,o))?n=n.filter(d=>d!==o):s=l,o=xs(o)}return t.set(e,n),n}function rU(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Rd(t)?[]:tU(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=S0(t,d,s);return u.top=Kt(f.top,u.top),u.right=ys(f.right,u.right),u.bottom=ys(f.bottom,u.bottom),u.left=Kt(f.left,u.left),u},S0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nU(e){const{width:t,height:r}=qC(e);return{width:t,height:r}}function sU(e,t,r){const n=on(t),s=ln(t),i=r==="fixed",o=ri(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=en(0);function u(){c.x=Md(s)}if(n||!n&&!i)if((To(t)!=="body"||Sl(s))&&(l=Od(t)),n){const p=ri(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?KC(s,l):en(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function sh(e){return Fr(e).position==="static"}function _0(e,t){if(!on(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ln(e)===r&&(r=r.ownerDocument.body),r}function XC(e,t){const r=Qt(e);if(Rd(e))return r;if(!on(e)){let s=xs(e);for(;s&&!ho(s);){if(Lr(s)&&!sh(s))return s;s=xs(s)}return r}let n=_0(e,t);for(;n&&V5(n)&&sh(n);)n=_0(n,t);return n&&ho(n)&&sh(n)&&!yv(n)?r:n||H5(e)||r}const iU=async function(e){const t=this.getOffsetParent||XC,r=this.getDimensions,n=await r(e.floating);return{reference:sU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oU(e){return Fr(e).direction==="rtl"}const aU={convertOffsetParentRelativeRectToViewportRelativeRect:Y5,getDocumentElement:ln,getClippingRect:rU,getOffsetParent:XC,getElementRects:iU,getClientRects:X5,getDimensions:nU,getScale:Zi,isElement:Lr,isRTL:oU};function QC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lU(e,t){let r=null,n;const s=ln(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const w=hc(f),v=hc(s.clientWidth-(d+h)),b=hc(s.clientHeight-(f+p)),y=hc(d),x={rootMargin:-w+"px "+-v+"px "+-b+"px "+-y+"px",threshold:Kt(0,ys(1,c))||1};let j=!0;function S(P){const k=P[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!QC(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return o(!0),i}function cU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=wv(e),d=s||i?[...u?Za(u):[],...Za(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?lU(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let w,v=c?ri(e):null;c&&b();function b(){const y=ri(e);v&&!QC(v,y)&&r(),v=y,w=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const uU=M5,dU=D5,fU=A5,hU=L5,mU=R5,C0=T5,pU=I5,gU=(e,t,r)=>{const n=new Map,s={platform:aU,...r},i={...s.platform,_c:n};return P5(e,t,{...s,platform:i})};var vU=typeof document<"u",yU=function(){},Dc=vU?m.useLayoutEffect:yU;function Cu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Cu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Cu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function JC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function E0(e,t){const r=JC(e);return Math.round(t*r)/r}function ih(e){const t=m.useRef(e);return Dc(()=>{t.current=e}),t}function xU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);Cu(h,n)||p(n);const[w,v]=m.useState(null),[b,y]=m.useState(null),g=m.useCallback(C=>{C!==P.current&&(P.current=C,v(C))},[]),x=m.useCallback(C=>{C!==k.current&&(k.current=C,y(C))},[]),j=i||w,S=o||b,P=m.useRef(null),k=m.useRef(null),N=m.useRef(d),F=c!=null,O=ih(c),V=ih(s),I=ih(u),W=m.useCallback(()=>{if(!P.current||!k.current)return;const C={placement:t,strategy:r,middleware:h};V.current&&(C.platform=V.current),gU(P.current,k.current,C).then(A=>{const D={...A,isPositioned:I.current!==!1};$.current&&!Cu(N.current,D)&&(N.current=D,di.flushSync(()=>{f(D)}))})},[h,t,r,V,I]);Dc(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const $=m.useRef(!1);Dc(()=>($.current=!0,()=>{$.current=!1}),[]),Dc(()=>{if(j&&(P.current=j),S&&(k.current=S),j&&S){if(O.current)return O.current(j,S,W);W()}},[j,S,W,O,F]);const E=m.useMemo(()=>({reference:P,floating:k,setReference:g,setFloating:x}),[g,x]),_=m.useMemo(()=>({reference:j,floating:S}),[j,S]),R=m.useMemo(()=>{const C={position:r,left:0,top:0};if(!_.floating)return C;const A=E0(_.floating,d.x),D=E0(_.floating,d.y);return l?{...C,transform:"translate("+A+"px, "+D+"px)",...JC(_.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:D}},[r,l,_.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:W,refs:E,elements:_,floatingStyles:R}),[d,W,E,_,R])}const wU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?C0({element:n.current,padding:s}).fn(r):{}:n?C0({element:n,padding:s}).fn(r):{}}}},bU=(e,t)=>({...uU(e),options:[e,t]}),jU=(e,t)=>({...dU(e),options:[e,t]}),SU=(e,t)=>({...pU(e),options:[e,t]}),_U=(e,t)=>({...fU(e),options:[e,t]}),CU=(e,t)=>({...hU(e),options:[e,t]}),EU=(e,t)=>({...mU(e),options:[e,t]}),NU=(e,t)=>({...wU(e),options:[e,t]});var kU="Arrow",ZC=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(oe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZC.displayName=kU;var PU=ZC,bv="Popper",[eE,Dd]=Ht(bv),[TU,tE]=eE(bv),rE=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(TU,{scope:t,anchor:n,onAnchorChange:s,children:r})};rE.displayName=bv;var nE="PopperAnchor",sE=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=tE(nE,r),o=m.useRef(null),l=pe(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(oe.div,{...s,ref:l})});sE.displayName=nE;var jv="PopperContent",[AU,RU]=eE(jv),iE=m.forwardRef((e,t)=>{var se,ye,ge,me,L,Y;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,b=tE(jv,r),[y,g]=m.useState(null),x=pe(t,ae=>g(ae)),[j,S]=m.useState(null),P=hv(j),k=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,F=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],I=V.length>0,W={padding:O,boundary:V.filter(MU),altBoundary:I},{refs:$,floatingStyles:E,placement:_,isPositioned:R,middlewareData:C}=xU({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>cU(...ae,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[bU({mainAxis:s+N,alignmentAxis:o}),c&&jU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SU():void 0,...W}),c&&_U({...W}),CU({...W,apply:({elements:ae,rects:fe,availableWidth:we,availableHeight:$e})=>{const{width:qt,height:Tl}=fe.reference,Vr=ae.floating.style;Vr.setProperty("--radix-popper-available-width",`${we}px`),Vr.setProperty("--radix-popper-available-height",`${$e}px`),Vr.setProperty("--radix-popper-anchor-width",`${qt}px`),Vr.setProperty("--radix-popper-anchor-height",`${Tl}px`)}}),j&&NU({element:j,padding:l}),DU({arrowWidth:k,arrowHeight:N}),h&&EU({strategy:"referenceHidden",...W})]}),[A,D]=lE(_),H=At(w);tt(()=>{R&&(H==null||H())},[R,H]);const ne=(se=C.arrow)==null?void 0:se.x,q=(ye=C.arrow)==null?void 0:ye.y,ee=((ge=C.arrow)==null?void 0:ge.centerOffset)!==0,[Se,_e]=m.useState();return tt(()=>{y&&_e(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:R?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(me=C.transformOrigin)==null?void 0:me.x,(L=C.transformOrigin)==null?void 0:L.y].join(" "),...((Y=C.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(AU,{scope:r,placedSide:A,onArrowChange:S,arrowX:ne,arrowY:q,shouldHideArrow:ee,children:a.jsx(oe.div,{"data-side":A,"data-align":D,...v,ref:x,style:{...v.style,animation:R?void 0:"none"}})})})});iE.displayName=jv;var oE="PopperArrow",OU={top:"bottom",right:"left",bottom:"top",left:"right"},aE=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=RU(oE,n),o=OU[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(PU,{...s,ref:r,style:{...s.style,display:"block"}})})});aE.displayName=oE;function MU(e){return e!==null}var DU=e=>({name:"transformOrigin",options:e,fn(t){var b,y,g;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=lE(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=o?f:`${h}px`,v=`${-c}px`):u==="top"?(w=o?f:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=o?f:`${p}px`):u==="left"&&(w=`${n.floating.width+c}px`,v=o?f:`${p}px`),{data:{x:w,y:v}}}});function lE(e){const[t,r="center"]=e.split("-");return[t,r]}var cE=rE,uE=sE,dE=iE,fE=aE,hE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IU="VisuallyHidden",Sv=m.forwardRef((e,t)=>a.jsx(oe.span,{...e,ref:t,style:{...hE,...e.style}}));Sv.displayName=IU;var LU=[" ","Enter","ArrowUp","ArrowDown"],FU=[" ","Enter"],ni="Select",[Id,Ld,$U]=jl(ni),[Ao,m7]=Ht(ni,[$U,Dd]),Fd=Dd(),[VU,Cs]=Ao(ni),[UU,BU]=Ao(ni),mE=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:w}=e,v=Fd(t),[b,y]=m.useState(null),[g,x]=m.useState(null),[j,S]=m.useState(!1),P=bl(u),[k,N]=nn({prop:n,defaultProp:s??!1,onChange:i,caller:ni}),[F,O]=nn({prop:o,defaultProp:l,onChange:c,caller:ni}),V=m.useRef(null),I=b?w||!!b.closest("form"):!0,[W,$]=m.useState(new Set),E=Array.from(W).map(_=>_.props.value).join(";");return a.jsx(cE,{...v,children:a.jsxs(VU,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Dr(),value:F,onValueChange:O,open:k,onOpenChange:N,dir:P,triggerPointerDownPosRef:V,disabled:h,children:[a.jsx(Id.Provider,{scope:t,children:a.jsx(UU,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(_=>{$(R=>new Set(R).add(_))},[]),onNativeOptionRemove:m.useCallback(_=>{$(R=>{const C=new Set(R);return C.delete(_),C})},[]),children:r})}),I?a.jsxs(LE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:_=>O(_.target.value),disabled:h,form:w,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(W)]},E):null]})})};mE.displayName=ni;var pE="SelectTrigger",gE=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Fd(r),o=Cs(pE,r),l=o.disabled||n,c=pe(t,o.onTriggerChange),u=Ld(r),d=m.useRef("touch"),[f,h,p]=$E(v=>{const b=u().filter(x=>!x.disabled),y=b.find(x=>x.value===o.value),g=VE(b,v,y);g!==void 0&&o.onValueChange(g.value)}),w=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(uE,{asChild:!0,...i,children:a.jsx(oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FE(o.value)?"":void 0,...s,ref:c,onClick:X(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:X(s.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:X(s.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&LU.includes(v.key)&&(w(),v.preventDefault())})})})});gE.displayName=pE;var vE="SelectValue",yE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Cs(vE,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=pe(t,c.onValueNodeChange);return tt(()=>{u(d)},[u,d]),a.jsx(oe.span,{...l,ref:f,style:{pointerEvents:"none"},children:FE(c.value)?a.jsx(a.Fragment,{children:o}):i})});yE.displayName=vE;var zU="SelectIcon",xE=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(oe.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});xE.displayName=zU;var WU="SelectPortal",wE=e=>a.jsx(wl,{asChild:!0,...e});wE.displayName=WU;var si="SelectContent",bE=m.forwardRef((e,t)=>{const r=Cs(si,e.__scopeSelect),[n,s]=m.useState();if(tt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?di.createPortal(a.jsx(jE,{scope:e.__scopeSelect,children:a.jsx(Id.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(SE,{...e,ref:t})});bE.displayName=si;var xr=10,[jE,Es]=Ao(si),HU="SelectContentImpl",qU=ei("SelectContent.RemoveScroll"),SE=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:b,...y}=e,g=Cs(si,r),[x,j]=m.useState(null),[S,P]=m.useState(null),k=pe(t,se=>j(se)),[N,F]=m.useState(null),[O,V]=m.useState(null),I=Ld(r),[W,$]=m.useState(!1),E=m.useRef(!1);m.useEffect(()=>{if(x)return nv(x)},[x]),tv();const _=m.useCallback(se=>{const[ye,...ge]=I().map(Y=>Y.ref.current),[me]=ge.slice(-1),L=document.activeElement;for(const Y of se)if(Y===L||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ye&&S&&(S.scrollTop=0),Y===me&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==L))return},[I,S]),R=m.useCallback(()=>_([N,x]),[_,N,x]);m.useEffect(()=>{W&&R()},[W,R]);const{onOpenChange:C,triggerPointerDownPosRef:A}=g;m.useEffect(()=>{if(x){let se={x:0,y:0};const ye=me=>{var L,Y;se={x:Math.abs(Math.round(me.pageX)-(((L=A.current)==null?void 0:L.x)??0)),y:Math.abs(Math.round(me.pageY)-(((Y=A.current)==null?void 0:Y.y)??0))}},ge=me=>{se.x<=10&&se.y<=10?me.preventDefault():x.contains(me.target)||C(!1),document.removeEventListener("pointermove",ye),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ge,{capture:!0})}}},[x,C,A]),m.useEffect(()=>{const se=()=>C(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[C]);const[D,H]=$E(se=>{const ye=I().filter(L=>!L.disabled),ge=ye.find(L=>L.ref.current===document.activeElement),me=VE(ye,se,ge);me&&setTimeout(()=>me.ref.current.focus())}),ne=m.useCallback((se,ye,ge)=>{const me=!E.current&&!ge;(g.value!==void 0&&g.value===ye||me)&&(F(se),me&&(E.current=!0))},[g.value]),q=m.useCallback(()=>x==null?void 0:x.focus(),[x]),ee=m.useCallback((se,ye,ge)=>{const me=!E.current&&!ge;(g.value!==void 0&&g.value===ye||me)&&V(se)},[g.value]),Se=n==="popper"?Jm:_E,_e=Se===Jm?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return a.jsx(jE,{scope:r,content:x,viewport:S,onViewportChange:P,itemRefCallback:ne,selectedItem:N,onItemLeave:q,itemTextRefCallback:ee,focusSelectedItem:R,selectedItemText:O,position:n,isPositioned:W,searchRef:D,children:a.jsx(rv,{as:qU,allowPinchZoom:!0,children:a.jsx(Ed,{asChild:!0,trapped:g.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:X(s,se=>{var ye;(ye=g.trigger)==null||ye.focus({preventScroll:!0}),se.preventDefault()}),children:a.jsx(xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(Se,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:se=>se.preventDefault(),...y,..._e,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:X(y.onKeyDown,se=>{const ye=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ye&&se.key.length===1&&H(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let me=I().filter(L=>!L.disabled).map(L=>L.ref.current);if(["ArrowUp","End"].includes(se.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const L=se.target,Y=me.indexOf(L);me=me.slice(Y+1)}setTimeout(()=>_(me)),se.preventDefault()}})})})})})})});SE.displayName=HU;var GU="SelectItemAlignedPosition",_E=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Cs(si,r),o=Es(si,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=pe(t,k=>d(k)),h=Ld(r),p=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:y,focusSelectedItem:g}=o,x=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&b&&y){const k=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const L=O.left-N.left,Y=F.left-L,ae=k.left-Y,fe=k.width+ae,we=Math.max(fe,N.width),$e=window.innerWidth-xr,qt=bu(Y,[xr,Math.max(xr,$e-we)]);l.style.minWidth=fe+"px",l.style.left=qt+"px"}else{const L=N.right-O.right,Y=window.innerWidth-F.right-L,ae=window.innerWidth-k.right-Y,fe=k.width+ae,we=Math.max(fe,N.width),$e=window.innerWidth-xr,qt=bu(Y,[xr,Math.max(xr,$e-we)]);l.style.minWidth=fe+"px",l.style.right=qt+"px"}const V=h(),I=window.innerHeight-xr*2,W=v.scrollHeight,$=window.getComputedStyle(u),E=parseInt($.borderTopWidth,10),_=parseInt($.paddingTop,10),R=parseInt($.borderBottomWidth,10),C=parseInt($.paddingBottom,10),A=E+_+W+C+R,D=Math.min(b.offsetHeight*5,A),H=window.getComputedStyle(v),ne=parseInt(H.paddingTop,10),q=parseInt(H.paddingBottom,10),ee=k.top+k.height/2-xr,Se=I-ee,_e=b.offsetHeight/2,se=b.offsetTop+_e,ye=E+_+se,ge=A-ye;if(ye<=ee){const L=V.length>0&&b===V[V.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-v.offsetTop-v.offsetHeight,ae=Math.max(Se,_e+(L?q:0)+Y+R),fe=ye+ae;l.style.height=fe+"px"}else{const L=V.length>0&&b===V[0].ref.current;l.style.top="0px";const ae=Math.max(ee,E+v.offsetTop+(L?ne:0)+_e)+ge;l.style.height=ae+"px",v.scrollTop=ye-ee+v.offsetTop}l.style.margin=`${xr}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,v,b,y,i.dir,n]);tt(()=>x(),[x]);const[j,S]=m.useState();tt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const P=m.useCallback(k=>{k&&w.current===!0&&(x(),g==null||g(),w.current=!1)},[x,g]);return a.jsx(YU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});_E.displayName=GU;var KU="SelectPopperPosition",Jm=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=xr,...i}=e,o=Fd(r);return a.jsx(dE,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jm.displayName=KU;var[YU,_v]=Ao(si,{}),Zm="SelectViewport",CE=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Es(Zm,r),o=_v(Zm,r),l=pe(t,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Id.Slot,{scope:r,children:a.jsx(oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-xr*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(v,b);if(y<w){const g=y+p,x=Math.min(w,g),j=g-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});CE.displayName=Zm;var EE="SelectGroup",[XU,QU]=Ao(EE),NE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Dr();return a.jsx(XU,{scope:r,id:s,children:a.jsx(oe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});NE.displayName=EE;var kE="SelectLabel",PE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=QU(kE,r);return a.jsx(oe.div,{id:s.id,...n,ref:t})});PE.displayName=kE;var Eu="SelectItem",[JU,TE]=Ao(Eu),AE=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Cs(Eu,r),c=Es(Eu,r),u=l.value===n,[d,f]=m.useState(i??""),[h,p]=m.useState(!1),w=pe(t,g=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,g,n,s)}),v=Dr(),b=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(JU,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(g=>{f(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(Id.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(oe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:X(o.onFocus,()=>p(!0)),onBlur:X(o.onBlur,()=>p(!1)),onClick:X(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:X(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:X(o.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:X(o.onPointerMove,g=>{var x;b.current=g.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:X(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(FU.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});AE.displayName=Eu;var na="SelectItemText",RE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Cs(na,r),l=Es(na,r),c=TE(na,r),u=BU(na,r),[d,f]=m.useState(null),h=pe(t,y=>f(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return tt(()=>(v(w),()=>b(w)),[v,b,w]),a.jsxs(a.Fragment,{children:[a.jsx(oe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?di.createPortal(i.children,o.valueNode):null]})});RE.displayName=na;var OE="SelectItemIndicator",ME=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return TE(OE,r).isSelected?a.jsx(oe.span,{"aria-hidden":!0,...n,ref:t}):null});ME.displayName=OE;var ep="SelectScrollUpButton",ZU=m.forwardRef((e,t)=>{const r=Es(ep,e.__scopeSelect),n=_v(ep,e.__scopeSelect),[s,i]=m.useState(!1),o=pe(t,n.onScrollButtonChange);return tt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(DE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZU.displayName=ep;var tp="SelectScrollDownButton",eB=m.forwardRef((e,t)=>{const r=Es(tp,e.__scopeSelect),n=_v(tp,e.__scopeSelect),[s,i]=m.useState(!1),o=pe(t,n.onScrollButtonChange);return tt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(DE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eB.displayName=tp;var DE=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Es("SelectScrollButton",r),o=m.useRef(null),l=Ld(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),tt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(oe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:X(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:X(s.onPointerLeave,()=>{c()})})}),tB="SelectSeparator",IE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(oe.div,{"aria-hidden":!0,...n,ref:t})});IE.displayName=tB;var rp="SelectArrow",rB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Fd(r),i=Cs(rp,r),o=Es(rp,r);return i.open&&o.position==="popper"?a.jsx(fE,{...s,...n,ref:t}):null});rB.displayName=rp;var nB="SelectBubbleInput",LE=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),i=pe(n,s),o=fv(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(oe.select,{...r,style:{...hE,...r.style},ref:i,defaultValue:t})});LE.displayName=nB;function FE(e){return e===""||e===void 0}function $E(e){const t=At(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function VE(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=sB(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function sB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iB=mE,UE=gE,oB=yE,aB=xE,lB=wE,BE=bE,cB=CE,uB=NE,zE=PE,WE=AE,dB=RE,fB=ME,HE=IE;const mo=iB,el=uB,po=oB,ii=Z.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(UE,{ref:n,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,a.jsx(aB,{asChild:!0,children:a.jsx(E_,{className:"h-4 w-4 opacity-50"})})]}));ii.displayName=UE.displayName;const oi=Z.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(lB,{children:a.jsx(BE,{ref:s,className:de("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:a.jsx(cB,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));oi.displayName=BE.displayName;const go=Z.forwardRef(({className:e,...t},r)=>a.jsx(zE,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));go.displayName=zE.displayName;const Te=Z.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(WE,{ref:n,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fB,{children:a.jsx(vl,{className:"h-4 w-4"})})}),a.jsx(dB,{children:t})]}));Te.displayName=WE.displayName;const hB=Z.forwardRef(({className:e,...t},r)=>a.jsx(HE,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));hB.displayName=HE.displayName;const mB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},pB=({activeSession:e,allSessions:t,completedSessionIds:r=[],onSessionSelect:n,onCompleteSession:s})=>{const i=()=>e?e.error?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-destructive/20",children:a.jsx(Im,{className:"w-8 h-8 text-destructive"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Error al cargar la sesión"}),a.jsx("p",{className:"text-muted-foreground",children:"No pudimos obtener los datos de esta sesión. Por favor, intenta de nuevo."})]}):e.isRestDay?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-green-500/20",children:a.jsx(Gg,{className:"w-8 h-8 text-green-400"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"¡Día de Descanso Activo!"}),a.jsx("p",{className:"mb-4 text-muted-foreground",children:"Hoy es tu día de recuperación. Aprovecha para hacer movilidad."}),a.jsx(Ee,{to:"/library",children:a.jsxs(z,{variant:"outline",children:[a.jsx(No,{className:"w-4 h-4 mr-2"}),"Ver Rutinas de Movilidad"]})})]}):e.completedProgram?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20",children:a.jsx(Vt,{className:"w-8 h-8 text-primary"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"¡Programa Completado!"}),a.jsx("p",{className:"mb-4 text-muted-foreground",children:"¡Felicitaciones! Has completado todas las sesiones de este programa."}),a.jsx(Ee,{to:"/programs",children:a.jsx(z,{children:"Explorar Nuevos Programas"})})]}):e.noExercises||e.noSessions?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-500/20",children:a.jsx(Im,{className:"w-8 h-8 text-yellow-400"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Sesión en Preparación"}),a.jsx("p",{className:"text-muted-foreground",children:"Esta sesión aún no tiene ejercicios cargados. ¡Vuelve pronto!"})]}):e.exercises?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-primary",children:e.title}),e.video_url&&a.jsx("a",{href:e.video_url,target:"_blank",rel:"noopener noreferrer",children:a.jsxs(z,{variant:"outline",size:"sm",children:[a.jsx(Fm,{className:"w-4 h-4 mr-2"}),"Video Guía"]})})]}),e.objective&&a.jsxs("div",{className:"p-3 text-sm border rounded-md bg-primary/5 border-primary/40",children:[a.jsx("span",{className:"font-semibold",children:"🎯 Objetivo:"})," ",e.objective]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border",children:[a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Ejercicio"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Series"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Repeticiones"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Carga"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Descanso"})]})}),a.jsx("tbody",{children:e.exercises.map((o,l)=>{if(o.type==="section")return a.jsx("tr",{className:"bg-muted/40",children:a.jsx("td",{className:"py-2 font-semibold",colSpan:5,children:o.title})},l);if(o.type==="objective")return a.jsx("tr",{className:"bg-muted/20",children:a.jsxs("td",{className:"py-2",colSpan:5,children:["🎯 OBJETIVO: ",o.text]})},l);if(o.type==="title")return null;const c=o.series??o.sets??"",u=o.repeticiones??o.reps??(o.target_rpe?`RPE ${o.target_rpe}`:""),d=o.carga??o.load??"",f=o.descanso??(o.rest_sec?`${o.rest_sec}s`:"");return a.jsxs("tr",{className:"border-b border-border last:border-b-0",children:[a.jsx("td",{className:"py-3 font-medium",children:o.name}),a.jsx("td",{className:"py-3",children:c}),a.jsx("td",{className:"py-3",children:u}),a.jsx("td",{className:"py-3",children:d}),a.jsx("td",{className:"py-3",children:f})]},l)})})]})})]}):a.jsx("div",{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Selecciona una sesión para ver los detalles."})}):a.jsx("div",{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Cargando sesión..."})});return a.jsxs(te.div,{variants:mB,className:"p-6 border bg-card border-border rounded-xl",children:[a.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 mb-4 sm:flex-row sm:items-center",children:[a.jsxs("h2",{className:"flex items-center gap-2 text-2xl font-bold",children:[a.jsx(Ka,{className:"w-6 h-6 text-primary"}),"Mi Sesión de Hoy"]}),a.jsxs("div",{className:"flex items-center w-full gap-4 sm:w-auto",children:[a.jsxs(mo,{onValueChange:n,defaultValue:e==null?void 0:e.id,children:[a.jsx(ii,{className:"w-full sm:w-[220px]",children:a.jsx(po,{placeholder:"Elige una sesión"})}),a.jsx(oi,{className:"max-h-[60vh] overflow-y-auto",children:t&&t.map(o=>a.jsxs(el,{children:[a.jsx(go,{children:o.label}),o.sessions&&o.sessions.map(l=>a.jsx(Te,{value:l.id,className:"flex items-center gap-2",children:a.jsxs("span",{className:"flex-1 flex items-center gap-2",children:[r.includes(l.id)&&a.jsx(er,{className:"w-4 h-4 text-green-500"}),l.title]})},l.id))]},o.id))})]}),e&&e.exercises&&a.jsx(z,{onClick:s,className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:e.completed,children:e.completed?a.jsx(er,{className:"w-4 h-4"}):a.jsx(Fm,{className:"w-4 h-4"})})]})]}),i()]})},gB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},vB=({prs:e})=>{const{toast:t}=ot(),r=()=>{t({title:"🚧 Función en construcción",description:"Pronto podrás ver tu historial completo de progreso y PRs."})};return a.jsxs(te.div,{variants:gB,className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl leading-snug font-bold flex items-center gap-2 break-words sm:text-2xl",children:[a.jsx(Vm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),a.jsx("span",{className:"flex-1",children:"Historial de Progreso y PRs"})]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:r,className:"w-full sm:w-auto justify-center text-xs sm:text-sm whitespace-nowrap","aria-label":"Ver historial completo de progreso y PRs",children:[a.jsx("span",{className:"sm:hidden",children:"Historial"}),a.jsx("span",{className:"hidden sm:inline",children:"Ver Historial Completo"})]})]}),e&&e.length>0?a.jsx("div",{className:"space-y-3",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.type}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(n.date).toLocaleDateString()})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-primary",children:[n.value," ",n.unit]})})]},s))}):a.jsxs("div",{className:"text-center py-6 px-2",children:[a.jsx(Vt,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3 sm:w-12 sm:h-12"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Aún no tienes PRs registrados"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"¡Completa sesiones para comenzar a registrar tu progreso!"})]})]})},yB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},xB=()=>{const{toast:e}=ot(),t=()=>{e({title:"🎥 Subida de Video",description:"🚧 Esta función estará disponible pronto con la integración de Supabase Storage! 🚀"})};return a.jsxs(te.div,{variants:yB,className:"bg-card border border-border rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Acciones Rápidas"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{onClick:t,className:"w-full justify-start bg-primary/10 hover:bg-primary/20 text-primary border border-primary/20",children:[a.jsx(r$,{className:"w-4 h-4 mr-2"}),"Subir Video para Feedback"]}),a.jsx(Ee,{to:"/library",className:"block",children:a.jsxs(z,{className:"w-full justify-start",variant:"outline",children:[a.jsx(No,{className:"w-4 h-4 mr-2"}),"Acceso a Biblioteca"]})})]})]})},wB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},bB=({badges:e})=>{const{toast:t}=ot(),r=()=>{t({title:"🚧 Función en construcción",description:"Pronto podrás ver todos tus logros."})};return a.jsxs(te.div,{variants:wB,className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold flex items-center gap-2 leading-snug",children:[a.jsx(Qi,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),a.jsx("span",{children:"Logros VALKA"})]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:r,className:"w-full sm:w-auto justify-center text-xs sm:text-sm whitespace-nowrap",children:[a.jsx("span",{className:"sm:hidden",children:"Ver"}),a.jsx("span",{className:"hidden sm:inline",children:"Ver Todos"})]})]}),e.length>0?a.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((n,s)=>a.jsxs("div",{className:"text-center p-3 bg-accent rounded-lg",children:[a.jsx("div",{className:"w-12 h-12 mx-auto bg-yellow-500/20 rounded-full flex items-center justify-center mb-2",children:a.jsx(Qi,{className:"w-6 h-6 text-yellow-400"})}),a.jsx("p",{className:"text-xs font-medium",children:n.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.points," pts"]})]},s))}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Qi,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3 sm:w-12 sm:h-12"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"¡Completa sesiones para desbloquear logros!"})]})]})},jB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},SB=()=>{const e=[{icon:N_,value:"7 días",label:"Racha Actual",color:"text-orange-400"},{icon:er,value:"24",label:"Sesiones Completadas",color:"text-green-400"},{icon:jd,value:"18h 30m",label:"Tiempo Total",color:"text-blue-400"}];return a.jsxs(te.div,{variants:jB,className:"bg-card border border-border rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Estadísticas"}),a.jsx("div",{className:"space-y-4",children:e.map((t,r)=>{const n=t.icon;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:`w-4 h-4 ${t.color}`}),a.jsx("span",{className:"text-sm text-muted-foreground",children:t.label})]}),a.jsx("span",{className:`font-bold ${t.color}`,children:t.value})]},r)})})]})};var qE={exports:{}},GE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=m;function _B(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CB=typeof Object.is=="function"?Object.is:_B,EB=vo.useState,NB=vo.useEffect,kB=vo.useLayoutEffect,PB=vo.useDebugValue;function TB(e,t){var r=t(),n=EB({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return kB(function(){s.value=r,s.getSnapshot=t,oh(s)&&i({inst:s})},[e,r,t]),NB(function(){return oh(s)&&i({inst:s}),e(function(){oh(s)&&i({inst:s})})},[e]),PB(r),r}function oh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CB(e,r)}catch{return!0}}function AB(e,t){return t()}var RB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AB:TB;GE.useSyncExternalStore=vo.useSyncExternalStore!==void 0?vo.useSyncExternalStore:RB;qE.exports=GE;var OB=qE.exports;function MB(){return OB.useSyncExternalStore(DB,()=>!0,()=>!1)}function DB(){return()=>{}}var Cv="Avatar",[IB,p7]=Ht(Cv),[LB,KE]=IB(Cv),YE=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return a.jsx(LB,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(oe.span,{...n,ref:t})})});YE.displayName=Cv;var XE="AvatarImage",QE=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=KE(XE,r),l=FB(n,i),c=At(u=>{s(u),o.onImageLoadingStatusChange(u)});return tt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(oe.img,{...i,ref:t,src:n}):null});QE.displayName=XE;var JE="AvatarFallback",ZE=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=KE(JE,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(oe.span,{...s,ref:t}):null});ZE.displayName=JE;function N0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function FB(e,{referrerPolicy:t,crossOrigin:r}){const n=MB(),s=m.useRef(null),i=(()=>n?(s.current||(s.current=new window.Image),s.current):null)(),[o,l]=m.useState(()=>N0(i,e));return tt(()=>{l(N0(i,e))},[i,e]),tt(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var eN=YE,tN=QE,rN=ZE;const kr=Z.forwardRef(({className:e,...t},r)=>a.jsx(eN,{ref:r,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));kr.displayName=eN.displayName;const Pr=Z.forwardRef(({className:e,...t},r)=>a.jsx(tN,{ref:r,className:de("aspect-square h-full w-full object-cover object-center",e),...t}));Pr.displayName=tN.displayName;const Tr=Z.forwardRef(({className:e,...t},r)=>a.jsx(rN,{ref:r,className:de("flex h-full w-full items-center justify-center rounded-full bg-primary text-primary-foreground",e),...t}));Tr.displayName=rN.displayName;var ah="rovingFocusGroup.onEntryFocus",$B={bubbles:!1,cancelable:!0},_l="RovingFocusGroup",[np,nN,VB]=jl(_l),[UB,$d]=Ht(_l,[VB]),[BB,zB]=UB(_l),sN=m.forwardRef((e,t)=>a.jsx(np.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(np.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(WB,{...e,ref:t})})}));sN.displayName=_l;var WB=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=pe(t,h),w=bl(i),[v,b]=nn({prop:o,defaultProp:l??null,onChange:c,caller:_l}),[y,g]=m.useState(!1),x=At(u),j=nN(r),S=m.useRef(!1),[P,k]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(ah,x),()=>N.removeEventListener(ah,x)},[x]),a.jsx(BB,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(N=>b(N),[b]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>k(N=>N-1),[]),children:a.jsx(oe.div,{tabIndex:y||P===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{S.current=!0}),onFocus:X(e.onFocus,N=>{const F=!S.current;if(N.target===N.currentTarget&&F&&!y){const O=new CustomEvent(ah,$B);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=j().filter(_=>_.focusable),I=V.find(_=>_.active),W=V.find(_=>_.id===v),E=[I,W,...V].filter(Boolean).map(_=>_.ref.current);aN(E,d)}}S.current=!1}),onBlur:X(e.onBlur,()=>g(!1))})})}),iN="RovingFocusGroupItem",oN=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Dr(),u=i||c,d=zB(iN,r),f=d.currentTabStopId===u,h=nN(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=d;return m.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),a.jsx(np.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:X(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:X(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:X(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=GB(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=h().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const j=x.indexOf(b.currentTarget);x=d.loop?KB(x,j+1):x.slice(j+1)}setTimeout(()=>aN(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});oN.displayName=iN;var HB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function GB(e,t,r){const n=qB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return HB[n]}function aN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function KB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lN=sN,cN=oN,sp=["Enter"," "],YB=["ArrowDown","PageUp","Home"],uN=["ArrowUp","PageDown","End"],XB=[...YB,...uN],QB={ltr:[...sp,"ArrowRight"],rtl:[...sp,"ArrowLeft"]},JB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cl="Menu",[tl,ZB,ez]=jl(Cl),[gi,dN]=Ht(Cl,[ez,Dd,$d]),Vd=Dd(),fN=$d(),[tz,vi]=gi(Cl),[rz,El]=gi(Cl),hN=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Vd(t),[c,u]=m.useState(null),d=m.useRef(!1),f=At(i),h=bl(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(cE,{...l,children:a.jsx(tz,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(rz,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};hN.displayName=Cl;var nz="MenuAnchor",Ev=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Vd(r);return a.jsx(uE,{...s,...n,ref:t})});Ev.displayName=nz;var Nv="MenuPortal",[sz,mN]=gi(Nv,{forceMount:void 0}),pN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=vi(Nv,t);return a.jsx(sz,{scope:t,forceMount:r,children:a.jsx(gr,{present:r||i.open,children:a.jsx(wl,{asChild:!0,container:s,children:n})})})};pN.displayName=Nv;var fr="MenuContent",[iz,kv]=gi(fr),gN=m.forwardRef((e,t)=>{const r=mN(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=vi(fr,e.__scopeMenu),o=El(fr,e.__scopeMenu);return a.jsx(tl.Provider,{scope:e.__scopeMenu,children:a.jsx(gr,{present:n||i.open,children:a.jsx(tl.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(oz,{...s,ref:t}):a.jsx(az,{...s,ref:t})})})})}),oz=m.forwardRef((e,t)=>{const r=vi(fr,e.__scopeMenu),n=m.useRef(null),s=pe(t,n);return m.useEffect(()=>{const i=n.current;if(i)return nv(i)},[]),a.jsx(Pv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),az=m.forwardRef((e,t)=>{const r=vi(fr,e.__scopeMenu);return a.jsx(Pv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),lz=ei("MenuContent.ScrollLock"),Pv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:w,...v}=e,b=vi(fr,r),y=El(fr,r),g=Vd(r),x=fN(r),j=ZB(r),[S,P]=m.useState(null),k=m.useRef(null),N=pe(t,k,b.onContentChange),F=m.useRef(0),O=m.useRef(""),V=m.useRef(0),I=m.useRef(null),W=m.useRef("right"),$=m.useRef(0),E=w?rv:m.Fragment,_=w?{as:lz,allowPinchZoom:!0}:void 0,R=A=>{var se,ye;const D=O.current+A,H=j().filter(ge=>!ge.disabled),ne=document.activeElement,q=(se=H.find(ge=>ge.ref.current===ne))==null?void 0:se.textValue,ee=H.map(ge=>ge.textValue),Se=wz(ee,D,q),_e=(ye=H.find(ge=>ge.textValue===Se))==null?void 0:ye.ref.current;(function ge(me){O.current=me,window.clearTimeout(F.current),me!==""&&(F.current=window.setTimeout(()=>ge(""),1e3))})(D),_e&&setTimeout(()=>_e.focus())};m.useEffect(()=>()=>window.clearTimeout(F.current),[]),tv();const C=m.useCallback(A=>{var H,ne;return W.current===((H=I.current)==null?void 0:H.side)&&jz(A,(ne=I.current)==null?void 0:ne.area)},[]);return a.jsx(iz,{scope:r,searchRef:O,onItemEnter:m.useCallback(A=>{C(A)&&A.preventDefault()},[C]),onItemLeave:m.useCallback(A=>{var D;C(A)||((D=k.current)==null||D.focus(),P(null))},[C]),onTriggerLeave:m.useCallback(A=>{C(A)&&A.preventDefault()},[C]),pointerGraceTimerRef:V,onPointerGraceIntentChange:m.useCallback(A=>{I.current=A},[]),children:a.jsx(E,{..._,children:a.jsx(Ed,{asChild:!0,trapped:s,onMountAutoFocus:X(i,A=>{var D;A.preventDefault(),(D=k.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(xl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(lN,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:P,onEntryFocus:X(c,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(dE,{role:"menu","aria-orientation":"vertical","data-state":RN(b.open),"data-radix-menu-content":"",dir:y.dir,...g,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:X(v.onKeyDown,A=>{const H=A.target.closest("[data-radix-menu-content]")===A.currentTarget,ne=A.ctrlKey||A.altKey||A.metaKey,q=A.key.length===1;H&&(A.key==="Tab"&&A.preventDefault(),!ne&&q&&R(A.key));const ee=k.current;if(A.target!==ee||!XB.includes(A.key))return;A.preventDefault();const _e=j().filter(se=>!se.disabled).map(se=>se.ref.current);uN.includes(A.key)&&_e.reverse(),yz(_e)}),onBlur:X(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(F.current),O.current="")}),onPointerMove:X(e.onPointerMove,rl(A=>{const D=A.target,H=$.current!==A.clientX;if(A.currentTarget.contains(D)&&H){const ne=A.clientX>$.current?"right":"left";W.current=ne,$.current=A.clientX}}))})})})})})})});gN.displayName=fr;var cz="MenuGroup",Tv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(oe.div,{role:"group",...n,ref:t})});Tv.displayName=cz;var uz="MenuLabel",vN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(oe.div,{...n,ref:t})});vN.displayName=uz;var Nu="MenuItem",k0="menu.itemSelect",Ud=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=El(Nu,e.__scopeMenu),l=kv(Nu,e.__scopeMenu),c=pe(t,i),u=m.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(k0,{bubbles:!0,cancelable:!0});f.addEventListener(k0,p=>n==null?void 0:n(p),{once:!0}),ev(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(yN,{...s,ref:c,disabled:r,onClick:X(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:X(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:X(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||sp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ud.displayName=Nu;var yN=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=kv(Nu,r),l=fN(r),c=m.useRef(null),u=pe(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),a.jsx(tl.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(cN,{asChild:!0,...l,focusable:!n,children:a.jsx(oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:X(e.onPointerMove,rl(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,rl(w=>o.onItemLeave(w))),onFocus:X(e.onFocus,()=>f(!0)),onBlur:X(e.onBlur,()=>f(!1))})})})}),dz="MenuCheckboxItem",xN=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(_N,{scope:e.__scopeMenu,checked:r,children:a.jsx(Ud,{role:"menuitemcheckbox","aria-checked":ku(r)?"mixed":r,...s,ref:t,"data-state":Rv(r),onSelect:X(s.onSelect,()=>n==null?void 0:n(ku(r)?!0:!r),{checkForDefaultPrevented:!1})})})});xN.displayName=dz;var wN="MenuRadioGroup",[fz,hz]=gi(wN,{value:void 0,onValueChange:()=>{}}),bN=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=At(n);return a.jsx(fz,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(Tv,{...s,ref:t})})});bN.displayName=wN;var jN="MenuRadioItem",SN=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=hz(jN,e.__scopeMenu),i=r===s.value;return a.jsx(_N,{scope:e.__scopeMenu,checked:i,children:a.jsx(Ud,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Rv(i),onSelect:X(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});SN.displayName=jN;var Av="MenuItemIndicator",[_N,mz]=gi(Av,{checked:!1}),CN=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=mz(Av,r);return a.jsx(gr,{present:n||ku(i.checked)||i.checked===!0,children:a.jsx(oe.span,{...s,ref:t,"data-state":Rv(i.checked)})})});CN.displayName=Av;var pz="MenuSeparator",EN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});EN.displayName=pz;var gz="MenuArrow",NN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Vd(r);return a.jsx(fE,{...s,...n,ref:t})});NN.displayName=gz;var vz="MenuSub",[g7,kN]=gi(vz),sa="MenuSubTrigger",PN=m.forwardRef((e,t)=>{const r=vi(sa,e.__scopeMenu),n=El(sa,e.__scopeMenu),s=kN(sa,e.__scopeMenu),i=kv(sa,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Ev,{asChild:!0,...u,children:a.jsx(yN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":RN(r.open),...e,ref:_d(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,rl(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:X(e.onPointerLeave,rl(f=>{var p,w;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const v=(w=r.content)==null?void 0:w.dataset.side,b=v==="right",y=b?-5:5,g=h[b?"left":"right"],x=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:g,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:g,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||QB[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});PN.displayName=sa;var TN="MenuSubContent",AN=m.forwardRef((e,t)=>{const r=mN(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=vi(fr,e.__scopeMenu),o=El(fr,e.__scopeMenu),l=kN(TN,e.__scopeMenu),c=m.useRef(null),u=pe(t,c);return a.jsx(tl.Provider,{scope:e.__scopeMenu,children:a.jsx(gr,{present:n||i.open,children:a.jsx(tl.Slot,{scope:e.__scopeMenu,children:a.jsx(Pv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:X(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=JB[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});AN.displayName=TN;function RN(e){return e?"open":"closed"}function ku(e){return e==="indeterminate"}function Rv(e){return ku(e)?"indeterminate":e?"checked":"unchecked"}function yz(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function xz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function wz(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=xz(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function bz(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function jz(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return bz(r,t)}function rl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Sz=hN,_z=Ev,Cz=pN,Ez=gN,Nz=Tv,kz=vN,Pz=Ud,Tz=xN,Az=bN,Rz=SN,Oz=CN,Mz=EN,Dz=NN,Iz=PN,Lz=AN,Bd="DropdownMenu",[Fz,v7]=Ht(Bd,[dN]),Mt=dN(),[$z,ON]=Fz(Bd),MN=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Mt(t),u=m.useRef(null),[d,f]=nn({prop:s,defaultProp:i??!1,onChange:o,caller:Bd});return a.jsx($z,{scope:t,triggerId:Dr(),triggerRef:u,contentId:Dr(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(Sz,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};MN.displayName=Bd;var DN="DropdownMenuTrigger",IN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=ON(DN,r),o=Mt(r);return a.jsx(_z,{asChild:!0,...o,children:a.jsx(oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:_d(t,i.triggerRef),onPointerDown:X(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:X(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});IN.displayName=DN;var Vz="DropdownMenuPortal",LN=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Mt(t);return a.jsx(Cz,{...n,...r})};LN.displayName=Vz;var FN="DropdownMenuContent",$N=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ON(FN,r),i=Mt(r),o=m.useRef(!1);return a.jsx(Ez,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:X(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$N.displayName=FN;var Uz="DropdownMenuGroup",Bz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Nz,{...s,...n,ref:t})});Bz.displayName=Uz;var zz="DropdownMenuLabel",VN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(kz,{...s,...n,ref:t})});VN.displayName=zz;var Wz="DropdownMenuItem",UN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Pz,{...s,...n,ref:t})});UN.displayName=Wz;var Hz="DropdownMenuCheckboxItem",BN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Tz,{...s,...n,ref:t})});BN.displayName=Hz;var qz="DropdownMenuRadioGroup",Gz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Az,{...s,...n,ref:t})});Gz.displayName=qz;var Kz="DropdownMenuRadioItem",zN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Rz,{...s,...n,ref:t})});zN.displayName=Kz;var Yz="DropdownMenuItemIndicator",WN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Oz,{...s,...n,ref:t})});WN.displayName=Yz;var Xz="DropdownMenuSeparator",HN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Mz,{...s,...n,ref:t})});HN.displayName=Xz;var Qz="DropdownMenuArrow",Jz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Dz,{...s,...n,ref:t})});Jz.displayName=Qz;var Zz="DropdownMenuSubTrigger",qN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Iz,{...s,...n,ref:t})});qN.displayName=Zz;var e6="DropdownMenuSubContent",GN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return a.jsx(Lz,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GN.displayName=e6;var t6=MN,r6=IN,n6=LN,KN=$N,YN=VN,XN=UN,QN=BN,JN=zN,ZN=WN,ek=HN,tk=qN,rk=GN;const zd=t6,Wd=r6,s6=Z.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(tk,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Bg,{className:"ml-auto h-4 w-4"})]}));s6.displayName=tk.displayName;const i6=Z.forwardRef(({className:e,...t},r)=>a.jsx(rk,{ref:r,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));i6.displayName=rk.displayName;const Nl=Z.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(n6,{children:a.jsx(KN,{ref:n,sideOffset:t,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Nl.displayName=KN.displayName;const hr=Z.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(XN,{ref:n,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));hr.displayName=XN.displayName;const o6=Z.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(QN,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZN,{children:a.jsx(vl,{className:"h-4 w-4"})})}),t]}));o6.displayName=QN.displayName;const a6=Z.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(JN,{ref:n,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZN,{children:a.jsx(GF,{className:"h-2 w-2 fill-current"})})}),t]}));a6.displayName=JN.displayName;const l6=Z.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(YN,{ref:n,className:de("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));l6.displayName=YN.displayName;const ip=Z.forwardRef(({className:e,...t},r)=>a.jsx(ek,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));ip.displayName=ek.displayName;const c6={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},P0=({students:e,programId:t,isAdmin:r=!1})=>{const{toast:n}=ot(),s=an(),[i,o]=m.useState(new Set),[l,c]=m.useState(new Set),[u,d]=m.useState(null);m.useEffect(()=>{(async()=>{const{data:{user:y}}=await B.auth.getUser();y&&d(y.id);try{const{friends:g,requests:x}=await z_();o(new Set(g.map(j=>j.id))),c(new Set(x.map(j=>j.id)))}catch{}})()},[]);const f=y=>{n({title:"🚧 Función en desarrollo",description:y})},h=y=>{s(`/profile/${y}`)},p=async y=>{try{await Jg(y.id),c(g=>new Set([...g,y.id])),n({title:"Solicitud enviada",description:`Has enviado una solicitud a ${y.display_name}.`})}catch(g){n({title:"No se pudo enviar",description:g.message,variant:"destructive"})}},w=y=>{f(`Pronto podrás enviar mensajes a ${y}.`)},v=()=>{s("/admin/registrations")},b=t?e.filter(y=>y.program_id===t):e;return a.jsxs(te.div,{variants:c6,className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[a.jsxs("h3",{className:"text-base font-bold flex items-center gap-2 sm:text-lg leading-snug",children:[a.jsx(gs,{className:"w-5 h-5 text-primary flex-shrink-0"}),a.jsx("span",{children:"Alumnos Inscritos"})]}),r&&a.jsxs(z,{variant:"outline",size:"sm",onClick:v,className:"w-full sm:w-auto justify-center text-xs sm:text-sm whitespace-nowrap",children:[a.jsx("span",{className:"sm:hidden",children:"Ver"}),a.jsx("span",{className:"hidden sm:inline",children:"Ver Todos"})]})]}),b.length>0?a.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:b.map(y=>{var S,P;const g=y.id===u,x=i.has(y.id),j=l.has(y.id);return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(kr,{children:[a.jsx(Pr,{src:y.photo_url,alt:y.display_name}),a.jsx(Tr,{children:((P=(S=y.display_name)==null?void 0:S.charAt(0))==null?void 0:P.toUpperCase())||"A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:y.display_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.program_name})]})]}),a.jsxs(zd,{children:[a.jsx(Wd,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"icon",children:a.jsx(Hg,{className:"w-4 h-4"})})}),a.jsxs(Nl,{align:"end",children:[a.jsxs(hr,{onClick:()=>h(y.id),children:[a.jsx(YF,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Visitar Perfil"})]}),!g&&!x&&!j&&a.jsxs(hr,{onClick:()=>p(y),children:[a.jsx(Sd,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Agregar como Amigo"})]}),x&&a.jsxs("div",{className:"px-2 py-1.5 text-sm flex items-center gap-2 text-green-500",children:[a.jsx(vl,{className:"w-4 h-4"})," Amigo"]}),j&&!x&&a.jsxs("div",{className:"px-2 py-1.5 text-sm flex items-center gap-2 text-yellow-500",children:[a.jsx(jd,{className:"w-4 h-4"})," Pendiente"]}),a.jsxs(hr,{onClick:()=>w(y.display_name),children:[a.jsx(Wg,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Enviar Mensaje"})]})]})]})]},y.id)})}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(gs,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3 sm:w-12 sm:h-12"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Aún no hay alumnos inscritos."})]})]})},u6=()=>{const{toast:e}=ot(),{user:t,session:r,loading:n}=On(),[s,i]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState([]),[h,p]=m.useState([]),[w,v]=m.useState([]),[b,y]=m.useState([]),[g,x]=m.useState([]),[j,S]=m.useState(!1),[P,k]=m.useState(!0),[N,F]=m.useState(!1),O=m.useCallback(async()=>{if(!r){k(!1);return}k(!0),F(!1);try{const $=await yl();i($);const E=await Cd();if(l(E),($==null?void 0:$.role)==="admin"){const _=await rV();x(_)}else if(E){const _=await tV(E.program_id);x(_)}else x([]);if(E){const[_,R,C,A]=await Promise.all([H$(E),B$(E.program_id),B_(),Qg()]),{data:D}=await B.from("session_progress").select("session_id, completed_at").eq("enrollment_id",E.id).eq("completed",!0).gte("completed_at",E.started_at),H=(D||[]).map(ne=>ne.session_id);if(p(H),f(R),v(C.slice(0,4)),y(A.slice(0,5)),_&&!_.error)u(_);else{const ne=R.flatMap(q=>q.sessions||[]).find(q=>!H.includes(q.id));if(ne){const q=await e0(ne.id);u(q)}else _!=null&&_.error?(console.error("Error fetching today's session:",_.error),u({error:"Could not load session."})):R.length>0?u({completedProgram:!0}):u({noSessions:!0})}}}catch($){console.error("Dashboard loading error:",$),F(!0),e({title:"Error al cargar datos",description:"No se pudo cargar la información del dashboard. Intenta de nuevo.",variant:"destructive"})}finally{k(!1)}},[e,r]);m.useEffect(()=>{n||O()},[n,O]);const V=async $=>{if($)try{const E=await e0($);u(E)}catch(E){console.error("Error fetching selected session:",E),e({title:"Error al cargar sesión",description:"No se pudo obtener la información de la sesión seleccionada.",variant:"destructive"})}},I=()=>{c&&c.exercises&&S(!0)},W={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};return P||n?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 rounded-full border-t-transparent border-primary"})}):N?a.jsx("div",{className:"flex items-center justify-center h-full p-4 text-center",children:a.jsxs("div",{children:[a.jsx("h2",{className:"mb-4 text-2xl font-bold text-destructive",children:"¡Ups! Algo salió mal."}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"No pudimos cargar los datos de tu dashboard."}),a.jsx(z,{onClick:O,children:"Reintentar"})]})}):!o&&(s==null?void 0:s.role)!=="admin"?a.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center h-full p-4",children:a.jsxs("div",{className:"space-y-6 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-32 h-32 mx-auto rounded-full shadow-lg bg-gradient-to-br from-primary to-secondary shadow-primary/30",children:a.jsx(mt,{className:"w-16 h-16 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:"¡Comienza tu Transformación!"}),a.jsx("p",{className:"max-w-md text-muted-foreground",children:"Selecciona un programa de entrenamiento y comienza tu viaje hacia una versión más fuerte de ti mismo."}),a.jsx(Ee,{to:"/programs",children:a.jsxs(z,{size:"lg",className:"px-8 py-3 text-lg transition-transform bg-primary hover:bg-primary/90 text-primary-foreground",children:[a.jsx(mt,{className:"w-5 h-5 mr-2"}),"Elegir un Programa"]})})]})}):a.jsxs(te.div,{variants:W,initial:"hidden",animate:"visible",className:"p-4 space-y-6",children:[a.jsx(g5,{profile:s,user:t}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[o&&a.jsx(v5,{enrollment:o}),o&&a.jsx(pB,{activeSession:c,allSessions:d,completedSessionIds:h,onSessionSelect:V,onCompleteSession:I}),o&&a.jsx(vB,{prs:b}),(s==null?void 0:s.role)==="admin"&&!o&&a.jsxs("div",{className:"p-6 text-center border bg-card border-border rounded-xl",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Modo Administrador"}),a.jsx("p",{className:"mt-2 text-muted-foreground",children:"No estás inscrito en ningún programa. Puedes ver la actividad de los alumnos a la derecha."})]})]}),a.jsxs("div",{className:"space-y-6",children:[(s==null?void 0:s.role)==="admin"&&g&&g.length>0&&a.jsx(P0,{students:g,isAdmin:!0}),(s==null?void 0:s.role)!=="admin"&&a.jsxs(a.Fragment,{children:[o&&g&&g.length>0&&a.jsx(P0,{students:g,programId:o.program_id,isAdmin:!1}),a.jsx(xB,{}),a.jsx(bB,{badges:w}),a.jsx(SB,{})]})]})]}),j&&a.jsx(m5,{session:c,enrollment:o,onClose:()=>S(!1),onComplete:()=>{S(!1),O()}})]})};var Hd="Checkbox",[d6,y7]=Ht(Hd),[f6,Ov]=d6(Hd);function h6(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=nn({prop:r,defaultProp:s??!1,onChange:c,caller:Hd}),[w,v]=m.useState(null),[b,y]=m.useState(null),g=m.useRef(!1),x=w?!!o||!!w.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:w,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:ds(s)?!1:s,isFormControl:x,bubbleInput:b,setBubbleInput:y};return a.jsx(f6,{scope:t,...j,children:m6(f)?f(j):n})}var nk="CheckboxTrigger",sk=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:w}=Ov(nk,e),v=pe(s,d),b=m.useRef(c);return m.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const g=()=>f(b.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[i,f]),a.jsx(oe.button,{type:"button",role:"checkbox","aria-checked":ds(c)?"mixed":c,"aria-required":u,"data-state":ck(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:v,onKeyDown:X(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:X(r,y=>{f(g=>ds(g)?!0:!g),w&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});sk.displayName=nk;var Mv=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(h6,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(sk,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(lk,{__scopeCheckbox:r})]})})});Mv.displayName=Hd;var ik="CheckboxIndicator",ok=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Ov(ik,r);return a.jsx(gr,{present:n||ds(i.checked)||i.checked===!0,children:a.jsx(oe.span,{"data-state":ck(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ok.displayName=ik;var ak="CheckboxBubbleInput",lk=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=Ov(ak,e),w=pe(r,p),v=fv(i),b=hv(n);m.useEffect(()=>{const g=h;if(!g)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,P=!s.current;if(v!==i&&S){const k=new Event("click",{bubbles:P});g.indeterminate=ds(i),S.call(g,ds(i)?!1:i),g.dispatchEvent(k)}},[h,v,i,s]);const y=m.useRef(ds(i)?!1:i);return a.jsx(oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lk.displayName=ak;function m6(e){return typeof e=="function"}function ds(e){return e==="indeterminate"}function ck(e){return ds(e)?"indeterminate":e?"checked":"unchecked"}const nl=m.forwardRef(({className:e,...t},r)=>a.jsx(Mv,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(ok,{className:de("flex items-center justify-center text-current"),children:a.jsx(vl,{className:"h-4 w-4"})})}));nl.displayName=Mv.displayName;const p6=[{id:"Mon",label:"Lunes"},{id:"Tue",label:"Martes"},{id:"Wed",label:"Miércoles"},{id:"Thu",label:"Jueves"},{id:"Fri",label:"Viernes"}],T0=()=>{const{toast:e}=ot(),t=an(),{session:r}=On(),[n,s]=m.useState([]),[i,o]=m.useState(null),[l,c]=m.useState(!0),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,w]=m.useState([]),[v,b]=m.useState(!1),[y,g]=m.useState(!1),[x,j]=m.useState({reason:"",goal:"",recommend:!1,comments:""}),S=m.useCallback(async()=>{c(!0);try{const _=await V$();if(s(_),r){const R=await Cd();o(R)}}catch{e({title:"Error al cargar programas",description:"No se pudieron cargar los programas. Intenta de nuevo.",variant:"destructive"})}finally{c(!1)}},[e,r]);m.useEffect(()=>{S()},[S]);const P=_=>{w(R=>R.includes(_)?R.filter(C=>C!==_):[...R,_])},k=_=>{_<=2?w(["Mon","Thu"]):w(_===3?["Mon","Wed","Fri"]:_===4?["Mon","Tue","Thu","Fri"]:["Mon","Tue","Wed","Thu","Fri"])},N=_=>{if(!r){e({title:"Inicia Sesión",description:"Debes iniciar sesión para inscribirte a un programa.",action:a.jsx(z,{onClick:()=>t("/"),children:"Iniciar Sesión"})});return}h(_),k(_.sessions_per_week),d(!0)},F=async()=>{if(p.length===0){e({title:"Selecciona al menos un día",variant:"destructive"});return}try{await V_(f.id,p),e({title:"🎉 ¡Inscripción Exitosa!",description:"Te has inscrito al programa. ¡Comienza tu transformación ahora!"}),d(!1),S()}catch(_){e({title:"Error de Inscripción",description:_.message,variant:"destructive"})}},O=()=>{j({reason:"",goal:"",recommend:!1,comments:""}),b(!0)},V=async()=>{if(!(i!=null&&i.id)){e({variant:"destructive",title:"No se encontró inscripción activa"});return}g(!0);try{await U_(i.id,x),e({title:"Has salido del programa",description:"Tu inscripción ha sido cancelada. ¡Te esperamos de vuelta en Valka cuando quieras!"}),b(!1),await S()}catch(_){e({variant:"destructive",title:"Error al salir",description:_.message})}finally{g(!1)}},I=_=>{switch(_){case"beginner":return"text-green-400 bg-green-500/20";case"intermediate":return"text-yellow-400 bg-yellow-500/20";case"advanced":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}},W=_=>{switch(_){case"beginner":return"Principiante";case"intermediate":return"Intermedio";case"advanced":return"Avanzado";default:return _}},$={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsxs(te.div,{variants:$,initial:"hidden",animate:"visible",className:"p-4 space-y-6 md:p-6",children:[a.jsxs(te.div,{variants:E,className:"mb-8 text-center",children:[a.jsx("h1",{className:"mb-2 text-5xl tracking-wider font-logo md:text-6xl text-primary",children:"Programas de Entrenamiento"}),a.jsx("p",{className:"max-w-3xl mx-auto text-lg text-muted-foreground md:text-xl",children:"Descubre programas diseñados por expertos para llevarte al siguiente nivel."}),a.jsx("p",{className:"mt-4 text-sm text-primary",children:a.jsx(Ee,{to:"/calistenia-durazno",className:"underline underline-offset-4 hover:text-primary/80",children:"Ver cómo son las clases locales en Durazno →"})})]}),r&&i&&a.jsx(te.div,{variants:E,className:"p-6 glass-card border-primary/30",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/20",children:a.jsx(er,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-primary",children:"Programa Activo"}),a.jsxs("p",{className:"text-foreground",children:["Actualmente estás inscrito en: ",a.jsx("strong",{children:i.program.name})]})]}),a.jsx(Ee,{to:"/dashboard",children:a.jsx(z,{className:"bg-primary text-primary-foreground",children:"Ir al Dashboard"})}),a.jsx(z,{variant:"outline",onClick:O,children:"Salir del programa"})]})}),l?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 rounded-full border-t-transparent border-primary"})}):a.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(_=>{const R=(i==null?void 0:i.program_id)===_.id;return a.jsxs(te.div,{variants:E,whileHover:{y:-5},className:"flex flex-col transition-all duration-300 glass-card hover:border-primary/50",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ee,{to:`/programs/${us(_.id,_.name)}`,children:a.jsx("img",{alt:`Programa ${_.name}`,className:"object-cover w-full h-48 rounded-t-xl",src:_.cover_url||"https://images.unsplash.com/photo-1553795654-a3af8d0b37f2"})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I(_.level)}`,children:W(_.level)})})]}),a.jsxs("div",{className:"flex flex-col flex-grow p-6",children:[a.jsxs("div",{className:"flex-grow space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2 text-xl font-bold",children:_.name}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:_.description})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(jd,{className:"w-4 h-4"}),a.jsxs("span",{children:[Array.isArray(_.weeks)?_.weeks.length:typeof _.weeks=="number"?_.weeks:_.weeks?1:"N/A"," semanas"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(gs,{className:"w-4 h-4"}),a.jsxs("span",{children:[_.enrollment_count||0," alumnos"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 mt-4 border-t border-border",children:[a.jsx(Ee,{to:`/programs/${us(_.id,_.name)}`,className:"flex-1",children:a.jsxs(z,{variant:"outline",className:"w-full",children:[a.jsx(Fm,{className:"w-4 h-4 mr-2"}),"Ver Detalles"]})}),R?a.jsxs(z,{disabled:!0,className:"flex-1 text-green-400 bg-green-600/20",children:[a.jsx(er,{className:"w-4 h-4 mr-2"}),"Inscrito"]}):a.jsxs(z,{onClick:()=>N(_),className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",disabled:!1,children:[a.jsx(mt,{className:"w-4 h-4 mr-2"}),i&&!R?"Cambiar Programa":"Inscribirse"]})]})]})]},_.id)})}),!l&&n.length===0&&a.jsxs(te.div,{variants:E,className:"py-12 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-24 h-24 mx-auto mb-6 rounded-full bg-muted",children:a.jsx(mt,{className:"w-12 h-12 text-muted-foreground"})}),a.jsx("h3",{className:"mb-2 text-xl font-bold",children:"No hay programas disponibles"}),a.jsx("p",{className:"text-muted-foreground",children:"Los programas se cargarán pronto. ¡Mantente atento!"})]}),f&&a.jsx(En,{open:u,onOpenChange:d,children:a.jsxs(sn,{children:[a.jsxs(Nn,{children:[a.jsx(kn,{children:i&&i.program_id!==f.id?"Cambiar Programa":"Configura tu Semana"}),a.jsx(Qa,{children:i&&i.program_id!==f.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-3 mb-3 border rounded-lg bg-amber-50 border-amber-200",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:"⚠️ Cambio de programa:"}),' Te vas a inscribir en "',f.name,'". Tu progreso actual se guardará como un logro en tu perfil y comenzarás este programa desde cero.']})}),"Elige los días que quieres entrenar. Este programa recomienda ",f.sessions_per_week," sesiones por semana."]}):`Elige los días que quieres entrenar. Este programa recomienda ${f.sessions_per_week} sesiones por semana.`})]}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>k(2),children:"2 días/sem"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>k(3),children:"3 días/sem"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>k(4),children:"4 días/sem"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>k(5),children:"5+ días/sem"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4",children:p6.map(_=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nl,{id:`modal-${_.id}`,checked:p.includes(_.id),onCheckedChange:()=>P(_.id)}),a.jsx("label",{htmlFor:`modal-${_.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:_.label})]},_.id))}),a.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Has seleccionado ",p.length," días."]})]}),a.jsxs(vs,{children:[a.jsx(z,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),a.jsx(z,{onClick:F,children:"Confirmar e Inscribirse"})]})]})}),a.jsx(En,{open:v,onOpenChange:b,children:a.jsxs(sn,{children:[a.jsxs(Nn,{children:[a.jsx(kn,{children:"Salir del programa"}),a.jsx(Qa,{children:"Antes de irte, cuéntanos un poco para mejorar Valka y recomendarte algo mejor."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 text-sm rounded-md bg-amber-500/10 border border-amber-600/40",children:[a.jsx("p",{className:"font-medium text-amber-400",children:"⚠️ Importante"}),a.jsxs("p",{className:"mt-1 text-amber-200/80",children:["Al salir del programa ",a.jsx("strong",{children:"se reiniciará tu progreso interno"})," (barra y próxima sesión) si vuelves a inscribirte. Las ",a.jsx("strong",{children:"sesiones ya completadas"})," permanecerán guardadas en tu historial y seguirán contando para tus logros."]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"¿Por qué quieres salir?"}),a.jsxs(mo,{value:x.reason,onValueChange:_=>j(R=>({...R,reason:_})),children:[a.jsx(ii,{children:a.jsx(po,{placeholder:"Selecciona un motivo"})}),a.jsx(oi,{children:a.jsxs(el,{children:[a.jsx(go,{children:"Motivo"}),a.jsx(Te,{value:"no_tiempo",children:"Me falta tiempo"}),a.jsx(Te,{value:"muy_dificil",children:"Es muy difícil"}),a.jsx(Te,{value:"muy_facil",children:"Es muy fácil"}),a.jsx(Te,{value:"lesion",children:"Me lesioné"}),a.jsx(Te,{value:"sin_equipo",children:"No tengo el equipo necesario"}),a.jsx(Te,{value:"no_me_gusta",children:"No me gustó el enfoque"}),a.jsx(Te,{value:"otro",children:"Otro"})]})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"¿Cuál es tu objetivo principal ahora mismo?"}),a.jsxs(mo,{value:x.goal,onValueChange:_=>j(R=>({...R,goal:_})),children:[a.jsx(ii,{children:a.jsx(po,{placeholder:"Selecciona un objetivo"})}),a.jsx(oi,{children:a.jsxs(el,{children:[a.jsx(go,{children:"Objetivo"}),a.jsx(Te,{value:"fuerza",children:"Fuerza"}),a.jsx(Te,{value:"hipertrofia",children:"Hipertrofia"}),a.jsx(Te,{value:"bajar_grasa",children:"Pérdida de grasa"}),a.jsx(Te,{value:"movilidad",children:"Movilidad"}),a.jsx(Te,{value:"rendimiento",children:"Rendimiento"}),a.jsx(Te,{value:"salud_general",children:"Salud general"})]})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nl,{id:"recommend-alt",checked:x.recommend,onCheckedChange:_=>j(R=>({...R,recommend:!!_}))}),a.jsx("label",{htmlFor:"recommend-alt",className:"text-sm",children:"Me gustaría que Valka me recomiende un plan alternativo"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Comentarios para el equipo de Valka (opcional)"}),a.jsx("textarea",{className:"w-full p-2 border rounded-md bg-background border-border",rows:4,placeholder:"Cuéntanos qué mejorarías o qué te gustaría ver...",value:x.comments,onChange:_=>j(R=>({...R,comments:_.target.value}))})]})]}),a.jsxs(vs,{children:[a.jsx(z,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),a.jsx(z,{onClick:V,disabled:y,children:y?"Procesando...":"Confirmar salida"})]})]})})]})};function qd(e,t={}){try{window.gtag&&window.gtag("event",e,t)}catch{}}function g6(e){qd("view_program",{program_id:e.id,name:e.name})}function v6(e){qd("view_lesson",{lesson_id:e.id,title:e.title})}function y6(e,t="direct"){qd("enroll_program",{program_id:e.id,name:e.name,method:t})}function x6(e){qd("play_video",{lesson_id:e.id,title:e.title})}const w6=[{id:"Mon",label:"Lunes"},{id:"Tue",label:"Martes"},{id:"Wed",label:"Miércoles"},{id:"Thu",label:"Jueves"},{id:"Fri",label:"Viernes"},{id:"Sat",label:"Sábado"},{id:"Sun",label:"Domingo"}],A0=({onEnrollClick:e})=>{var R,C,A,D,H,ne;const{idSlug:t}=od(),r=F_(t),n=an(),{toast:s}=ot(),{session:i}=On(),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(!0),[h,p]=m.useState(!1),[w,v]=m.useState([]),[b,y]=m.useState(!1),[g,x]=m.useState(!1),[j,S]=m.useState({reason:"",goal:"",recommend:!1,comments:""}),P=m.useCallback(async()=>{f(!0);try{const q=await U$(r);if(l(q),g6(q),i){const ee=await Cd();u(ee)}}catch{s({title:"Error al cargar programa",description:"No se pudo cargar la información del programa.",variant:"destructive"})}finally{f(!1)}},[r,s,i]);m.useEffect(()=>{P()},[P]);const k=q=>{v(ee=>ee.includes(q)?ee.filter(Se=>Se!==q):[...ee,q])},N=q=>{q<=2?v(["Mon","Thu"]):v(q===3?["Mon","Wed","Fri"]:q===4?["Mon","Tue","Thu","Fri"]:["Mon","Tue","Wed","Thu","Fri"])},F=()=>{if(!i){e();return}N(o.sessions_per_week),p(!0)},O=async()=>{if(w.length===0){s({title:"Selecciona al menos un día",variant:"destructive"});return}try{await V_(r,w),y6(o),s({title:"🎉 ¡Inscripción Exitosa!",description:"Te has inscrito al programa. ¡Comienza tu transformación ahora!"}),p(!1),n("/dashboard")}catch(q){s({title:"Error de Inscripción",description:q.message,variant:"destructive"})}},V=()=>{S({reason:"",goal:"",recommend:!1,comments:""}),y(!0)},I=async()=>{if(!(c!=null&&c.id)){s({variant:"destructive",title:"No se encontró inscripción activa"});return}x(!0);try{await U_(c.id,j),s({title:"Has salido del programa",description:"Tu inscripción ha sido cancelada. ¡Te esperamos de vuelta en Valka cuando quieras!"}),y(!1),await P()}catch(q){s({variant:"destructive",title:"Error al salir",description:q.message})}finally{x(!1)}},W=q=>{switch(q){case"beginner":return"text-green-400 bg-green-500/20";case"intermediate":return"text-yellow-400 bg-yellow-500/20";case"advanced":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}},$=q=>{switch(q){case"beginner":return"Principiante";case"intermediate":return"Intermedio";case"advanced":return"Avanzado";default:return q}};if(d)return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 rounded-full border-t-transparent border-primary"})});if(!o)return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-muted",children:a.jsx(mt,{className:"w-8 h-8 text-muted-foreground"})}),a.jsx("h2",{className:"mb-2 text-xl font-bold",children:"Programa no encontrado"}),a.jsx("p",{className:"mb-4 text-muted-foreground",children:"El programa que buscas no existe o ha sido eliminado."}),a.jsx(Ee,{to:"/programs",children:a.jsx(z,{children:"Volver a Programas"})})]})});const E=(c==null?void 0:c.program_id)===o.id,_=((R=o.reviews)==null?void 0:R.length)>0?(o.reviews.reduce((q,ee)=>q+ee.rating,0)/o.reviews.length).toFixed(1):"N/A";return a.jsxs(a.Fragment,{children:[a.jsxs(tn,{children:[a.jsxs("title",{children:[o.name," | Programa de Calistenia | VALKA"]}),a.jsx("meta",{name:"description",content:((C=o.description)==null?void 0:C.slice(0,160))||"Programa de calistenia en VALKA"}),a.jsx("link",{rel:"canonical",href:`https://entrenaconvalka.com/programs/${us(o.id,o.name)}`}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Programas",item:"https://entrenaconvalka.com/programs"},{"@type":"ListItem",position:2,name:o.name,item:`https://entrenaconvalka.com/programs/${us(o.id,o.name)}`}]})}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Course",name:o.name,description:o.description,provider:{"@type":"Organization",name:"VALKA",sameAs:"https://entrenaconvalka.com"},educationalLevel:$(o.level),aggregateRating:(A=o.reviews)!=null&&A.length?{"@type":"AggregateRating",ratingValue:_,reviewCount:o.reviews.length}:void 0})})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 space-y-6 md:p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Ee,{to:"/programs",children:a.jsxs(z,{variant:"outline",size:"sm",children:[a.jsx(fo,{className:"w-4 h-4 mr-2"}),"Volver"]})}),a.jsx("h1",{className:"text-3xl font-bold gradient-text",children:o.name})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs("div",{className:"p-6 glass-card",children:[a.jsxs("div",{className:"relative mb-6 overflow-hidden rounded-xl",children:[a.jsx("img",{alt:`Programa ${o.name}`,className:"object-cover w-full h-64",src:o.cover_url||"https://images.unsplash.com/photo-1578229353624-a4007142da75"}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${W(o.level)}`,children:$(o.level)})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center text-sm gap-x-6 gap-y-2 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jd,{className:"w-4 h-4"}),a.jsxs("span",{children:[Array.isArray(o.weeks)?o.weeks.length:o.weeks||"N/A"," semanas"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mt,{className:"w-4 h-4"}),a.jsxs("span",{children:[o.sessions_per_week||0," sesiones/semana"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"w-4 h-4"}),a.jsxs("span",{children:[o.enrollment_count||0," alumnos"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gg,{className:"w-4 h-4 fill-current text-primary"}),a.jsxs("span",{children:[_," (",((D=o.reviews)==null?void 0:D.length)||0," reseñas)"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mt-4 mb-3 text-xl font-bold",children:"Descripción del Programa"}),a.jsx("p",{className:"leading-relaxed text-muted-foreground",children:o.description})]})]})]}),a.jsxs("div",{className:"p-6 glass-card",children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold",children:[a.jsx(Ka,{className:"w-5 h-5 text-secondary"}),"Estructura del Programa"]}),a.jsxs("div",{className:"space-y-3",children:[((H=o.weeks)==null?void 0:H.slice(0,6).map(q=>{var ee;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-accent",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-secondary/20",children:a.jsx("span",{className:"text-sm font-bold text-secondary",children:q.week_order})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium",children:q.label})})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[((ee=q.sessions)==null?void 0:ee.length)||0," sesiones"]})]},q.id)}))||a.jsxs("div",{className:"py-6 text-center text-muted-foreground",children:[a.jsx(Ka,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Estructura del programa en desarrollo"})]}),((ne=o.weeks)==null?void 0:ne.length)>6&&a.jsx("div",{className:"pt-4 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["Y ",o.weeks.length-6," semanas más..."]})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-6 glass-card",children:a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsx("div",{className:"text-3xl font-bold gradient-text",children:"Gratis"}),a.jsx("p",{className:"text-muted-foreground",children:"Acceso completo al programa"}),E?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{disabled:!0,className:"w-full text-green-400 bg-green-600/20",children:[a.jsx(er,{className:"w-4 h-4 mr-2"}),"Ya Inscrito"]}),a.jsx(Ee,{to:"/dashboard",children:a.jsx(z,{className:"w-full bg-primary text-primary-foreground",children:"Ir al Dashboard"})}),a.jsx(z,{variant:"outline",className:"w-full",onClick:V,children:"Salir del programa"})]}):a.jsxs(z,{onClick:F,className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:!1,children:[a.jsx(mt,{className:"w-4 h-4 mr-2"}),c&&!E?"Cambiar a Este Programa":"Inscribirse Ahora"]})]})}),a.jsxs("div",{className:"p-6 glass-card",children:[a.jsx("h4",{className:"mb-4 font-bold",children:"Incluye:"}),a.jsx("div",{className:"space-y-3",children:["Videos explicativos de cada ejercicio","Seguimiento de progreso personalizado","Comunidad de apoyo","Feedback de entrenadores","Acceso de por vida","Actualizaciones gratuitas"].map((q,ee)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(er,{className:"flex-shrink-0 w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:q})]},ee))})]})]})]}),a.jsx(En,{open:h,onOpenChange:p,children:a.jsxs(sn,{children:[a.jsxs(Nn,{children:[a.jsx(kn,{children:"Configura tu Semana"}),a.jsxs(Qa,{children:["Elige los días que quieres entrenar. Este programa recomienda ",o.sessions_per_week," sesiones por semana."]})]}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(2),children:"2 días/sem"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(3),children:"3 días/sem"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(4),children:"4 días/sem"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(5),children:"5+ días/sem"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4",children:w6.map(q=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nl,{id:q.id,checked:w.includes(q.id),onCheckedChange:()=>k(q.id)}),a.jsx("label",{htmlFor:q.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q.label})]},q.id))}),a.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Has seleccionado ",w.length," días."]})]}),a.jsxs(vs,{children:[a.jsx(z,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),a.jsxs(z,{onClick:O,children:["Confirmar e Inscribirse ",a.jsx(Bg,{className:"w-4 h-4 ml-2"})]})]})]})}),a.jsx(En,{open:b,onOpenChange:y,children:a.jsxs(sn,{children:[a.jsxs(Nn,{children:[a.jsx(kn,{children:"Salir del programa"}),a.jsx(Qa,{children:"Antes de irte, cuéntanos un poco para mejorar Valka y recomendarte algo mejor."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"¿Por qué quieres salir?"}),a.jsxs(mo,{value:j.reason,onValueChange:q=>S(ee=>({...ee,reason:q})),children:[a.jsx(ii,{children:a.jsx(po,{placeholder:"Selecciona un motivo"})}),a.jsx(oi,{children:a.jsxs(el,{children:[a.jsx(go,{children:"Motivo"}),a.jsx(Te,{value:"no_tiempo",children:"Me falta tiempo"}),a.jsx(Te,{value:"muy_dificil",children:"Es muy difícil"}),a.jsx(Te,{value:"muy_facil",children:"Es muy fácil"}),a.jsx(Te,{value:"lesion",children:"Me lesioné"}),a.jsx(Te,{value:"sin_equipo",children:"No tengo el equipo necesario"}),a.jsx(Te,{value:"no_me_gusta",children:"No me gustó el enfoque"}),a.jsx(Te,{value:"otro",children:"Otro"})]})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"¿Cuál es tu objetivo principal ahora mismo?"}),a.jsxs(mo,{value:j.goal,onValueChange:q=>S(ee=>({...ee,goal:q})),children:[a.jsx(ii,{children:a.jsx(po,{placeholder:"Selecciona un objetivo"})}),a.jsx(oi,{children:a.jsxs(el,{children:[a.jsx(go,{children:"Objetivo"}),a.jsx(Te,{value:"fuerza",children:"Fuerza"}),a.jsx(Te,{value:"hipertrofia",children:"Hipertrofia"}),a.jsx(Te,{value:"bajar_grasa",children:"Pérdida de grasa"}),a.jsx(Te,{value:"movilidad",children:"Movilidad"}),a.jsx(Te,{value:"rendimiento",children:"Rendimiento"}),a.jsx(Te,{value:"salud_general",children:"Salud general"})]})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nl,{id:"recommend-alt-detail",checked:j.recommend,onCheckedChange:q=>S(ee=>({...ee,recommend:!!q}))}),a.jsx("label",{htmlFor:"recommend-alt-detail",className:"text-sm",children:"Me gustaría que Valka me recomiende un plan alternativo"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Comentarios para el equipo de Valka (opcional)"}),a.jsx("textarea",{className:"w-full p-2 border rounded-md bg-background border-border",rows:4,placeholder:"Cuéntanos qué mejorarías o qué te gustaría ver...",value:j.comments,onChange:q=>S(ee=>({...ee,comments:q.target.value}))})]})]}),a.jsxs(vs,{children:[a.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),a.jsx(z,{onClick:I,disabled:g,children:g?"Procesando...":"Confirmar salida"})]})]})})]})]})},R0=()=>{const{toast:e}=ot(),[t,r]=m.useState([]),[n,s]=m.useState(!0),i=m.useCallback(async()=>{s(!0);try{const c=await z$();r(c)}catch{e({title:"Error al cargar la biblioteca",description:"No se pudo cargar el contenido. Intenta de nuevo.",variant:"destructive"})}finally{s(!1)}},[e]);m.useEffect(()=>{i()},[i]);const o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsxs(te.div,{variants:o,initial:"hidden",animate:"visible",className:"p-4 space-y-8 md:p-6",children:[a.jsxs(te.div,{variants:l,className:"text-center",children:[a.jsx("h1",{className:"mb-2 text-5xl tracking-wider font-logo md:text-6xl text-primary",children:"Biblioteca Educativa"}),a.jsx("p",{className:"max-w-3xl mx-auto text-lg text-muted-foreground md:text-xl",children:"El conocimiento es poder. Aquí tenés todo lo que necesitás para entender el porqué de tu entrenamiento."})]}),n?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 rounded-full border-t-transparent border-primary"})}):a.jsx("div",{className:"space-y-12",children:t.map(c=>a.jsxs(te.section,{variants:l,children:[a.jsx("h2",{className:"pb-2 mb-6 text-2xl font-bold border-b text-primary md:text-3xl border-border",children:c.name}),a.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.lessons.map(u=>a.jsx(te.div,{whileHover:{y:-5},className:"flex flex-col overflow-hidden border rounded-lg bg-card border-border group",children:a.jsxs("div",{className:"flex flex-col flex-grow p-6",children:[a.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground h-14",children:u.title}),u.bullets&&a.jsx("p",{className:"flex-grow h-20 mb-4 overflow-hidden text-base text-muted-foreground",children:u.bullets[0]}),a.jsx(Ee,{to:`/library/${us(u.id,u.title)}`,children:a.jsxs(z,{variant:"link",className:"p-0 text-base font-medium transition-colors text-primary hover:text-primary/80",children:["VER LECCIÓN",a.jsx(Bg,{className:"w-5 h-5 ml-1 transition-transform group-hover:translate-x-1"})]})})]})},u.id))})]},c.id))}),!n&&t.length===0&&a.jsxs(te.div,{variants:l,className:"py-20 text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-24 h-24 mx-auto mb-6 rounded-full bg-muted",children:a.jsx(No,{className:"w-12 h-12 text-muted-foreground"})}),a.jsx("h3",{className:"mb-2 text-2xl font-bold tracking-wider",children:"Biblioteca en construcción"}),a.jsx("p",{className:"text-muted-foreground",children:"Estamos preparando el mejor contenido para vos. ¡Volvé pronto!"})]})]})},b6=/(?:youtube\.com\/(?:watch\?v=|shorts\/|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{6,})/,j6=/vimeo\.com\/(?:video\/)?(\d+)/,S6=/loom\.com\/share\/([a-f0-9]{32})/,_6=/drive\.google\.com\/file\/d\/([^/]+)\//;function C6(e){if(!e)return null;const t=e.trim(),r=t.toLowerCase();if(/(\.mp4|\.webm|\.mkv|\.m4v)(\?.*)?$/i.test(r))return{provider:"file",id:null,embedUrl:t,original:t};const n=t.match(b6);if(n){const l=n[1];return{provider:"youtube",id:l,embedUrl:`https://www.youtube.com/embed/${l}`,original:t,thumbnail:`https://i.ytimg.com/vi/${l}/hqdefault.jpg`}}const s=t.match(j6);if(s){const l=s[1];return{provider:"vimeo",id:l,embedUrl:`https://player.vimeo.com/video/${l}`,original:t}}const i=t.match(S6);if(i){const l=i[1];return{provider:"loom",id:l,embedUrl:`https://www.loom.com/embed/${l}`,original:t}}const o=t.match(_6);if(o){const l=o[1];return{provider:"gdrive",id:l,embedUrl:`https://drive.google.com/file/d/${l}/preview`,original:t}}try{const l=new URL(t);return{provider:"unknown",id:null,embedUrl:t,original:t}}catch{return null}}const E6=({url:e,className:t="",autoPlay:r=!1})=>{const n=C6(e),[s,i]=m.useState(r);if(!e)return a.jsx("div",{className:`flex items-center justify-center w-full h-full bg-muted text-muted-foreground ${t}`,children:"Sin video"});if(!n)return a.jsxs("div",{className:`flex flex-col items-center justify-center w-full h-full gap-2 bg-muted text-muted-foreground p-4 ${t}`,children:[a.jsx("p",{children:"No se pudo interpretar la URL del video."}),a.jsx("a",{className:"underline",href:e,target:"_blank",rel:"noopener noreferrer",children:"Abrir enlace"})]});const l={className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy",referrerPolicy:"strict-origin-when-cross-origin"};return!s&&n.provider==="youtube"&&n.thumbnail?a.jsxs("button",{type:"button",onClick:()=>i(!0),className:`group relative w-full h-full ${t} overflow-hidden rounded bg-black`,children:[a.jsx("img",{src:n.thumbnail,alt:"Thumbnail",className:"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:a.jsx("div",{className:"px-4 py-2 text-sm font-semibold tracking-wide text-white rounded-full bg-primary/80 backdrop-blur",children:"▶ Reproducir"})})]}):a.jsx("div",{className:`relative w-full h-full ${t}`,children:a.jsx("iframe",{src:n.embedUrl+(s&&n.provider==="youtube"?"?autoplay=1&rel=0":""),title:"Video",...l,onError:c=>{const u=c.currentTarget.parentElement;u&&(u.innerHTML=`<div class='flex flex-col items-center justify-center w-full h-full gap-2 bg-muted text-muted-foreground p-4'>
<p>No se pudo cargar el reproductor embebido.</p>
<a class='underline' href='${n.original}' target='_blank' rel='noopener noreferrer'>Abrir en nueva pestaña</a></div>`)}})})},O0=()=>{var c,u;const{idSlug:e}=od(),t=F_(e),{toast:r}=ot(),[n,s]=m.useState(null),[i,o]=m.useState(!0),l=m.useCallback(async()=>{o(!0);try{const d=await W$(t);s(d),v6(d)}catch{r({title:"Error al cargar la lección",description:"No se pudo encontrar la lección solicitada.",variant:"destructive"})}finally{o(!1)}},[t,r]);return m.useEffect(()=>{l()},[l]),i?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 rounded-full border-t-transparent border-primary"})}):n?a.jsxs(a.Fragment,{children:[a.jsxs(tn,{children:[a.jsx("title",{children:`${n.title} | VALKA`}),a.jsx("meta",{name:"description",content:`Aprende sobre ${n.title} en la biblioteca de VALKA.`}),a.jsx("link",{rel:"canonical",href:`https://entrenaconvalka.com/library/${us(n.id,n.title)}`}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Biblioteca",item:"https://entrenaconvalka.com/library"},{"@type":"ListItem",position:2,name:n.title,item:`https://entrenaconvalka.com/library/${us(n.id,n.title)}`}]})}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Article",headline:n.title,about:(c=n.category)==null?void 0:c.name,description:`Aprende sobre ${n.title}`,author:{"@type":"Organization",name:"VALKA"},publisher:{"@type":"Organization",name:"VALKA"},mainEntityOfPage:`https://entrenaconvalka.com/library/${us(n.id,n.title)}`})})]}),a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-5xl p-4 mx-auto md:p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsx(Ee,{to:"/library",children:a.jsxs(z,{variant:"ghost",className:"text-muted-foreground",children:[a.jsx(fo,{className:"w-4 h-4 mr-2"}),"Volver a la Biblioteca"]})})}),a.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-3xl font-bold leading-tight md:text-4xl",children:n.title}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[(u=n.category)==null?void 0:u.name,n.read_time_min?a.jsxs(a.Fragment,{children:[" • ",n.read_time_min," min"]}):null]})]}),a.jsx("div",{className:"overflow-hidden border rounded-lg bg-card border-border",children:n.video_url?a.jsx("div",{className:"aspect-video",children:a.jsx(E6,{url:n.video_url,className:"rounded",onPlay:()=>x6(n)})}):a.jsx("div",{className:"flex items-center justify-center aspect-video bg-muted/10 text-muted-foreground",children:"Video Placeholder (VIDEO_ID)"})}),n.bullets&&n.bullets.length>0&&a.jsxs("div",{className:"p-5 border rounded-lg bg-card border-border",children:[a.jsx("h2",{className:"mb-3 text-lg font-semibold",children:"3 Ideas Clave"}),a.jsx("ul",{className:"space-y-2",children:n.bullets.slice(0,3).map((d,f)=>a.jsxs(te.li,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1+f*.05},className:"flex items-start gap-3",children:[a.jsx(er,{className:"flex-shrink-0 w-5 h-5 mt-0.5 text-primary"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:d})]},f))})]}),n.errors&&n.errors.length>0&&a.jsxs("div",{className:"p-5 border rounded-lg bg-card border-border",children:[a.jsxs("h2",{className:"mb-3 text-lg font-semibold flex items-center gap-2",children:[a.jsx(Im,{className:"w-5 h-5 text-yellow-400"}),"Errores Comunes"]}),a.jsx("ul",{className:"space-y-2",children:n.errors.map((d,f)=>a.jsxs("li",{className:"flex items-start gap-3 text-sm text-muted-foreground",children:[a.jsx(s$,{className:"flex-shrink-0 w-4 h-4 mt-0.5 text-red-400"}),a.jsx("span",{children:d})]},f))})]}),n.task&&a.jsxs("div",{className:"p-5 border rounded-lg bg-card border-border",children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-2 text-base font-semibold text-green-400",children:[a.jsx(er,{className:"w-5 h-5"}),"Tarea / Ejecución Correcta"]}),a.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:n.task})]}),n.applicable_task&&a.jsxs("div",{className:"p-5 border rounded-lg border-primary/60 bg-primary/5",children:[a.jsx("h3",{className:"mb-1 text-base font-semibold",children:"Tarea Aplicable Hoy"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.applicable_task})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4 text-center",children:[a.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Lección no encontrada"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"Lo sentimos, no pudimos encontrar la lección que estás buscando."}),a.jsx(Ee,{to:"/library",children:a.jsxs(z,{children:[a.jsx(fo,{className:"w-4 h-4 mr-2"}),"Volver a la Biblioteca"]})})]})};var Gd="Tabs",[N6,x7]=Ht(Gd,[$d]),uk=$d(),[k6,Dv]=N6(Gd),dk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=bl(l),[f,h]=nn({prop:n,onChange:s,defaultProp:i??"",caller:Gd});return a.jsx(k6,{scope:r,baseId:Dr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(oe.div,{dir:d,"data-orientation":o,...u,ref:t})})});dk.displayName=Gd;var fk="TabsList",hk=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Dv(fk,r),o=uk(r);return a.jsx(lN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});hk.displayName=fk;var mk="TabsTrigger",pk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Dv(mk,r),l=uk(r),c=yk(o.baseId,n),u=xk(o.baseId,n),d=n===o.value;return a.jsx(cN,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:X(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:X(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});pk.displayName=mk;var gk="TabsContent",vk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Dv(gk,r),c=yk(l.baseId,n),u=xk(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(gr,{present:s||d,children:({present:h})=>a.jsx(oe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});vk.displayName=gk;function yk(e,t){return`${e}-trigger-${t}`}function xk(e,t){return`${e}-content-${t}`}var P6=dk,wk=hk,bk=pk,jk=vk;const Iv=P6,Kd=Z.forwardRef(({className:e,...t},r)=>a.jsx(wk,{ref:r,className:de("inline-flex h-12 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Kd.displayName=wk.displayName;const Ar=Z.forwardRef(({className:e,...t},r)=>a.jsx(bk,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-2 text-base font-sans tracking-wider ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-card data-[state=active]:text-primary data-[state=active]:shadow-sm",e),...t}));Ar.displayName=bk.displayName;const Rr=Z.forwardRef(({className:e,...t},r)=>a.jsx(jk,{ref:r,className:de("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rr.displayName=jk.displayName;const qe=Z.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base font-sans tracking-wider ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));qe.displayName="Input";function tr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ai(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Sk=6048e5,T6=864e5,_k=6e4,Ck=36e5;let A6={};function Yd(){return A6}function sl(e,t){var l,c,u,d;const r=Yd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=tr(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pu(e){return sl(e,{weekStartsOn:1})}function Ek(e){const t=tr(e),r=t.getFullYear(),n=ai(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Pu(n),i=ai(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Pu(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function M0(e){const t=tr(e);return t.setHours(0,0,0,0),t}function D0(e){const t=tr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Nk(e,t){const r=M0(e),n=M0(t),s=+r-D0(r),i=+n-D0(n);return Math.round((s-i)/T6)}function R6(e){const t=Ek(e),r=ai(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pu(r)}function O6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _r(e){if(!O6(e)&&typeof e!="number")return!1;const t=tr(e);return!isNaN(Number(t))}function kk(e,t){const r=tr(e),n=tr(t),s=I0(r,n),i=Math.abs(Nk(r,n));r.setDate(r.getDate()-s*i);const o=+(I0(r,n)===-s),l=s*(i-o);return l===0?0:l}function I0(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function M6(e){const t=tr(e),r=ai(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const D6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},I6=(e,t,r)=>{let n;const s=D6[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function eo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const L6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V6={date:eo({formats:L6,defaultWidth:"full"}),time:eo({formats:F6,defaultWidth:"full"}),dateTime:eo({formats:$6,defaultWidth:"full"})},U6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B6=(e,t,r,n)=>U6[e];function Gr(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const z6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Y6=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},X6={ordinalNumber:Y6,era:Gr({values:z6,defaultWidth:"wide"}),quarter:Gr({values:W6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gr({values:H6,defaultWidth:"wide"}),day:Gr({values:q6,defaultWidth:"wide"}),dayPeriod:Gr({values:G6,defaultWidth:"wide",formattingValues:K6,defaultFormattingWidth:"wide"})};function Kr(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?J6(l,f=>f.test(o)):Q6(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Q6(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function J6(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Pk(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Z6=/^(\d+)(th|st|nd|rd)?/i,eW=/\d+/i,tW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rW={any:[/^b/i,/^(a|c)/i]},nW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sW={any:[/1/i,/2/i,/3/i,/4/i]},iW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dW={ordinalNumber:Pk({matchPattern:Z6,parsePattern:eW,valueCallback:e=>parseInt(e,10)}),era:Kr({matchPatterns:tW,defaultMatchWidth:"wide",parsePatterns:rW,defaultParseWidth:"any"}),quarter:Kr({matchPatterns:nW,defaultMatchWidth:"wide",parsePatterns:sW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kr({matchPatterns:iW,defaultMatchWidth:"wide",parsePatterns:oW,defaultParseWidth:"any"}),day:Kr({matchPatterns:aW,defaultMatchWidth:"wide",parsePatterns:lW,defaultParseWidth:"any"}),dayPeriod:Kr({matchPatterns:cW,defaultMatchWidth:"any",parsePatterns:uW,defaultParseWidth:"any"})},fW={code:"en-US",formatDistance:I6,formatLong:V6,formatRelative:B6,localize:X6,match:dW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hW(e){const t=tr(e);return Nk(t,M6(t))+1}function mW(e){const t=tr(e),r=+Pu(t)-+R6(t);return Math.round(r/Sk)+1}function Tk(e,t){var d,f,h,p;const r=tr(e),n=r.getFullYear(),s=Yd(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ai(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=sl(o,t),c=ai(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=sl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function pW(e,t){var l,c,u,d;const r=Yd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Tk(e,t),i=ai(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),sl(i,t)}function gW(e,t){const r=tr(e),n=+sl(r,t)-+pW(r,t);return Math.round(n/Sk)+1}function Pe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const $n={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Pe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Pe(r+1,2)},d(e,t){return Pe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Pe(e.getHours()%12||12,t.length)},H(e,t){return Pe(e.getHours(),t.length)},m(e,t){return Pe(e.getMinutes(),t.length)},s(e,t){return Pe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Pe(s,t.length)}},Ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return $n.y(e,t)},Y:function(e,t,r,n){const s=Tk(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Pe(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Pe(i,t.length)},R:function(e,t){const r=Ek(e);return Pe(r,t.length)},u:function(e,t){const r=e.getFullYear();return Pe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return $n.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=gW(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Pe(s,t.length)},I:function(e,t,r){const n=mW(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Pe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):$n.d(e,t)},D:function(e,t,r){const n=hW(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Pe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Pe(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Pe(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Pe(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Ci.noon:n===0?s=Ci.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Ci.evening:n>=12?s=Ci.afternoon:n>=4?s=Ci.morning:s=Ci.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return $n.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):$n.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Pe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Pe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):$n.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):$n.s(e,t)},S:function(e,t){return $n.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return $0(n);case"XXXX":case"XX":return Ds(n);case"XXXXX":case"XXX":default:return Ds(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return $0(n);case"xxxx":case"xx":return Ds(n);case"xxxxx":case"xxx":default:return Ds(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+F0(n,":");case"OOOO":default:return"GMT"+Ds(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+F0(n,":");case"zzzz":default:return"GMT"+Ds(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Pe(n,t.length)},T:function(e,t,r){const n=e.getTime();return Pe(n,t.length)}};function F0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Pe(i,2)}function $0(e,t){return e%60===0?(e>0?"-":"+")+Pe(Math.abs(e)/60,2):Ds(e,t)}function Ds(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Pe(Math.trunc(n/60),2),i=Pe(n%60,2);return r+s+t+i}const V0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ak=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vW=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return V0(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",V0(n,t)).replace("{{time}}",Ak(s,t))},yW={p:Ak,P:vW},xW=/^D+$/,wW=/^Y+$/,bW=["D","DD","YY","YYYY"];function jW(e){return xW.test(e)}function SW(e){return wW.test(e)}function _W(e,t,r){const n=CW(e,t,r);if(console.warn(n),bW.includes(e))throw new RangeError(n)}function CW(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kW=/^'([^]*?)'?$/,PW=/''/g,TW=/[a-zA-Z]/;function Gn(e,t,r){var d,f,h,p,w,v,b,y;const n=Yd(),s=(r==null?void 0:r.locale)??n.locale??fW,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=tr(e);if(!_r(l))throw new RangeError("Invalid time value");let c=t.match(NW).map(g=>{const x=g[0];if(x==="p"||x==="P"){const j=yW[x];return j(g,s.formatLong)}return g}).join("").match(EW).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:AW(g)};if(L0[x])return{isToken:!0,value:g};if(x.match(TW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const x=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&SW(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&jW(x))&&_W(x,t,String(e));const j=L0[x[0]];return j(l,x,s.localize,u)}).join("")}function AW(e){const t=e.match(kW);return t?t[1].replace(PW,"'"):e}function mc(e,t){const r=(t==null?void 0:t.additionalDigits)??2,n=DW(e);let s;if(n.date){const c=IW(n.date,r);s=LW(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=FW(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=$W(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const pc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RW=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OW=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,MW=/^([+-])(\d{2})(?::?(\d{2}))?$/;function DW(e){const t={},r=e.split(pc.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],pc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(pc.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=pc.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function IW(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function LW(e,t){if(t===null)return new Date(NaN);const r=e.match(RW);if(!r)return new Date(NaN);const n=!!r[4],s=Ko(r[1]),i=Ko(r[2])-1,o=Ko(r[3]),l=Ko(r[4]),c=Ko(r[5])-1;if(n)return WW(t,l,c)?VW(t,l,c):new Date(NaN);{const u=new Date(0);return!BW(t,i,o)||!zW(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Ko(e){return e?parseInt(e):1}function FW(e){const t=e.match(OW);if(!t)return NaN;const r=lh(t[1]),n=lh(t[2]),s=lh(t[3]);return HW(r,n,s)?r*Ck+n*_k+s*1e3:NaN}function lh(e){return e&&parseFloat(e.replace(",","."))||0}function $W(e){if(e==="Z")return 0;const t=e.match(MW);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return qW(n,s)?r*(n*Ck+s*_k):NaN}function VW(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const UW=[31,null,31,30,31,30,31,31,30,31,30,31];function Rk(e){return e%400===0||e%4===0&&e%100!==0}function BW(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(UW[t]||(Rk(e)?29:28))}function zW(e,t){return t>=1&&t<=(Rk(e)?366:365)}function WW(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function HW(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function qW(e,t){return t>=0&&t<=59}const GW={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},KW=(e,t,r)=>{let n;const s=GW[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},YW={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},XW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},QW={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JW={date:eo({formats:YW,defaultWidth:"full"}),time:eo({formats:XW,defaultWidth:"full"}),dateTime:eo({formats:QW,defaultWidth:"full"})},ZW={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},eH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},tH=(e,t,r,n)=>t.getHours()!==1?eH[e]:ZW[e],rH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},nH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},sH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},iH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},oH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},aH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},lH=(e,t)=>Number(e)+"º",cH={ordinalNumber:lH,era:Gr({values:rH,defaultWidth:"wide"}),quarter:Gr({values:nH,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Gr({values:sH,defaultWidth:"wide"}),day:Gr({values:iH,defaultWidth:"wide"}),dayPeriod:Gr({values:oH,defaultWidth:"wide",formattingValues:aH,defaultFormattingWidth:"wide"})},uH=/^(\d+)(º)?/i,dH=/\d+/i,fH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},hH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},mH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},pH={any:[/1/i,/2/i,/3/i,/4/i]},gH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},vH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},yH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},xH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},wH={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},bH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},jH={ordinalNumber:Pk({matchPattern:uH,parsePattern:dH,valueCallback:function(e){return parseInt(e,10)}}),era:Kr({matchPatterns:fH,defaultMatchWidth:"wide",parsePatterns:hH,defaultParseWidth:"any"}),quarter:Kr({matchPatterns:mH,defaultMatchWidth:"wide",parsePatterns:pH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kr({matchPatterns:gH,defaultMatchWidth:"wide",parsePatterns:vH,defaultParseWidth:"any"}),day:Kr({matchPatterns:yH,defaultMatchWidth:"wide",parsePatterns:xH,defaultParseWidth:"any"}),dayPeriod:Kr({matchPatterns:wH,defaultMatchWidth:"any",parsePatterns:bH,defaultParseWidth:"any"})},Kn={code:"es",formatDistance:KW,formatLong:JW,formatRelative:tH,localize:cH,match:jH,options:{weekStartsOn:1,firstWeekContainsDate:1}},SH=()=>{var ge,me;const{toast:e}=ot(),{user:t,signOut:r,session:n,loading:s}=On(),[i,o]=m.useState(null),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState({id:null,type:"",value:"",unit:"kg",date:""}),[p,w]=m.useState(!1),[v,b]=m.useState(!0),[y,g]=m.useState(new Set),x=["kg","reps","seg","m","cm"],[j,S]=m.useState([]),[P,k]=m.useState([]),[N,F]=m.useState([]),[O,V]=m.useState(""),[I,W]=m.useState(!0),[$,E]=m.useState([]),[_,R]=m.useState({totalPrograms:0,totalSessions:0});m.useEffect(()=>{console.log("[PR UI] Versión 1.1 cargada")},[]);const C=m.useCallback(async()=>{if(!n){W(!1);return}W(!0);try{const[L,Y,ae,fe,we,$e]=await Promise.all([yl(),B_(),Qg(),z_(),W_(),H_()]);o(L),c(Y),d(ae),S(fe.friends),k(fe.requests),E(we),R($e)}catch{e({title:"Error al cargar perfil",description:"No se pudo cargar tu información. Intenta de nuevo.",variant:"destructive"})}finally{W(!1)}},[e,n]);m.useEffect(()=>{s||C()},[s,C]),m.useEffect(()=>{const Y=setTimeout(async()=>{if(O.trim()===""){F([]);return}const ae=await J$(O),fe=[...j.map($e=>$e.id),...P.map($e=>$e.id)],we=ae.filter($e=>$e.id!==t.id&&!fe.includes($e.id));F(we)},300);return()=>clearTimeout(Y)},[O,j,P,t]);const A=async L=>{try{await Jg(L),e({title:"Solicitud enviada",description:"Tu solicitud de amistad ha sido enviada."}),V("")}catch(Y){e({title:"Error",description:Y.message,variant:"destructive"})}},D=L=>L.trim().toLowerCase().replace(/\s+/g," ").split(" ").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" "),H=m.useMemo(()=>{const L={};return u.forEach(Y=>{const ae=Y.type||"General";L[ae]||(L[ae]=[]),L[ae].push(Y)}),Object.keys(L).forEach(Y=>{L[Y].sort((ae,fe)=>new Date(ae.date||"1970-01-01")-new Date(fe.date||"1970-01-01"))}),L},[u]),ne=m.useMemo(()=>{const L=[];return Object.entries(H).forEach(([Y,ae])=>{const fe=[...ae].sort((we,$e)=>$e.value-we.value||new Date($e.date||"1970-01-01")-new Date(we.date||"1970-01-01"))[0];fe&&L.push(fe)}),L.sort((Y,ae)=>Y.type.localeCompare(ae.type)),L},[H]),q=(L,Y=100,ae=30)=>{if(!L||L.length<2)return null;const fe=L.map(T=>T.value),we=Math.min(...fe),qt=Math.max(...fe)-we||1,Tl=Y/(fe.length-1);let Vr="";return fe.forEach((T,M)=>{const U=+(M*Tl).toFixed(2),J=+((1-(T-we)/qt)*(ae-4)+2).toFixed(2);Vr+=(M===0?"M":"L")+U+" "+J+" "}),a.jsxs("svg",{viewBox:`0 0 ${Y} ${ae}`,className:"w-24 h-6 text-green-400",children:[a.jsx("path",{d:Vr,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("circle",{r:"3",cx:Y,cy:+((1-(fe[fe.length-1]-we)/qt)*(ae-4)+2).toFixed(2),fill:"currentColor"})]})},ee=async(L,Y)=>{try{await Z$(L,Y),e({title:"Solicitud respondida",description:`Has ${Y?"aceptado":"rechazado"} la solicitud.`}),C()}catch(ae){e({title:"Error",description:ae.message,variant:"destructive"})}},Se=async L=>{try{await eV(L),e({title:"Amigo eliminado",description:"Se ha eliminado de tu lista de amigos."}),C()}catch(Y){e({title:"Error",description:Y.message,variant:"destructive"})}},_e=L=>{e({title:"Función en desarrollo",description:`Pronto podrás enviar mensajes a ${L.display_name}.`})},se={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},ye={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return I||s?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 rounded-full border-t-transparent border-primary"})}):a.jsx(te.div,{variants:se,initial:"hidden",animate:"visible",className:"p-6 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[a.jsx(te.div,{variants:ye,className:"space-y-6 lg:col-span-1",children:a.jsxs("div",{className:"p-6 text-center border bg-card border-border rounded-xl",children:[a.jsxs(kr,{className:"w-24 h-24 mx-auto mb-4",children:[a.jsx(Pr,{src:i==null?void 0:i.photo_url,alt:i==null?void 0:i.display_name}),a.jsx(Tr,{className:"text-3xl font-bold ",children:((me=(ge=i==null?void 0:i.display_name)==null?void 0:ge.charAt(0))==null?void 0:me.toUpperCase())||"V"})]}),a.jsx("h2",{className:"mb-1 text-2xl font-bold",children:(i==null?void 0:i.display_name)||(t==null?void 0:t.email)}),a.jsxs("p",{className:"mb-4 capitalize text-muted-foreground",children:["Rol: ",(i==null?void 0:i.role)||"Usuario"]}),a.jsx(Ee,{to:"/profile/edit",className:"block w-full",children:a.jsxs(z,{className:"w-full bg-primary text-primary-foreground",children:[a.jsx(t$,{className:"w-4 h-4 mr-2"}),"Editar Perfil"]})}),a.jsxs(z,{onClick:r,variant:"outline",className:"w-full mt-2",children:[a.jsx(zg,{className:"w-4 h-4 mr-2"}),"Cerrar Sesión"]})]})}),a.jsx(te.div,{variants:ye,className:"space-y-6 lg:col-span-2",children:a.jsxs(Iv,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Kd,{className:"grid w-full grid-cols-4",children:[a.jsx(Ar,{value:"overview",children:"Resumen"}),a.jsx(Ar,{value:"achievements",children:"Logros"}),a.jsx(Ar,{value:"prs",children:"PRs"}),a.jsx(Ar,{value:"friends",children:"Amigos"})]}),a.jsx(Rr,{value:"overview",children:a.jsxs("div",{className:"p-6 mt-4 border bg-card border-border rounded-xl",children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4 font-bold",children:[a.jsx(Qi,{className:"w-5 h-5 text-yellow-400"}),"Logros Recientes"]}),a.jsxs("div",{className:"space-y-3",children:[l.slice(0,3).map((L,Y)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-yellow-500/20",children:a.jsx(Vt,{className:"w-5 h-5 text-yellow-400"})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm font-medium",children:L.name})}),a.jsxs("span",{className:"text-xs font-bold text-yellow-400",children:["+",L.points]})]},Y)),l.length===0&&a.jsx("p",{className:"py-4 text-sm text-center text-muted-foreground",children:"Aún no has ganado logros."})]})]})}),a.jsx(Rr,{value:"achievements",children:a.jsxs("div",{className:"p-6 mt-4 border bg-card border-border rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"flex items-center gap-2 text-xl font-bold",children:[a.jsx(Qi,{className:"w-5 h-5 text-primary"}),"Programas Completados"]}),a.jsxs("div",{className:"text-sm text-right text-muted-foreground",children:[a.jsxs("p",{children:[_.totalPrograms," programas completados"]}),a.jsxs("p",{children:[_.totalSessions," sesiones totales"]})]})]}),$.length>0?a.jsx("div",{className:"space-y-4",children:$.map(L=>{const Y=L.started_at&&L.completed_at?kk(new Date(L.completed_at),new Date(L.started_at)):0;return a.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border rounded-lg bg-gradient-to-r from-green-500/10 to-primary/10 border-green-500/20",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 rounded-full bg-green-500/20",children:a.jsx(Vt,{className:"w-6 h-6 text-green-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"flex items-center gap-2 font-bold text-green-400",children:[a.jsx(er,{className:"w-4 h-4"}),L.program.name]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:L.program.description||"Programa de entrenamiento completado"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ka,{className:"w-3 h-3"}),L.completed_at&&_r(new Date(L.completed_at))?`Completado el ${Gn(new Date(L.completed_at),"dd MMM, yyyy",{locale:Kn})}`:"Fecha no disponible"]}),Y>0&&a.jsxs("span",{children:["• Duración: ",Y," días"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-primary",children:[L.completed_sessions," sesiones"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"completadas"})]})]})},L.id)})}):a.jsxs("div",{className:"py-12 text-center",children:[a.jsx(Vt,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Aún no has completado ningún programa."}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"¡Inscríbete en un programa y comienza tu transformación!"})]})]})}),a.jsx(Rr,{value:"prs",children:a.jsxs("div",{className:"p-6 mt-4 space-y-6 border bg-card border-border rounded-xl",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"flex items-center gap-2 text-xl font-bold",children:[a.jsx(Vt,{className:"w-5 h-5 text-green-400"}),"Récords Personales ",a.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-green-500/10 border border-green-500/30 text-green-300 tracking-wide",children:"v1.1"})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground max-w-prose",children:"Registra y comparte tus mejores marcas. Puedes alternar entre ver tu mejor marca por ejercicio o el historial completo."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:v?"default":"outline",size:"sm",onClick:()=>b(!0),children:"Mejores"}),a.jsx(z,{variant:v?"outline":"default",size:"sm",onClick:()=>b(!1),children:"Historial"})]})]}),a.jsxs("form",{onSubmit:async L=>{L.preventDefault();const Y=f.type.trim();if(!Y){e({title:"Tipo requerido",description:"Ingresa el ejercicio.",variant:"destructive"});return}const ae=D(Y),fe=parseFloat(f.value);if(isNaN(fe)||fe<=0){e({title:"Valor inválido",description:"Debe ser un número > 0.",variant:"destructive"});return}if(f.unit&&!x.includes(f.unit)){e({title:"Unidad no permitida",description:`Usa: ${x.join(", ")}`,variant:"destructive"});return}w(!0);try{if(f.id){const we=await X$(f.id,{type:ae,value:fe,unit:f.unit,date:f.date});d($e=>$e.map(qt=>qt.id===we.id?we:qt)),e({title:"PR actualizado",description:`${we.type}: ${we.value} ${we.unit||""}`})}else{const we=await Y$({type:ae,value:fe,unit:f.unit,date:f.date});d($e=>[we,...$e]),e({title:"PR registrado",description:`${we.type}: ${we.value} ${we.unit||""}`})}h({id:null,type:"",value:"",unit:"kg",date:""})}catch(we){e({title:"Error",description:we.message,variant:"destructive"})}finally{w(!1)}},className:"grid items-end gap-3 md:grid-cols-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold tracking-wide uppercase",children:"Ejercicio"}),a.jsx(qe,{value:f.type,onChange:L=>h(Y=>({...Y,type:L.target.value})),placeholder:"Dominadas, Sentadilla...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold tracking-wide uppercase",children:"Valor"}),a.jsx(qe,{type:"number",min:"0",step:"0.5",value:f.value,onChange:L=>h(Y=>({...Y,value:L.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold tracking-wide uppercase",children:"Unidad"}),a.jsxs(mo,{value:f.unit,onValueChange:L=>h(Y=>({...Y,unit:L})),children:[a.jsx(ii,{className:"w-full",children:a.jsx(po,{})}),a.jsx(oi,{children:x.map(L=>a.jsx(Te,{value:L,children:L},L))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold tracking-wide uppercase",children:"Fecha"}),a.jsx(qe,{type:"date",value:f.date,onChange:L=>h(Y=>({...Y,date:L.target.value}))})]}),a.jsxs("div",{className:"flex gap-2 md:col-span-2",children:[a.jsx(z,{type:"submit",disabled:p,className:"min-w-[140px]",children:f.id?"Actualizar PR":"Guardar PR"}),f.id&&a.jsx(z,{type:"button",variant:"outline",onClick:()=>h({id:null,type:"",value:"",unit:"kg",date:""}),children:"Cancelar"})]})]}),a.jsxs("div",{className:"space-y-3",children:[v?ne.length>0?ne.map(L=>{const Y=H[L.type]||[];return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg cursor-pointer bg-accent",onClick:()=>g(ae=>{const fe=new Set(ae);return fe.has(L.type)?fe.delete(L.type):fe.add(L.type),fe}),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-green-500/20",children:a.jsx(Vt,{className:"w-5 h-5 text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:L.type}),L.date&&_r(new Date(L.date))&&a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(L.date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[q(Y),a.jsxs("p",{className:"text-lg font-bold text-green-400 whitespace-nowrap",children:[L.value," ",L.unit]})]})]},L.id)}):a.jsx("p",{className:"py-4 text-sm text-center text-muted-foreground",children:"Aún no has registrado Récords Personales."}):u.length>0?u.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-accent group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-green-500/20",children:a.jsx(Vt,{className:"w-5 h-5 text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:L.type}),L.date&&_r(new Date(L.date))&&a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(L.date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-lg font-bold text-green-400 whitespace-nowrap",children:[L.value," ",L.unit]}),a.jsxs("div",{className:"flex gap-2 transition opacity-0 group-hover:opacity-100",children:[a.jsx(z,{size:"sm",variant:"outline",onClick:()=>h({id:L.id,type:L.type,value:L.value,unit:L.unit||"kg",date:L.date||""}),children:"Editar"}),a.jsx(z,{size:"sm",variant:"destructive",onClick:async()=>{window.confirm("¿Eliminar PR?")&&(await t0(L.id),d(Y=>Y.filter(ae=>ae.id!==L.id)),e({title:"PR eliminado"}))},children:"Borrar"})]})]})]},L.id)):a.jsx("p",{className:"py-4 text-sm text-center text-muted-foreground",children:"Aún no has registrado Récords Personales."}),v&&Array.from(y).map(L=>{const Y=H[L];return Y?a.jsxs("div",{className:"p-4 border rounded-lg bg-accent/70 border-border",children:[a.jsxs("p",{className:"mb-2 text-sm font-semibold",children:["Historial ",L]}),a.jsx("div",{className:"space-y-1",children:[...Y].sort((ae,fe)=>new Date(fe.date||"1970-01-01")-new Date(ae.date||"1970-01-01")).map(ae=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{children:[ae.value," ",ae.unit]}),a.jsx("span",{className:"text-muted-foreground",children:ae.date?new Date(ae.date).toLocaleDateString():""}),a.jsxs("div",{className:"flex gap-2 transition opacity-0 hover:opacity-100",children:[a.jsx(z,{size:"xs",variant:"outline",className:"h-6 px-2",onClick:()=>h({id:ae.id,type:ae.type,value:ae.value,unit:ae.unit||"kg",date:ae.date||""}),children:"Editar"}),a.jsx(z,{size:"xs",variant:"destructive",className:"h-6 px-2",onClick:async()=>{window.confirm("¿Eliminar PR?")&&(await t0(ae.id),d(fe=>fe.filter(we=>we.id!==ae.id)),e({title:"PR eliminado"}))},children:"X"})]})]},ae.id))})]},L):null})]})]})}),a.jsx(Rr,{value:"friends",children:a.jsxs("div",{className:"p-6 mt-4 space-y-6 border bg-card border-border rounded-xl",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold",children:[a.jsx(Sd,{className:"w-5 h-5 text-primary"}),"Buscar Amigos"]}),a.jsxs("div",{className:"relative",children:[a.jsx(e$,{className:"absolute w-5 h-5 -translate-y-1/2 left-3 top-1/2 text-muted-foreground"}),a.jsx(qe,{placeholder:"Buscar por nombre...",className:"pl-10",value:O,onChange:L=>V(L.target.value)})]}),a.jsx("div",{className:"mt-4 space-y-2",children:N.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-accent",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(kr,{className:"w-8 h-8",children:[a.jsx(Pr,{src:L.photo_url}),a.jsx(Tr,{children:L.display_name.charAt(0)})]}),a.jsx("span",{children:L.display_name})]}),a.jsx(z,{size:"sm",onClick:()=>A(L.id),children:"Agregar"})]},L.id))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold",children:["Solicitudes Pendientes (",P.length,")"]}),a.jsx("div",{className:"space-y-2",children:P.length>0?P.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-accent",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(kr,{className:"w-8 h-8",children:[a.jsx(Pr,{src:L.photo_url}),a.jsx(Tr,{children:L.display_name.charAt(0)})]}),a.jsx("span",{children:L.display_name})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{size:"icon",className:"w-8 h-8 bg-green-500 hover:bg-green-600",onClick:()=>ee(L.id,!0),children:a.jsx(vl,{className:"w-4 h-4"})}),a.jsx(z,{size:"icon",variant:"destructive",className:"w-8 h-8",onClick:()=>ee(L.id,!1),children:a.jsx(Xa,{className:"w-4 h-4"})})]})]},L.id)):a.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"No tienes solicitudes pendientes."})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold",children:[a.jsx(n$,{className:"w-5 h-5 text-primary"}),"Mis Amigos (",j.length,")"]}),a.jsx("div",{className:"space-y-2",children:j.length>0?j.map(L=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-accent",children:[a.jsxs(Ee,{to:`/profile/${L.id}`,className:"flex items-center flex-1 min-w-0 gap-2 hover:underline",children:[a.jsxs(kr,{className:"w-8 h-8",children:[a.jsx(Pr,{src:L.photo_url}),a.jsx(Tr,{children:L.display_name.charAt(0)})]}),a.jsx("span",{className:"truncate",children:L.display_name})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx(z,{size:"icon",variant:"outline",className:"w-8 h-8",onClick:()=>_e(L),title:"Enviar mensaje",children:a.jsx(Wg,{className:"w-4 h-4"})}),a.jsx(z,{size:"icon",variant:"destructive",className:"w-8 h-8",onClick:()=>Se(L.id),title:"Eliminar amigo",children:a.jsx(P_,{className:"w-4 h-4"})})]})]},L.id)):a.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Aún no tienes amigos."})})]})]})})]})})]})})},_H=()=>{var P,k;const{id:e}=od(),{user:t}=On(),r=an(),{toast:n}=ot(),[s,i]=m.useState(null),[o,l]=m.useState(!0),[c,u]=m.useState([]),[d,f]=m.useState({totalPrograms:0,totalSessions:0}),h=m.useCallback(async()=>{l(!0);try{const[N,F,O]=await Promise.all([Q$(e),W_(e),H_(e)]);i(N),u(F),f(O)}catch{n({title:"Error",description:"No se pudo cargar el perfil del usuario.",variant:"destructive"}),r("/dashboard")}finally{l(!1)}},[e,n,r]);m.useEffect(()=>{e===(t==null?void 0:t.id)?r("/profile"):h()},[e,t,r,h]);const p=async()=>{try{await Jg(e),n({title:"Solicitud enviada",description:"Tu solicitud de amistad ha sido enviada."}),h()}catch(N){n({title:"Error",description:N.message,variant:"destructive"})}},w=()=>{n({title:"🚧 Función en desarrollo",description:"La mensajería directa estará disponible pronto."})},v=()=>{if(!(s!=null&&s.friendship))return a.jsxs(z,{onClick:p,children:[a.jsx(Sd,{className:"mr-2 h-4 w-4"})," Agregar Amigo"]});switch(s.friendship.status){case"pending":return a.jsxs(z,{disabled:!0,variant:"outline",children:[a.jsx(Gw,{className:"mr-2 h-4 w-4"})," Solicitud Pendiente"]});case"accepted":return a.jsxs(z,{variant:"secondary",children:[a.jsx(Gw,{className:"mr-2 h-4 w-4"})," Amigos"]});case"blocked":return a.jsxs(z,{disabled:!0,variant:"destructive",children:[a.jsx(P_,{className:"mr-2 h-4 w-4"})," Bloqueado"]});default:return null}};if(o||!s)return a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-t-transparent border-primary rounded-full"})});const{profile:b,activeEnrollment:y,recentProgress:g,prs:x}=s,j={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsxs(te.div,{variants:j,initial:"hidden",animate:"visible",className:"p-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"absolute top-0 left-0",children:a.jsx(fo,{className:"w-6 h-6"})}),a.jsx(te.div,{variants:S,className:"bg-card border border-border rounded-xl p-6 pt-16",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsxs(kr,{className:"w-24 h-24 md:w-32 md:h-32 text-4xl",children:[a.jsx(Pr,{src:b.photo_url,alt:b.display_name}),a.jsx(Tr,{children:((k=(P=b.display_name)==null?void 0:P.charAt(0))==null?void 0:k.toUpperCase())||"V"})]}),a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:b.display_name}),b.created_at&&_r(new Date(b.created_at))&&a.jsxs("p",{className:"text-muted-foreground",children:["Miembro desde ",Gn(new Date(b.created_at),"MMMM yyyy",{locale:Kn})]})]}),a.jsxs("div",{className:"md:ml-auto flex gap-2 pt-4 md:pt-0",children:[v(),a.jsxs(z,{variant:"outline",onClick:w,children:[a.jsx(Wg,{className:"mr-2 h-4 w-4"})," Mensaje"]})]})]})})]}),a.jsx(te.div,{variants:S,className:"mt-6",children:a.jsxs(Iv,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Kd,{className:"grid w-full grid-cols-4",children:[a.jsx(Ar,{value:"overview",children:"Programa Actual"}),a.jsx(Ar,{value:"achievements",children:"Logros"}),a.jsx(Ar,{value:"progress",children:"Historial"}),a.jsx(Ar,{value:"prs",children:"PRs"})]}),a.jsx(Rr,{value:"overview",className:"mt-4",children:a.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:y?a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(mt,{className:"w-5 h-5 text-primary"})," Programa Activo"]}),a.jsxs("div",{className:"mt-4 p-4 bg-accent rounded-lg",children:[a.jsx("p",{className:"text-lg font-semibold text-primary",children:y.program.name}),y.started_at&&_r(new Date(y.started_at))&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inscrito el ",Gn(new Date(y.started_at),"dd MMM, yyyy",{locale:Kn})]})]})]}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Este usuario no está inscrito en ningún programa actualmente."})})}),a.jsx(Rr,{value:"achievements",className:"mt-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Qi,{className:"w-5 h-5 text-primary"}),"Logros Completados"]}),a.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[a.jsxs("p",{children:[d.totalPrograms," programas completados"]}),a.jsxs("p",{children:[d.totalSessions," sesiones totales"]})]})]}),c.length>0?a.jsx("div",{className:"space-y-4",children:c.map(N=>{const F=N.started_at&&N.completed_at?kk(new Date(N.completed_at),new Date(N.started_at)):0;return a.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-gradient-to-r from-green-500/10 to-primary/10 border border-green-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"w-6 h-6 text-green-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-bold text-green-400 flex items-center gap-2",children:[a.jsx(er,{className:"w-4 h-4"}),N.program.name]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.program.description||"Programa de entrenamiento completado"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ka,{className:"w-3 h-3"}),N.completed_at&&_r(new Date(N.completed_at))?`Completado el ${Gn(new Date(N.completed_at),"dd MMM, yyyy",{locale:Kn})}`:"Fecha no disponible"]}),F>0&&a.jsxs("span",{children:["• Duración: ",F," días"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-primary",children:[N.completed_sessions," sesiones"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"completadas"})]})]})},N.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vt,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Este usuario aún no ha completado ningún programa."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Los logros aparecerán aquí cuando complete sus primeros programas."})]})]})}),a.jsx(Rr,{value:"progress",className:"mt-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Progreso Reciente"}),a.jsx("div",{className:"space-y-3",children:g.length>0?g.map(N=>a.jsxs("div",{className:"p-3 bg-accent rounded-lg",children:[a.jsxs("p",{children:["Completó ",a.jsx("span",{className:"font-semibold text-primary",children:N.session.title})]}),N.completed_at&&_r(new Date(N.completed_at))&&a.jsx("p",{className:"text-xs text-muted-foreground",children:Gn(new Date(N.completed_at),"dd MMM, yyyy 'a las' HH:mm",{locale:Kn})})]},N.id)):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay registros de progreso recientes."})})]})}),a.jsx(Rr,{value:"prs",className:"mt-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Récords Personales"}),a.jsx("div",{className:"space-y-4",children:x.length>0?x.map((N,F)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Vt,{className:"w-5 h-5 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.type}),N.date&&_r(new Date(N.date))&&a.jsx("p",{className:"text-sm text-muted-foreground",children:Gn(new Date(N.date),"dd MMM, yyyy",{locale:Kn})})]})]}),a.jsxs("p",{className:"font-bold text-lg text-green-400",children:[N.value," ",N.unit]})]},F)):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Este usuario no ha registrado PRs."})})]})})]})})]})};var kl=e=>e.type==="checkbox",zs=e=>e instanceof Date,kt=e=>e==null;const Ok=e=>typeof e=="object";var et=e=>!kt(e)&&!Array.isArray(e)&&Ok(e)&&!zs(e),CH=e=>et(e)&&e.target?kl(e.target)?e.target.checked:e.target.value:e,EH=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,NH=(e,t)=>e.has(EH(t)),kH=e=>{const t=e.constructor&&e.constructor.prototype;return et(t)&&t.hasOwnProperty("isPrototypeOf")},Lv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Lv&&(e instanceof Blob||n))&&(r||et(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!kH(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=dt(e[s]));else return e;return t}var Xd=e=>/^\w*$/.test(e),st=e=>e===void 0,Fv=e=>Array.isArray(e)?e.filter(Boolean):[],$v=e=>Fv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ie=(e,t,r)=>{if(!t||!et(e))return r;const n=(Xd(t)?[t]:$v(t)).reduce((s,i)=>kt(s)?s:s[i],e);return st(n)||n===e?st(e[t])?r:e[t]:n},Wr=e=>typeof e=="boolean",Ue=(e,t,r)=>{let n=-1;const s=Xd(t)?[t]:$v(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=et(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const U0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PH=Z.createContext(null);PH.displayName="HookFormContext";var TH=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Cr.all&&(t._proxyFormState[o]=!n||Cr.all),r&&(r[o]=!0),e[o]}});return s};const AH=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;var Xr=e=>typeof e=="string",RH=(e,t,r,n,s)=>Xr(e)?(n&&t.watch.add(e),ie(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ie(r,i))):(n&&(t.watchAll=!0),r),op=e=>kt(e)||!Ok(e);function Yn(e,t,r=new WeakSet){if(op(e)||op(t))return e===t;if(zs(e)&&zs(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(zs(o)&&zs(l)||et(o)&&et(l)||Array.isArray(o)&&Array.isArray(l)?!Yn(o,l,r):o!==l)return!1}}return!0}var OH=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ja=e=>Array.isArray(e)?e:[e],B0=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Lt=e=>et(e)&&!Object.keys(e).length,Vv=e=>e.type==="file",Er=e=>typeof e=="function",Tu=e=>{if(!Lv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mk=e=>e.type==="select-multiple",Uv=e=>e.type==="radio",MH=e=>Uv(e)||kl(e),ch=e=>Tu(e)&&e.isConnected;function DH(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=st(e)?n++:e[t[n++]];return e}function IH(e){for(const t in e)if(e.hasOwnProperty(t)&&!st(e[t]))return!1;return!0}function rt(e,t){const r=Array.isArray(t)?t:Xd(t)?[t]:$v(t),n=r.length===1?e:DH(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(et(n)&&Lt(n)||Array.isArray(n)&&IH(n))&&rt(e,r.slice(0,-1)),e}var Dk=e=>{for(const t in e)if(Er(e[t]))return!0;return!1};function Au(e,t={}){const r=Array.isArray(e);if(et(e)||r)for(const n in e)Array.isArray(e[n])||et(e[n])&&!Dk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Au(e[n],t[n])):kt(e[n])||(t[n]=!0);return t}function Ik(e,t,r){const n=Array.isArray(e);if(et(e)||n)for(const s in e)Array.isArray(e[s])||et(e[s])&&!Dk(e[s])?st(t)||op(r[s])?r[s]=Array.isArray(e[s])?Au(e[s],[]):{...Au(e[s])}:Ik(e[s],kt(t)?{}:t[s],r[s]):r[s]=!Yn(e[s],t[s]);return r}var Yo=(e,t)=>Ik(e,t,Au(t));const z0={value:!1,isValid:!1},W0={value:!0,isValid:!0};var Lk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!st(e[0].attributes.value)?st(e[0].value)||e[0].value===""?W0:{value:e[0].value,isValid:!0}:W0:z0}return z0},Fk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>st(e)?e:t?e===""?NaN:e&&+e:r&&Xr(e)?new Date(e):n?n(e):e;const H0={isValid:!1,value:null};var $k=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,H0):H0;function q0(e){const t=e.ref;return Vv(t)?t.files:Uv(t)?$k(e.refs).value:Mk(t)?[...t.selectedOptions].map(({value:r})=>r):kl(t)?Lk(e.refs).value:Fk(st(t.value)?e.ref.value:t.value,e)}var LH=(e,t,r,n)=>{const s={};for(const i of e){const o=ie(t,i);o&&Ue(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ru=e=>e instanceof RegExp,Xo=e=>st(e)?e:Ru(e)?e.source:et(e)?Ru(e.value)?e.value.source:e.value:e,G0=e=>({isOnSubmit:!e||e===Cr.onSubmit,isOnBlur:e===Cr.onBlur,isOnChange:e===Cr.onChange,isOnAll:e===Cr.all,isOnTouch:e===Cr.onTouched});const K0="AsyncFunction";var FH=e=>!!e&&!!e.validate&&!!(Er(e.validate)&&e.validate.constructor.name===K0||et(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===K0)),$H=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Y0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Sa=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ie(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Sa(l,t))break}else if(et(l)&&Sa(l,t))break}}};function X0(e,t,r){const n=ie(e,r);if(n||Xd(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=ie(t,i),l=ie(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var VH=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Lt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Cr.all))},UH=(e,t,r)=>!e||!t||e===t||ja(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),BH=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,zH=(e,t)=>!Fv(ie(e,t)).length&&rt(e,t),WH=(e,t,r)=>{const n=ja(ie(e,r));return Ue(n,"root",t[r]),Ue(e,r,n),e},Ic=e=>Xr(e);function Q0(e,t,r="validate"){if(Ic(e)||Array.isArray(e)&&e.every(Ic)||Wr(e)&&!e)return{type:r,message:Ic(e)?e:"",ref:t}}var Ei=e=>et(e)&&!Ru(e)?e:{value:e,message:""},J0=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:w,name:v,valueAsNumber:b,mount:y}=e._f,g=ie(r,v);if(!y||t.has(v))return{};const x=l?l[0]:o,j=I=>{s&&x.reportValidity&&(x.setCustomValidity(Wr(I)?"":I||""),x.reportValidity())},S={},P=Uv(o),k=kl(o),N=P||k,F=(b||Vv(o))&&st(o.value)&&st(g)||Tu(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,O=OH.bind(null,v,n,S),V=(I,W,$,E=dn.maxLength,_=dn.minLength)=>{const R=I?W:$;S[v]={type:I?E:_,message:R,ref:o,...O(I?E:_,R)}};if(i?!Array.isArray(g)||!g.length:c&&(!N&&(F||kt(g))||Wr(g)&&!g||k&&!Lk(l).isValid||P&&!$k(l).isValid)){const{value:I,message:W}=Ic(c)?{value:!!c,message:c}:Ei(c);if(I&&(S[v]={type:dn.required,message:W,ref:x,...O(dn.required,W)},!n))return j(W),S}if(!F&&(!kt(f)||!kt(h))){let I,W;const $=Ei(h),E=Ei(f);if(!kt(g)&&!isNaN(g)){const _=o.valueAsNumber||g&&+g;kt($.value)||(I=_>$.value),kt(E.value)||(W=_<E.value)}else{const _=o.valueAsDate||new Date(g),R=D=>new Date(new Date().toDateString()+" "+D),C=o.type=="time",A=o.type=="week";Xr($.value)&&g&&(I=C?R(g)>R($.value):A?g>$.value:_>new Date($.value)),Xr(E.value)&&g&&(W=C?R(g)<R(E.value):A?g<E.value:_<new Date(E.value))}if((I||W)&&(V(!!I,$.message,E.message,dn.max,dn.min),!n))return j(S[v].message),S}if((u||d)&&!F&&(Xr(g)||i&&Array.isArray(g))){const I=Ei(u),W=Ei(d),$=!kt(I.value)&&g.length>+I.value,E=!kt(W.value)&&g.length<+W.value;if(($||E)&&(V($,I.message,W.message),!n))return j(S[v].message),S}if(p&&!F&&Xr(g)){const{value:I,message:W}=Ei(p);if(Ru(I)&&!g.match(I)&&(S[v]={type:dn.pattern,message:W,ref:o,...O(dn.pattern,W)},!n))return j(W),S}if(w){if(Er(w)){const I=await w(g,r),W=Q0(I,x);if(W&&(S[v]={...W,...O(dn.validate,W.message)},!n))return j(W.message),S}else if(et(w)){let I={};for(const W in w){if(!Lt(I)&&!n)break;const $=Q0(await w[W](g,r),x,W);$&&(I={...$,...O(W,$.message)},j($.message),n&&(S[v]=I))}if(!Lt(I)&&(S[v]={ref:x,...I},!n))return S}}return j(!0),S};const HH={mode:Cr.onSubmit,reValidateMode:Cr.onChange,shouldFocusError:!0};function qH(e={}){let t={...HH,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Er(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=et(t.defaultValues)||et(t.values)?dt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:dt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:B0(),state:B0()},p=t.criteriaMode===Cr.all,w=T=>M=>{clearTimeout(u),u=setTimeout(T,M)},v=async T=>{if(!t.disabled&&(d.isValid||f.isValid||T)){const M=t.resolver?Lt((await k()).errors):await F(n,!0);M!==r.isValid&&h.state.next({isValid:M})}},b=(T,M)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(U=>{U&&(M?Ue(r.validatingFields,U,M):rt(r.validatingFields,U))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Lt(r.validatingFields)}))},y=(T,M=[],U,J,Q=!0,K=!0)=>{if(J&&U&&!t.disabled){if(o.action=!0,K&&Array.isArray(ie(n,T))){const ce=U(ie(n,T),J.argA,J.argB);Q&&Ue(n,T,ce)}if(K&&Array.isArray(ie(r.errors,T))){const ce=U(ie(r.errors,T),J.argA,J.argB);Q&&Ue(r.errors,T,ce),zH(r.errors,T)}if((d.touchedFields||f.touchedFields)&&K&&Array.isArray(ie(r.touchedFields,T))){const ce=U(ie(r.touchedFields,T),J.argA,J.argB);Q&&Ue(r.touchedFields,T,ce)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Yo(s,i)),h.state.next({name:T,isDirty:V(T,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ue(i,T,M)},g=(T,M)=>{Ue(r.errors,T,M),h.state.next({errors:r.errors})},x=T=>{r.errors=T,h.state.next({errors:r.errors,isValid:!1})},j=(T,M,U,J)=>{const Q=ie(n,T);if(Q){const K=ie(i,T,st(U)?ie(s,T):U);st(K)||J&&J.defaultChecked||M?Ue(i,T,M?K:q0(Q._f)):$(T,K),o.mount&&v()}},S=(T,M,U,J,Q)=>{let K=!1,ce=!1;const ke={name:T};if(!t.disabled){if(!U||J){(d.isDirty||f.isDirty)&&(ce=r.isDirty,r.isDirty=ke.isDirty=V(),K=ce!==ke.isDirty);const Oe=Yn(ie(s,T),M);ce=!!ie(r.dirtyFields,T),Oe?rt(r.dirtyFields,T):Ue(r.dirtyFields,T,!0),ke.dirtyFields=r.dirtyFields,K=K||(d.dirtyFields||f.dirtyFields)&&ce!==!Oe}if(U){const Oe=ie(r.touchedFields,T);Oe||(Ue(r.touchedFields,T,U),ke.touchedFields=r.touchedFields,K=K||(d.touchedFields||f.touchedFields)&&Oe!==U)}K&&Q&&h.state.next(ke)}return K?ke:{}},P=(T,M,U,J)=>{const Q=ie(r.errors,T),K=(d.isValid||f.isValid)&&Wr(M)&&r.isValid!==M;if(t.delayError&&U?(c=w(()=>g(T,U)),c(t.delayError)):(clearTimeout(u),c=null,U?Ue(r.errors,T,U):rt(r.errors,T)),(U?!Yn(Q,U):Q)||!Lt(J)||K){const ce={...J,...K&&Wr(M)?{isValid:M}:{},errors:r.errors,name:T};r={...r,...ce},h.state.next(ce)}},k=async T=>{b(T,!0);const M=await t.resolver(i,t.context,LH(T||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(T),M},N=async T=>{const{errors:M}=await k(T);if(T)for(const U of T){const J=ie(M,U);J?Ue(r.errors,U,J):rt(r.errors,U)}else r.errors=M;return M},F=async(T,M,U={valid:!0})=>{for(const J in T){const Q=T[J];if(Q){const{_f:K,...ce}=Q;if(K){const ke=l.array.has(K.name),Oe=Q._f&&FH(Q._f);Oe&&d.validatingFields&&b([J],!0);const sr=await J0(Q,l.disabled,i,p,t.shouldUseNativeValidation&&!M,ke);if(Oe&&d.validatingFields&&b([J]),sr[K.name]&&(U.valid=!1,M))break;!M&&(ie(sr,K.name)?ke?WH(r.errors,sr,K.name):Ue(r.errors,K.name,sr[K.name]):rt(r.errors,K.name))}!Lt(ce)&&await F(ce,M,U)}}return U.valid},O=()=>{for(const T of l.unMount){const M=ie(n,T);M&&(M._f.refs?M._f.refs.every(U=>!ch(U)):!ch(M._f.ref))&&se(T)}l.unMount=new Set},V=(T,M)=>!t.disabled&&(T&&M&&Ue(i,T,M),!Yn(D(),s)),I=(T,M,U)=>RH(T,l,{...o.mount?i:st(M)?s:Xr(T)?{[T]:M}:M},U,M),W=T=>Fv(ie(o.mount?i:s,T,t.shouldUnregister?ie(s,T,[]):[])),$=(T,M,U={})=>{const J=ie(n,T);let Q=M;if(J){const K=J._f;K&&(!K.disabled&&Ue(i,T,Fk(M,K)),Q=Tu(K.ref)&&kt(M)?"":M,Mk(K.ref)?[...K.ref.options].forEach(ce=>ce.selected=Q.includes(ce.value)):K.refs?kl(K.ref)?K.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(Q)?ce.checked=!!Q.find(ke=>ke===ce.value):ce.checked=Q===ce.value||!!Q)}):K.refs.forEach(ce=>ce.checked=ce.value===Q):Vv(K.ref)?K.ref.value="":(K.ref.value=Q,K.ref.type||h.state.next({name:T,values:dt(i)})))}(U.shouldDirty||U.shouldTouch)&&S(T,Q,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&A(T)},E=(T,M,U)=>{for(const J in M){if(!M.hasOwnProperty(J))return;const Q=M[J],K=T+"."+J,ce=ie(n,K);(l.array.has(T)||et(Q)||ce&&!ce._f)&&!zs(Q)?E(K,Q,U):$(K,Q,U)}},_=(T,M,U={})=>{const J=ie(n,T),Q=l.array.has(T),K=dt(M);Ue(i,T,K),Q?(h.array.next({name:T,values:dt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:T,dirtyFields:Yo(s,i),isDirty:V(T,K)})):J&&!J._f&&!kt(K)?E(T,K,U):$(T,K,U),Y0(T,l)&&h.state.next({...r,name:T}),h.state.next({name:o.mount?T:void 0,values:dt(i)})},R=async T=>{o.mount=!0;const M=T.target;let U=M.name,J=!0;const Q=ie(n,U),K=Oe=>{J=Number.isNaN(Oe)||zs(Oe)&&isNaN(Oe.getTime())||Yn(Oe,ie(i,U,Oe))},ce=G0(t.mode),ke=G0(t.reValidateMode);if(Q){let Oe,sr;const Al=M.type?q0(Q._f):CH(T),Dn=T.type===U0.BLUR||T.type===U0.FOCUS_OUT,$P=!$H(Q._f)&&!t.resolver&&!ie(r.errors,U)&&!Q._f.deps||BH(Dn,ie(r.touchedFields,U),r.isSubmitted,ke,ce),Zd=Y0(U,l,Dn);Ue(i,U,Al),Dn?(!M||!M.readOnly)&&(Q._f.onBlur&&Q._f.onBlur(T),c&&c(0)):Q._f.onChange&&Q._f.onChange(T);const ef=S(U,Al,Dn),VP=!Lt(ef)||Zd;if(!Dn&&h.state.next({name:U,type:T.type,values:dt(i)}),$P)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Dn&&v():Dn||v()),VP&&h.state.next({name:U,...Zd?{}:ef});if(!Dn&&Zd&&h.state.next({...r}),t.resolver){const{errors:Kv}=await k([U]);if(K(Al),J){const UP=X0(r.errors,n,U),Yv=X0(Kv,n,UP.name||U);Oe=Yv.error,U=Yv.name,sr=Lt(Kv)}}else b([U],!0),Oe=(await J0(Q,l.disabled,i,p,t.shouldUseNativeValidation))[U],b([U]),K(Al),J&&(Oe?sr=!1:(d.isValid||f.isValid)&&(sr=await F(n,!0)));J&&(Q._f.deps&&A(Q._f.deps),P(U,sr,Oe,ef))}},C=(T,M)=>{if(ie(r.errors,M)&&T.focus)return T.focus(),1},A=async(T,M={})=>{let U,J;const Q=ja(T);if(t.resolver){const K=await N(st(T)?T:Q);U=Lt(K),J=T?!Q.some(ce=>ie(K,ce)):U}else T?(J=(await Promise.all(Q.map(async K=>{const ce=ie(n,K);return await F(ce&&ce._f?{[K]:ce}:ce)}))).every(Boolean),!(!J&&!r.isValid)&&v()):J=U=await F(n);return h.state.next({...!Xr(T)||(d.isValid||f.isValid)&&U!==r.isValid?{}:{name:T},...t.resolver||!T?{isValid:U}:{},errors:r.errors}),M.shouldFocus&&!J&&Sa(n,C,T?Q:l.mount),J},D=T=>{const M={...o.mount?i:s};return st(T)?M:Xr(T)?ie(M,T):T.map(U=>ie(M,U))},H=(T,M)=>({invalid:!!ie((M||r).errors,T),isDirty:!!ie((M||r).dirtyFields,T),error:ie((M||r).errors,T),isValidating:!!ie(r.validatingFields,T),isTouched:!!ie((M||r).touchedFields,T)}),ne=T=>{T&&ja(T).forEach(M=>rt(r.errors,M)),h.state.next({errors:T?r.errors:{}})},q=(T,M,U)=>{const J=(ie(n,T,{_f:{}})._f||{}).ref,Q=ie(r.errors,T)||{},{ref:K,message:ce,type:ke,...Oe}=Q;Ue(r.errors,T,{...Oe,...M,ref:J}),h.state.next({name:T,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&J&&J.focus&&J.focus()},ee=(T,M)=>Er(T)?h.state.subscribe({next:U=>"values"in U&&T(I(void 0,M),U)}):I(T,M,!0),Se=T=>h.state.subscribe({next:M=>{UH(T.name,M.name,T.exact)&&VH(M,T.formState||d,qt,T.reRenderRoot)&&T.callback({values:{...i},...r,...M,defaultValues:s})}}).unsubscribe,_e=T=>(o.mount=!0,f={...f,...T.formState},Se({...T,formState:f})),se=(T,M={})=>{for(const U of T?ja(T):l.mount)l.mount.delete(U),l.array.delete(U),M.keepValue||(rt(n,U),rt(i,U)),!M.keepError&&rt(r.errors,U),!M.keepDirty&&rt(r.dirtyFields,U),!M.keepTouched&&rt(r.touchedFields,U),!M.keepIsValidating&&rt(r.validatingFields,U),!t.shouldUnregister&&!M.keepDefaultValue&&rt(s,U);h.state.next({values:dt(i)}),h.state.next({...r,...M.keepDirty?{isDirty:V()}:{}}),!M.keepIsValid&&v()},ye=({disabled:T,name:M})=>{(Wr(T)&&o.mount||T||l.disabled.has(M))&&(T?l.disabled.add(M):l.disabled.delete(M))},ge=(T,M={})=>{let U=ie(n,T);const J=Wr(M.disabled)||Wr(t.disabled);return Ue(n,T,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:T}},name:T,mount:!0,...M}}),l.mount.add(T),U?ye({disabled:Wr(M.disabled)?M.disabled:t.disabled,name:T}):j(T,!0,M.value),{...J?{disabled:M.disabled||t.disabled}:{},...t.progressive?{required:!!M.required,min:Xo(M.min),max:Xo(M.max),minLength:Xo(M.minLength),maxLength:Xo(M.maxLength),pattern:Xo(M.pattern)}:{},name:T,onChange:R,onBlur:R,ref:Q=>{if(Q){ge(T,M),U=ie(n,T);const K=st(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,ce=MH(K),ke=U._f.refs||[];if(ce?ke.find(Oe=>Oe===K):K===U._f.ref)return;Ue(n,T,{_f:{...U._f,...ce?{refs:[...ke.filter(ch),K,...Array.isArray(ie(s,T))?[{}]:[]],ref:{type:K.type,name:T}}:{ref:K}}}),j(T,!1,void 0,K)}else U=ie(n,T,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||M.shouldUnregister)&&!(NH(l.array,T)&&o.action)&&l.unMount.add(T)}}},me=()=>t.shouldFocusError&&Sa(n,C,l.mount),L=T=>{Wr(T)&&(h.state.next({disabled:T}),Sa(n,(M,U)=>{const J=ie(n,U);J&&(M.disabled=J._f.disabled||T,Array.isArray(J._f.refs)&&J._f.refs.forEach(Q=>{Q.disabled=J._f.disabled||T}))},0,!1))},Y=(T,M)=>async U=>{let J;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let Q=dt(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:ce}=await k();r.errors=K,Q=dt(ce)}else await F(n);if(l.disabled.size)for(const K of l.disabled)rt(Q,K);if(rt(r.errors,"root"),Lt(r.errors)){h.state.next({errors:{}});try{await T(Q,U)}catch(K){J=K}}else M&&await M({...r.errors},U),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(r.errors)&&!J,submitCount:r.submitCount+1,errors:r.errors}),J)throw J},ae=(T,M={})=>{ie(n,T)&&(st(M.defaultValue)?_(T,dt(ie(s,T))):(_(T,M.defaultValue),Ue(s,T,dt(M.defaultValue))),M.keepTouched||rt(r.touchedFields,T),M.keepDirty||(rt(r.dirtyFields,T),r.isDirty=M.defaultValue?V(T,dt(ie(s,T))):V()),M.keepError||(rt(r.errors,T),d.isValid&&v()),h.state.next({...r}))},fe=(T,M={})=>{const U=T?dt(T):s,J=dt(U),Q=Lt(T),K=Q?s:J;if(M.keepDefaultValues||(s=U),!M.keepValues){if(M.keepDirtyValues){const ce=new Set([...l.mount,...Object.keys(Yo(s,i))]);for(const ke of Array.from(ce))ie(r.dirtyFields,ke)?Ue(K,ke,ie(i,ke)):_(ke,ie(K,ke))}else{if(Lv&&st(T))for(const ce of l.mount){const ke=ie(n,ce);if(ke&&ke._f){const Oe=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(Tu(Oe)){const sr=Oe.closest("form");if(sr){sr.reset();break}}}}if(M.keepFieldsRef)for(const ce of l.mount)_(ce,ie(K,ce));else n={}}i=t.shouldUnregister?M.keepDefaultValues?dt(s):{}:dt(K),h.array.next({values:{...K}}),h.state.next({values:{...K}})}l={mount:M.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:Q?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!Yn(T,s)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Q?{}:M.keepDirtyValues?M.keepDefaultValues&&i?Yo(s,i):r.dirtyFields:M.keepDefaultValues&&T?Yo(s,T):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},we=(T,M)=>fe(Er(T)?T(i):T,M),$e=(T,M={})=>{const U=ie(n,T),J=U&&U._f;if(J){const Q=J.refs?J.refs[0]:J.ref;Q.focus&&(Q.focus(),M.shouldSelect&&Er(Q.select)&&Q.select())}},qt=T=>{r={...r,...T}},Vr={control:{register:ge,unregister:se,getFieldState:H,handleSubmit:Y,setError:q,_subscribe:Se,_runSchema:k,_focusError:me,_getWatch:I,_getDirty:V,_setValid:v,_setFieldArray:y,_setDisabledField:ye,_setErrors:x,_getFieldArray:W,_reset:fe,_resetDefaultValues:()=>Er(t.defaultValues)&&t.defaultValues().then(T=>{we(T,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:L,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return r},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:_e,trigger:A,register:ge,handleSubmit:Y,watch:ee,setValue:_,getValues:D,reset:we,resetField:ae,clearErrors:ne,unregister:se,setError:q,setFocus:$e,getFieldState:H};return{...Vr,formControl:Vr}}function Ou(e={}){const t=Z.useRef(void 0),r=Z.useRef(void 0),[n,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Er(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Er(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Er(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=qH(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,AH(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Z.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Z.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Z.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Z.useEffect(()=>{e.values&&!Yn(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Z.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=TH(n,i),t.current}var GH="Label",Vk=m.forwardRef((e,t)=>a.jsx(oe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Vk.displayName=GH;var Uk=Vk;const KH=Yg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=Z.forwardRef(({className:e,...t},r)=>a.jsx(Uk,{ref:r,className:de(KH(),e),...t}));Qe.displayName=Uk.displayName;const YH=()=>{var S,P;const{user:e,loading:t}=On(),{toast:r}=ot(),n=an(),[s,i]=m.useState(null),[o,l]=m.useState(!0),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,p]=m.useState(null),w=m.useRef(null),{register:v,handleSubmit:b,setValue:y,formState:{errors:g}}=Ou();m.useEffect(()=>{t||(async()=>{if(e)try{const N=await yl();i(N),y("display_name",N.display_name),p(N.photo_url)}catch{r({title:"Error",description:"No se pudo cargar el perfil.",variant:"destructive"})}l(!1)})()},[e,t,y,r]);const x=k=>{const N=k.target.files[0];N&&(f(N),p(URL.createObjectURL(N)))},j=async k=>{u(!0);try{let N=s.photo_url;d&&(N=await K$(d)),await G$({display_name:k.display_name,photo_url:N}),i(F=>({...F,display_name:k.display_name,photo_url:N})),p(N),r({title:"¡Éxito!",description:"Tu perfil ha sido actualizado."}),setTimeout(()=>n("/profile"),400)}catch(N){r({title:"Error",description:N.message||"No se pudo actualizar el perfil.",variant:"destructive"})}finally{u(!1)}};return o||t?a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx(Ww,{className:"w-12 h-12 animate-spin text-primary"})}):a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>n("/profile"),children:a.jsx(fo,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-3xl font-bold",children:"Editar Perfil"})]}),a.jsxs("form",{onSubmit:b(j),className:"space-y-8",children:[a.jsx("div",{className:"flex flex-col items-center gap-4",children:a.jsxs("div",{className:"relative",children:[a.jsxs(kr,{className:"w-32 h-32",children:[a.jsx(Pr,{src:h,alt:"Avatar"}),a.jsx(Tr,{className:"text-4xl",children:((P=(S=s==null?void 0:s.display_name)==null?void 0:S.charAt(0))==null?void 0:P.toUpperCase())||"V"})]}),a.jsx(z,{type:"button",variant:"outline",size:"icon",className:"absolute bottom-0 right-0 rounded-full bg-card",onClick:()=>w.current.click(),children:a.jsx(qF,{className:"w-5 h-5"})}),a.jsx("input",{type:"file",ref:w,className:"hidden",accept:"image/png, image/jpeg",onChange:x})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qe,{htmlFor:"display_name",children:"Nombre de Usuario"}),a.jsx(qe,{id:"display_name",...v("display_name",{required:"El nombre es obligatorio"})}),g.display_name&&a.jsx("p",{className:"text-sm text-destructive",children:g.display_name.message})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{type:"submit",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ww,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):a.jsxs(a.Fragment,{children:[a.jsx($m,{className:"mr-2 h-4 w-4"}),"Guardar Cambios"]})})})]})]})},XH=()=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},r=[{title:"Gestionar Programas",description:"Crear, editar y organizar los programas de entrenamiento.",link:"/admin/programs",icon:mt,color:"primary"},{title:"Gestionar Biblioteca",description:"Administrar categorías y lecciones de la biblioteca educativa.",link:"/admin/library",icon:No,color:"secondary"},{title:"Registros",description:"Ver inscripciones de usuarios y progreso en las sesiones.",link:"/admin/registrations",icon:gs,color:"green-500"}];return a.jsxs(te.div,{variants:e,initial:"hidden",animate:"visible",className:"space-y-6 p-4 md:p-6",children:[a.jsxs(te.div,{variants:t,className:"flex items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center",children:a.jsx(k_,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-wider",children:"Panel de Administración"}),a.jsx("p",{className:"text-muted-foreground",children:"Herramientas para gestionar el contenido y los usuarios de VALKA."})]})]}),a.jsx(te.div,{variants:e,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(n=>{const s=n.icon;return a.jsx(te.div,{variants:t,children:a.jsx(Ee,{to:n.link,children:a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 h-full flex flex-col hover:border-primary transition-colors duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`w-10 h-10 bg-${n.color}/20 rounded-lg flex items-center justify-center`,children:a.jsx(s,{className:`w-5 h-5 text-${n.color}`})}),a.jsx("h2",{className:"text-2xl font-bold tracking-wider",children:n.title})]}),a.jsx("p",{className:"text-muted-foreground flex-grow",children:n.description})]})})},n.title)})})]})};var Bk="AlertDialog",[QH,w7]=Ht(Bk,[aC]),Mn=aC(),zk=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mn(t);return a.jsx(SC,{...n,...r,modal:!0})};zk.displayName=Bk;var JH="AlertDialogTrigger",Wk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(K3,{...s,...n,ref:t})});Wk.displayName=JH;var ZH="AlertDialogPortal",Hk=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mn(t);return a.jsx(av,{...n,...r})};Hk.displayName=ZH;var e8="AlertDialogOverlay",qk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(lv,{...s,...n,ref:t})});qk.displayName=e8;var to="AlertDialogContent",[t8,r8]=QH(to),n8=I$("AlertDialogContent"),Gk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Mn(r),o=m.useRef(null),l=pe(t,o),c=m.useRef(null);return a.jsx(W3,{contentName:to,titleName:Kk,docsSlug:"alert-dialog",children:a.jsx(t8,{scope:r,cancelRef:c,children:a.jsxs(cv,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:X(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(n8,{children:n}),a.jsx(i8,{contentRef:o})]})})})});Gk.displayName=to;var Kk="AlertDialogTitle",Yk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(uv,{...s,...n,ref:t})});Yk.displayName=Kk;var Xk="AlertDialogDescription",Qk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(dv,{...s,...n,ref:t})});Qk.displayName=Xk;var s8="AlertDialogAction",Jk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(Pd,{...s,...n,ref:t})});Jk.displayName=s8;var Zk="AlertDialogCancel",eP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=r8(Zk,r),i=Mn(r),o=pe(t,s);return a.jsx(Pd,{...i,...n,ref:o})});eP.displayName=Zk;var i8=({contentRef:e})=>{const t=`\`${to}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${to}\` by passing a \`${Xk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${to}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},o8=zk,a8=Wk,l8=Hk,tP=qk,rP=Gk,nP=Jk,sP=eP,iP=Yk,oP=Qk;const ap=o8,lp=a8,c8=l8,aP=m.forwardRef(({className:e,...t},r)=>a.jsx(tP,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));aP.displayName=tP.displayName;const Mu=m.forwardRef(({className:e,...t},r)=>a.jsxs(c8,{children:[a.jsx(aP,{}),a.jsx(rP,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Mu.displayName=rP.displayName;const Du=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});Du.displayName="AlertDialogHeader";const Iu=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Iu.displayName="AlertDialogFooter";const Lu=m.forwardRef(({className:e,...t},r)=>a.jsx(iP,{ref:r,className:de("text-lg font-semibold",e),...t}));Lu.displayName=iP.displayName;const Fu=m.forwardRef(({className:e,...t},r)=>a.jsx(oP,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));Fu.displayName=oP.displayName;const $u=m.forwardRef(({className:e,...t},r)=>a.jsx(nP,{ref:r,className:de(Xg(),e),...t}));$u.displayName=nP.displayName;const Vu=m.forwardRef(({className:e,...t},r)=>a.jsx(sP,{ref:r,className:de(Xg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Vu.displayName=sP.displayName;const u8=()=>{const{toast:e}=ot(),[t,r]=m.useState([]),[n,s]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),{register:u,handleSubmit:d,reset:f,formState:{errors:h}}=Ou(),p=m.useCallback(async()=>{s(!0);try{const g=await nV();r(g)}catch{e({variant:"destructive",title:"Error",description:"No se pudieron cargar los programas."})}finally{s(!1)}},[e]);m.useEffect(()=>{p()},[p]);const w=async g=>{const x={...g,weeks:parseInt(g.weeks,10)||0,sessions_per_week:parseInt(g.sessions_per_week,10)||0,active:g.active||!1};try{l?(await iV(l.id,x),e({title:"Éxito",description:"Programa actualizado correctamente."})):(await sV(x),e({title:"Éxito",description:"Programa creado correctamente."})),f(),o(!1),c(null),p()}catch(j){e({variant:"destructive",title:"Error",description:j.message})}},v=g=>{c(g),f(g),o(!0)},b=async g=>{try{await oV(g),e({title:"Éxito",description:"Programa eliminado."}),p()}catch(x){e({variant:"destructive",title:"Error",description:x.message})}},y=()=>{c(null),f({name:"",description:"",level:"beginner",active:!1,cover_url:"",weeks:0,sessions_per_week:0}),o(!0)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(mt,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold tracking-wider",children:"Gestionar Programas"})]}),a.jsxs(z,{onClick:y,children:[a.jsx(Ya,{className:"mr-2 h-4 w-4"})," Crear Programa"]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-xl",children:[a.jsxs("div",{className:"p-4 border-b border-border grid grid-cols-5 font-bold text-muted-foreground",children:[a.jsx("div",{className:"col-span-2",children:"Nombre"}),a.jsx("div",{children:"Nivel"}),a.jsx("div",{children:"Estado"}),a.jsx("div",{className:"text-right",children:"Acciones"})]}),n?a.jsx("p",{className:"p-4 text-center",children:"Cargando programas..."}):t.map(g=>a.jsxs("div",{className:"p-4 border-b border-border grid grid-cols-5 items-center last:border-b-0",children:[a.jsx("div",{className:"col-span-2 font-medium",children:g.name}),a.jsx("div",{className:"capitalize",children:g.level}),a.jsx("div",{children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:g.active?"Activo":"Inactivo"})}),a.jsx("div",{className:"text-right",children:a.jsxs(ap,{children:[a.jsxs(zd,{children:[a.jsx(Wd,{asChild:!0,children:a.jsxs(z,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Abrir menú"}),a.jsx(Hg,{className:"h-4 w-4"})]})}),a.jsxs(Nl,{align:"end",children:[a.jsx(hr,{asChild:!0,children:a.jsxs(Ee,{to:`/admin/programs/${g.id}/sessions`,children:[a.jsx(WF,{className:"mr-2 h-4 w-4"})," Gestionar Sesiones"]})}),a.jsxs(hr,{onClick:()=>v(g),children:[a.jsx(qg,{className:"mr-2 h-4 w-4"})," Editar"]}),a.jsx(lp,{asChild:!0,children:a.jsxs(hr,{className:"text-red-500",children:[a.jsx(xu,{className:"mr-2 h-4 w-4"})," Eliminar"]})})]})]}),a.jsxs(Mu,{children:[a.jsxs(Du,{children:[a.jsx(Lu,{children:"¿Estás seguro?"}),a.jsx(Fu,{children:"Esta acción no se puede deshacer. Esto eliminará permanentemente el programa."})]}),a.jsxs(Iu,{children:[a.jsx(Vu,{children:"Cancelar"}),a.jsx($u,{onClick:()=>b(g.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})]})})]},g.id))]}),a.jsx(En,{open:i,onOpenChange:o,children:a.jsxs(sn,{className:"sm:max-w-[425px]",children:[a.jsx(Nn,{children:a.jsxs(kn,{children:[l?"Editar":"Crear"," Programa"]})}),a.jsxs("form",{onSubmit:d(w),className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(Qe,{htmlFor:"name",children:"Nombre"}),a.jsx(qe,{id:"name",...u("name",{required:"El nombre es obligatorio"})}),h.name&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name.message})]}),a.jsxs("div",{children:[a.jsx(Qe,{htmlFor:"description",children:"Descripción"}),a.jsx(qe,{id:"description",...u("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Qe,{htmlFor:"weeks",children:"Semanas de Duración"}),a.jsx(qe,{id:"weeks",type:"number",...u("weeks"),placeholder:"Ej: 12"})]}),a.jsxs("div",{children:[a.jsx(Qe,{htmlFor:"sessions_per_week",children:"Sesiones por Semana"}),a.jsx(qe,{id:"sessions_per_week",type:"number",...u("sessions_per_week")})]})]}),a.jsxs("div",{children:[a.jsx(Qe,{htmlFor:"level",children:"Nivel"}),a.jsxs("select",{id:"level",...u("level"),className:"w-full flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base",children:[a.jsx("option",{value:"beginner",children:"Principiante"}),a.jsx("option",{value:"intermediate",children:"Intermedio"}),a.jsx("option",{value:"advanced",children:"Avanzado"})]})]}),a.jsxs("div",{children:[a.jsx(Qe,{htmlFor:"cover_url",children:"URL de Portada"}),a.jsx(qe,{id:"cover_url",...u("cover_url")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"active",...u("active"),className:"h-4 w-4"}),a.jsx(Qe,{htmlFor:"active",children:"Activo"})]}),a.jsxs(vs,{children:[a.jsx(Hm,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",children:"Cancelar"})}),a.jsx(z,{type:"submit",children:"Guardar"})]})]})]})})]})},Ws=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ws.displayName="Textarea";var Qd="Collapsible",[d8,b7]=Ht(Qd),[f8,Bv]=d8(Qd),lP=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=nn({prop:n,defaultProp:s??!1,onChange:o,caller:Qd});return a.jsx(f8,{scope:r,disabled:i,contentId:Dr(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:a.jsx(oe.div,{"data-state":Wv(c),"data-disabled":i?"":void 0,...l,ref:t})})});lP.displayName=Qd;var cP="CollapsibleTrigger",uP=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Bv(cP,r);return a.jsx(oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Wv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:X(e.onClick,s.onOpenToggle)})});uP.displayName=cP;var zv="CollapsibleContent",dP=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bv(zv,e.__scopeCollapsible);return a.jsx(gr,{present:r||s.open,children:({present:i})=>a.jsx(h8,{...n,ref:t,present:i})})});dP.displayName=zv;var h8=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=Bv(zv,r),[l,c]=m.useState(n),u=m.useRef(null),d=pe(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),w=p.current,v=o.open||l,b=m.useRef(v),y=m.useRef(void 0);return m.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),tt(()=>{const g=u.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const x=g.getBoundingClientRect();f.current=x.height,p.current=x.width,b.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),c(n)}},[o.open,n]),a.jsx(oe.div,{"data-state":Wv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:v&&s})});function Wv(e){return e?"open":"closed"}var fP=lP,hP=uP,mP=dP;const m8=()=>{const{toast:e}=ot(),[t,r]=m.useState([]),[n,s]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,w]=m.useState(null),v=Ou(),b=Ou(),y=m.useCallback(async()=>{s(!0);try{const O=await gV();r(O)}catch{e({variant:"destructive",title:"Error",description:"No se pudo cargar la biblioteca."})}finally{s(!1)}},[e]);m.useEffect(()=>{y()},[y]);const g=async O=>{try{l?(await yV(l.id,O),e({title:"Éxito",description:"Categoría actualizada."})):(await vV(O),e({title:"Éxito",description:"Categoría creada."})),v.reset(),o(!1),c(null),y()}catch(V){e({variant:"destructive",title:"Error",description:V.message})}},x=O=>{c(O),v.reset(O),o(!0)},j=async O=>{try{await xV(O),e({title:"Éxito",description:"Categoría eliminada."}),y()}catch(V){e({variant:"destructive",title:"Error",description:V.message})}},S=()=>{c(null),v.reset({name:"",description:"",order:t.length+1}),o(!0)},P=async O=>{const V={title:O.title,video_url:O.video_url||null,category_id:p,bullets:(O.bullets||"").split(",").map(I=>I.trim()).filter(Boolean),errors:(O.errors||"").split(",").map(I=>I.trim()).filter(Boolean),task:O.task||null,applicable_task:O.applicable_task||null};try{f?(await bV(f.id,V),e({title:"Éxito",description:"Lección actualizada."})):(await wV(V),e({title:"Éxito",description:"Lección creada."})),b.reset(),d(!1),h(null),y()}catch(I){e({variant:"destructive",title:"Error",description:I.message})}},k=O=>{h(O),w(O.category_id),b.reset({title:O.title||"",video_url:O.video_url||"",bullets:O.bullets?O.bullets.join(", "):"",errors:O.errors?O.errors.join(", "):"",task:O.task||"",applicable_task:O.applicable_task||""}),d(!0)},N=async O=>{try{await jV(O),e({title:"Éxito",description:"Lección eliminada."}),y()}catch(V){e({variant:"destructive",title:"Error",description:V.message})}},F=O=>{h(null),w(O),b.reset({title:"",video_url:"",bullets:"",errors:"",task:"",applicable_task:""}),d(!0)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(No,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold tracking-wider",children:"Gestionar Biblioteca"})]}),a.jsxs(z,{onClick:S,children:[a.jsx(Ya,{className:"w-4 h-4 mr-2"})," Crear Categoría"]})]}),a.jsx("div",{className:"space-y-4",children:n?a.jsx("p",{children:"Cargando..."}):t.map(O=>a.jsxs(fP,{defaultOpen:!0,className:"border bg-card border-border rounded-xl",children:[a.jsxs(hP,{className:"flex items-center justify-between w-full p-4 transition-colors hover:bg-accent",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:O.name}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",O.lessons.length," lecciones)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:V=>{V.stopPropagation(),F(O.id)},children:[a.jsx(Ya,{className:"w-4 h-4 mr-1"})," Lección"]}),a.jsxs(ap,{children:[a.jsxs(zd,{children:[a.jsx(Wd,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"icon",onClick:V=>V.stopPropagation(),children:a.jsx(Hg,{className:"w-4 h-4"})})}),a.jsxs(Nl,{children:[a.jsx(hr,{onClick:V=>{V.stopPropagation(),x(O)},children:"Editar Categoría"}),a.jsx(lp,{asChild:!0,children:a.jsx(hr,{className:"text-red-500",onClick:V=>V.stopPropagation(),children:"Eliminar Categoría"})})]})]}),a.jsxs(Mu,{children:[a.jsxs(Du,{children:[a.jsx(Lu,{children:"¿Seguro?"}),a.jsx(Fu,{children:"Esto eliminará la categoría y todas sus lecciones."})]}),a.jsxs(Iu,{children:[a.jsx(Vu,{children:"Cancelar"}),a.jsx($u,{onClick:()=>j(O.id),className:"bg-destructive hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})]}),a.jsx(mP,{children:a.jsx("div",{className:"p-4 space-y-2 border-t border-border",children:O.lessons.length>0?O.lessons.map(V=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-accent",children:[a.jsx("p",{children:V.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>k(V),children:a.jsx(qg,{className:"w-4 h-4"})}),a.jsxs(ap,{children:[a.jsx(lp,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-500",children:a.jsx(xu,{className:"w-4 h-4"})})}),a.jsxs(Mu,{children:[a.jsxs(Du,{children:[a.jsx(Lu,{children:"¿Seguro?"}),a.jsx(Fu,{children:"Esto eliminará la lección permanentemente."})]}),a.jsxs(Iu,{children:[a.jsx(Vu,{children:"Cancelar"}),a.jsx($u,{onClick:()=>N(V.id),className:"bg-destructive hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})]},V.id)):a.jsx("p",{className:"py-4 text-sm text-center text-muted-foreground",children:"No hay lecciones en esta categoría."})})})]},O.id))}),a.jsx(En,{open:i,onOpenChange:o,children:a.jsxs(sn,{children:[a.jsx(Nn,{children:a.jsxs(kn,{children:[l?"Editar":"Crear"," Categoría"]})}),a.jsxs("form",{onSubmit:v.handleSubmit(g),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Nombre"}),a.jsx(qe,{...v.register("name",{required:!0})})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"Descripción"}),a.jsx(qe,{...v.register("description")})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"Orden"}),a.jsx(qe,{type:"number",...v.register("order",{valueAsNumber:!0})})]}),a.jsxs(vs,{children:[a.jsx(Hm,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",children:"Cancelar"})}),a.jsx(z,{type:"submit",children:"Guardar"})]})]})]})}),a.jsx(En,{open:u,onOpenChange:d,children:a.jsxs(sn,{children:[a.jsx(Nn,{children:a.jsxs(kn,{children:[f?"Editar":"Crear"," Lección"]})}),a.jsxs("form",{onSubmit:b.handleSubmit(P),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Título"}),a.jsx(qe,{...b.register("title",{required:!0})})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"URL del Video"}),a.jsx(qe,{...b.register("video_url")})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"Ideas Clave (separadas por comas)"}),a.jsx(Ws,{...b.register("bullets"),placeholder:"Idea 1, Idea 2, Idea 3"})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"Errores Comunes (separados por comas)"}),a.jsx(Ws,{...b.register("errors"),placeholder:"Error 1, Error 2"})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"Tarea (Descripción)"}),a.jsx(Ws,{...b.register("task"),placeholder:"Describe la tarea o práctica"})]}),a.jsxs("div",{children:[a.jsx(Qe,{children:"Tarea Aplicable Hoy"}),a.jsx(Ws,{...b.register("applicable_task"),placeholder:"Acción concreta para hoy"})]}),a.jsxs(vs,{children:[a.jsx(Hm,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",children:"Cancelar"})}),a.jsx(z,{type:"submit",children:"Guardar"})]})]})]})})]})},p8=({onAuthSuccess:e,initialMode:t="login"})=>{const[r,n]=m.useState(t==="login"),[s,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(!1),{signIn:h,signUp:p,session:w}=On(),{toast:v}=ot(),b=an();m.useEffect(()=>{n(t==="login")},[t]),m.useEffect(()=>{w&&(e&&e(),b("/dashboard"))},[w,e,b]);const y=async g=>{if(g.preventDefault(),!r&&o.length<6){v({title:"Contraseña Débil",description:"La contraseña debe tener al menos 6 caracteres.",variant:"destructive"});return}if(f(!0),r){const{error:x}=await h(s,o);x||v({title:"¡Bienvenido de vuelta!",description:"Has iniciado sesión correctamente."})}else{const{data:x,error:j}=await p(s,o,{data:{display_name:c}});j||(x.session?v({title:`¡Bienvenido, ${c}!`,description:"Tu cuenta ha sido creada."}):(v({title:"Revisa tu email",description:"Hemos enviado un enlace de confirmación a tu correo."}),e&&e()))}f(!1)};return a.jsxs(te.div,{initial:{opacity:0,x:r?-50:50},animate:{opacity:1,x:0},exit:{opacity:0,x:r?50:-50},transition:{duration:.3},className:"w-full max-w-md space-y-0",children:[a.jsxs("div",{className:"space-y-2 text-center",children:[a.jsx("h1",{className:"text-5xl tracking-wider font-logo text-primary",children:"VALKA"}),a.jsx("p",{className:"text-muted-foreground",children:r?"Bienvenido de vuelta":"Crea tu cuenta para empezar"})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[!r&&a.jsxs("div",{className:"space-y-0",children:[a.jsx(Qe,{htmlFor:"displayName",children:"Nombre"}),a.jsx(qe,{id:"displayName",type:"text",placeholder:"Tu nombre",value:c,onChange:g=>u(g.target.value),required:!0,className:"bg-background border-border"})]}),a.jsxs("div",{className:"space-y-0",children:[a.jsx(Qe,{htmlFor:"email",children:"Email"}),a.jsx(qe,{id:"email",type:"email",placeholder:"tu@email.com",value:s,onChange:g=>i(g.target.value),required:!0,className:"bg-background border-border"})]}),a.jsxs("div",{className:"space-y-0",children:[a.jsx(Qe,{htmlFor:"password",children:"Contraseña"}),a.jsx(qe,{id:"password",type:"password",placeholder:"Mínimo 6 caracteres",value:o,onChange:g=>l(g.target.value),required:!0,className:"bg-background border-border"})]}),a.jsx(z,{type:"submit",className:"w-full transition-colors bg-primary text-primary-foreground hover:bg-primary/90",disabled:d,children:d?"Cargando...":r?a.jsxs(a.Fragment,{children:[a.jsx(QF,{className:"w-4 h-4 mr-2"})," Iniciar Sesión"]}):a.jsxs(a.Fragment,{children:[a.jsx(Sd,{className:"w-4 h-4 mr-2"})," Registrarse"]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(z,{variant:"link",onClick:()=>n(!r),className:"text-muted-foreground hover:text-primary",children:r?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]},r?"login":"register")},g8=({navItems:e,adminNavItems:t,profile:r,location:n,handleSignOut:s,isAdminToolsOpen:i,setIsAdminToolsOpen:o})=>{var l,c;return a.jsxs(te.aside,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},className:"hidden lg:flex w-64 bg-card m-4 rounded-xl p-6 flex-col border border-border",children:[a.jsx("div",{className:"flex items-center justify-center mb-12",children:a.jsx(Ee,{to:r?"/dashboard":"/",children:a.jsx("span",{className:"font-logo text-4xl text-primary tracking-wider",children:"VALKA"})})}),a.jsx("nav",{className:"flex-1",children:a.jsxs("ul",{className:"space-y-3",children:[e.map(u=>{const d=u.icon,f=n.pathname===u.path||u.path!=="/"&&n.pathname.startsWith(u.path);return a.jsx("li",{children:a.jsxs(Ee,{to:u.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 text-lg ${f?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{className:"font-sans tracking-wider",children:u.label})]})},u.path)}),(r==null?void 0:r.role)==="admin"&&a.jsxs(fP,{open:i,onOpenChange:o,children:[a.jsx(hP,{className:"w-full",children:a.jsxs("div",{className:`flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-all duration-200 text-lg w-full ${n.pathname.startsWith("/admin")?"bg-accent text-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(k_,{className:"w-5 h-5"}),a.jsx("span",{className:"font-sans tracking-wider",children:"Herramientas"})]}),a.jsx(E_,{className:`w-5 h-5 transition-transform ${i?"rotate-180":""}`})]})}),a.jsx(mP,{asChild:!0,children:a.jsx(te.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"pl-6 mt-2 space-y-2 overflow-hidden",children:t.map(u=>{const d=u.icon,f=n.pathname===u.path;return a.jsx("li",{children:a.jsxs(Ee,{to:u.path,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 text-base ${f?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[a.jsx(d,{className:"w-4 h-4"}),a.jsx("span",{className:"font-sans tracking-wider",children:u.label})]})},u.path)})})})]})]})}),a.jsx("div",{className:"mt-auto pt-6 border-t border-border",children:r?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ee,{to:"/profile",className:"flex items-center gap-3 group",children:[a.jsxs(kr,{children:[a.jsx(Pr,{src:r.photo_url,alt:r.display_name}),a.jsx(Tr,{children:((c=(l=r.display_name)==null?void 0:l.charAt(0))==null?void 0:c.toUpperCase())||"U"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold tracking-wider group-hover:text-primary transition-colors",children:r.display_name}),a.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:r.role||"Alumno"})]})]}),a.jsx("button",{onClick:s,className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(zg,{className:"w-5 h-5"})})]}):a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground text-sm",children:"Únete a la comunidad"})})})]})},v8=({profile:e,handleSignOut:t,adminNavItems:r})=>a.jsxs("header",{className:"lg:hidden sticky top-0 z-40 flex items-center justify-between h-16 px-4 border-b bg-card/80 backdrop-blur-sm",children:[a.jsx(Ee,{to:e?"/dashboard":"/",children:a.jsx("span",{className:"font-logo text-3xl text-primary tracking-wider",children:"VALKA"})}),a.jsxs(zd,{children:[a.jsx(Wd,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"icon",children:a.jsx(ZF,{className:"h-6 w-6"})})}),a.jsxs(Nl,{align:"end",className:"w-56",children:[a.jsx(hr,{asChild:!0,children:a.jsxs(Ee,{to:"/profile",className:"flex items-center",children:[a.jsx(T_,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Perfil"})]})}),(e==null?void 0:e.role)==="admin"&&a.jsxs(a.Fragment,{children:[a.jsx(ip,{}),r.map(n=>a.jsx(hr,{asChild:!0,children:a.jsxs(Ee,{to:n.path,className:"flex items-center",children:[a.jsx(n.icon,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:n.label})]})},n.path))]}),a.jsx(ip,{}),a.jsxs(hr,{onClick:t,className:"text-red-500",children:[a.jsx(zg,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Cerrar Sesión"})]})]})]})]}),y8=({navItems:e,location:t})=>a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 h-16 bg-card/80 backdrop-blur-sm border-t",children:a.jsx("div",{className:"grid h-full max-w-lg grid-cols-4 mx-auto",children:e.map(r=>{const n=r.icon,s=t.pathname===r.path||r.path!=="/"&&t.pathname.startsWith(r.path);return a.jsxs(Ee,{to:r.path,className:`inline-flex flex-col items-center justify-center px-5 group ${s?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[a.jsx(n,{className:"w-6 h-6 mb-1"}),a.jsx("span",{className:"text-xs",children:r.label})]},r.path)})})}),or=({children:e,isPublic:t=!1})=>{const r=So(),n=an(),{signOut:s,session:i,loading:o}=On(),[l,c]=m.useState(null),[u,d]=m.useState(!1),f=m.useCallback(async()=>{if(i)try{const b=await yl();c(b)}catch(b){console.error("Error fetching profile:",b)}else c(null)},[i]);m.useEffect(()=>{o||f()},[o,f,r.pathname]),m.useEffect(()=>{r.pathname.startsWith("/admin")&&d(!0)},[r.pathname]);const h=async()=>{await s(),n("/")},p=[{path:"/dashboard",icon:Bw,label:"Dashboard"},{path:"/programs",icon:mt,label:"Programas"},{path:"/chat",icon:Hw,label:"Chat"},{path:"/library",icon:zw,label:"Biblioteca"},{path:"/profile",icon:T_,label:"Perfil"}],w=[{path:"/admin/programs",icon:mt,label:"Admin Programas"},{path:"/admin/library",icon:No,label:"Admin Biblioteca"},{path:"/admin/registrations",icon:gs,label:"Registros"}],v=!t&&i;return a.jsxs("div",{className:`min-h-screen bg-background text-foreground ${v?"flex flex-col lg:flex-row":"flex flex-col"}`,children:[v&&a.jsx(g8,{navItems:[{path:"/dashboard",icon:Bw,label:"Dashboard"},{path:"/programs",icon:mt,label:"Programas"},{path:"/chat",icon:Hw,label:"Chat"},{path:"/library",icon:zw,label:"Biblioteca"}],adminNavItems:w,profile:l,location:r,handleSignOut:h,isAdminToolsOpen:u,setIsAdminToolsOpen:d}),v&&l&&a.jsx(v8,{profile:l,handleSignOut:h,adminNavItems:w}),a.jsx("main",{className:`flex-1 ${v?"lg:p-4 lg:pr-0 pb-16 lg:pb-0":""}`,children:a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full overflow-y-auto",children:e},r.pathname)}),v&&l&&a.jsx(y8,{navItems:p,location:r})]})},x8="https://wa.me/59894734367",w8=e=>`${x8}?text=${encodeURIComponent(e)}`,b8=({onLoginClick:e,onRegisterClick:t})=>{const r=[{q:"¿Cuánto sale entrenar en VALKA?",a:"Ofrecemos planes escalables según tu nivel y objetivos. Escribinos por WhatsApp para opciones actuales y promos locales."},{q:"¿En cuánto tiempo veo resultados?",a:"En 4–6 semanas mejoras control y fuerza base. Cambios visuales suelen apreciarse entre la semana 8 y 16 con consistencia."},{q:"¿Qué diferencia a VALKA de una rutina genérica?",a:"Nuestro enfoque prioriza progresiones medibles, técnica y prevención de sobreuso. Menos ruido, más avance real."},{q:"¿Cuántos días por semana necesito?",a:"Podés progresar con 3 días. Ideal 4–5 si buscás fuerza + skills. Ajustamos según recuperación y vida personal."},{q:"¿Puedo empezar sin equipo?",a:"Sí. Iniciamos con palancas básicas y patrones fundamentales. Luego sugerimos barra, anillas y banda de resistencia."}],n={"@context":"https://schema.org","@type":"FAQPage",mainEntity:r.map(s=>({"@type":"Question",name:s.q,acceptedAnswer:{"@type":"Answer",text:s.a}}))};return a.jsxs("div",{className:"relative flex flex-col min-h-screen bg-background text-foreground",children:[a.jsx(tn,{children:a.jsx("script",{type:"application/ld+json",children:JSON.stringify(n)})}),a.jsxs("header",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-6",children:[a.jsx("h1",{className:"text-4xl tracking-wider font-logo text-primary",children:"VALKA"}),a.jsx(z,{onClick:e,variant:"outline",className:"transition-colors duration-300 border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Iniciar Sesión"})]}),a.jsx("main",{className:"flex items-center justify-center flex-1 min-h-dvh",children:a.jsxs("div",{className:"relative z-10 p-4 text-center",children:[a.jsx(te.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-6xl tracking-widest font-logo md:text-8xl lg:text-9xl text-foreground",children:"VALKA"}),a.jsx(te.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"max-w-2xl mx-auto mt-4 text-xl text-muted-foreground md:text-2xl",children:"Planes de entrenamiento inteligentes para desbloquear tu verdadero potencial."}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-10",children:[a.jsx(z,{onClick:t,size:"lg",className:"px-12 py-6 text-lg rounded-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Únete ahora"}),a.jsx(Ee,{to:"/chat",className:"ml-3 inline-block","aria-label":"Abrir chat VALKA",children:a.jsx(z,{variant:"outline",size:"lg",className:"px-8 py-6 text-lg rounded-full",children:"Probar el Chat"})}),a.jsx("div",{className:"flex items-center justify-center gap-1 mt-4 text-sm group",children:a.jsxs(Ee,{to:"/calistenia-durazno",className:"inline-flex items-center gap-1 transition-colors border-b border-transparent text-primary group-hover:border-primary",children:["Conocé cómo entrenamos en Durazno",a.jsx(Xf,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})})]})]})}),a.jsx("div",{className:"absolute inset-0 z-0 opacity-10"}),a.jsx("div",{className:"absolute z-0 inset-2 bg-background/50"}),a.jsxs(te.section,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},"aria-labelledby":"filosofia-valka",className:"relative z-10 max-w-6xl px-6 py-10 mx-auto mt-0 mb-20 rounded-3xl sm:px-10 focus-within:ring-2 focus-within:ring-primary/40",children:[a.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none rounded-3xl bg-gradient-to-br from-neutral-900 via-neutral-900/90 to-neutral-800"}),a.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 rounded-3xl ring-1 ring-border/60"}),a.jsxs("div",{className:"relative grid grid-cols-1 gap-10 md:grid-cols-12 md:items-start",children:[a.jsxs("div",{className:"space-y-6 md:col-span-7",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("h2",{id:"filosofia-valka",className:"text-3xl font-bold tracking-tight md:text-4xl text-foreground",children:["La filosofía ",a.jsx("span",{className:"text-primary",children:"VALKA"})]}),a.jsx("p",{className:"text-base leading-relaxed text-muted-foreground max-w-prose",children:"Calistenia inteligente en Durazno: técnica, movilidad y fuerza al servicio de una evolución sostenible. Entrenás con enfoque claro, progresiones medibles y comunidad que sostiene el hábito."})]}),a.jsx("ul",{className:"grid gap-4 sm:grid-cols-2",role:"list","aria-label":"Principios y valores VALKA",children:[{icon:mt,title:"80/20",desc:"Foco en lo esencial que produce la mayor parte del progreso."},{icon:HF,title:"Feynman",desc:"Explicaciones simples para entender y aplicar mejor."},{icon:gs,title:"Comunidad",desc:"La plaza y el grupo sostienen disciplina y motivación."},{icon:N_,title:"Disciplina",desc:"Hacer lo que toca incluso cuando no hay ganas."}].map(s=>{const i=s.icon;return a.jsxs("li",{className:"relative flex gap-4 p-4 transition border group rounded-xl border-border/60 bg-background/20 backdrop-blur-sm hover:border-primary/50 focus-within:ring-2 focus-within:ring-primary/40",children:[a.jsx("div",{className:"flex items-center justify-center rounded-lg w-11 h-11 bg-primary/10 text-primary ring-1 ring-primary/20 shrink-0",children:a.jsx(i,{className:"w-5 h-5","aria-hidden":"true"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-sm font-semibold tracking-wide text-foreground",children:s.title}),a.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:s.desc})]})]},s.title)})}),a.jsx("div",{className:"grid gap-5 sm:grid-cols-2","aria-label":"Información adicional",role:"list",children:[{title:"¿Quiénes entrenan?",lines:["Principiantes: primera dominada y control básico.","Salud y movilidad: menos dolor, más rango útil.","Skills: handstand, front lever, muscle-up limpio."]},{title:"Qué te llevás",lines:["Progresiones guiadas y seguimiento real.","Técnica y seguridad en cada repetición.","Comunidad para sostener consistencia."]}].map(s=>a.jsxs("div",{className:"relative p-5 border rounded-xl border-border/60 bg-background/30 backdrop-blur-sm focus-within:ring-2 focus-within:ring-primary/40",children:[a.jsx("h3",{className:"mb-2 text-sm font-semibold tracking-wide uppercase text-primary",children:s.title}),a.jsx("ul",{className:"pl-4 space-y-1 text-xs list-disc text-muted-foreground",role:"list",children:s.lines.map(i=>a.jsx("li",{children:i},i))})]},s.title))}),a.jsxs("div",{className:"flex flex-wrap items-center gap-5 pt-2",children:[a.jsx(z,{onClick:()=>window.open(w8("Quiero unirme a VALKA"),"_blank","noopener,noreferrer"),"aria-label":"Unirme ahora por WhatsApp",className:"min-w-[11rem]",children:"Unite ahora"}),a.jsxs("a",{href:"#training-how",className:"inline-flex items-center text-sm font-medium rounded text-primary hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50",children:["Ver cómo entrenamos ",a.jsx(Xf,{className:"w-4 h-4 ml-1"})]}),a.jsxs("a",{href:"/calistenia-durazno",className:"inline-flex items-center text-sm font-medium rounded text-muted-foreground hover:text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50",children:["Landing local ",a.jsx(KF,{className:"w-4 h-4 ml-1"})]}),a.jsxs(Ee,{to:"/chat",className:"inline-flex items-center text-sm font-medium rounded text-primary hover:opacity-80 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50",children:["Ir al Chat ",a.jsx(Xf,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("p",{className:"mt-4 text-xs leading-relaxed text-muted-foreground max-w-prose",children:"Entrenamos en Durazno y alrededores (al aire libre y espacios acordados). Escribinos por WhatsApp para horarios y punto de encuentro exacto."})]}),a.jsxs("div",{className:"space-y-5 md:col-span-5",children:[a.jsxs("figure",{className:"relative overflow-hidden border shadow-lg rounded-2xl border-border/60 bg-background/40 backdrop-blur-sm",children:[a.jsx("img",{src:"sobreNosotros.jpeg",alt:"Grupo de entrenamiento de calistenia VALKA en Durazno realizando progresiones",className:"h-[260px] w-full object-cover md:h-[360px]",loading:"lazy"}),a.jsx("figcaption",{className:"sr-only",children:"Atletas de VALKA entrenando progresiones de calistenia en Durazno."})]}),a.jsx("div",{className:"hidden text-xs leading-relaxed md:block text-muted-foreground",children:a.jsxs("p",{children:[a.jsx("strong",{className:"text-foreground",children:"Transparencia:"})," mostramos la realidad del proceso: postura, transiciones y pausas técnicas antes de las habilidades avanzadas."]})})]})]})]}),a.jsxs("section",{className:"max-w-4xl px-6 pb-20 mx-auto space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight md:text-3xl text-primary",children:"Preguntas Frecuentes"}),a.jsx("div",{className:"space-y-4",children:r.map(s=>a.jsxs("div",{className:"p-4 border rounded-lg bg-card/40 border-border/60",children:[a.jsx("h3",{className:"mb-1 text-base font-semibold",children:s.q}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.a})]},s.q))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"¿Tenés otra duda? Escribinos directamente y te respondemos en menos de 24h."})]})]})},j8="https://wa.me/59894734367",Ps=e=>`${j8}?text=${encodeURIComponent(e)}`,S8=()=>{const e=new Date().getFullYear();return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[a.jsxs(tn,{children:[a.jsx("title",{children:"Calistenia en Durazno | VALKA"}),a.jsx("meta",{name:"description",content:"Calistenia en Durazno: fuerza, movilidad y comunidad. Progresiones seguras para todos los niveles. Reservá tu primera sesión."}),a.jsx("link",{rel:"canonical",href:"https://valka-courses.vercel.app/calistenia-durazno"}),a.jsx("script",{type:"application/ld+json",children:`
        {
          "@context": "https://schema.org",
          "@type": "ExerciseGym",
          "name": "VALKA Calistenia Durazno",
          "url": "https://valka-courses.vercel.app/",
          "image": "https://valka-courses.vercel.app/Hero.jpeg",
            "telephone": "+59894734367",
            "address": {
              "@type": "PostalAddress",
              "addressLocality": "Durazno",
              "addressRegion": "Durazno",
              "addressCountry": "UY",
              "streetAddress": "Plaza de Deportes Nº1"
            },
            "areaServed": {"@type":"AdministrativeArea","name":"Durazno y alrededores"},
            "openingHoursSpecification": [{"@type":"OpeningHoursSpecification","dayOfWeek":["Monday","Tuesday","Wednesday","Thursday","Friday"],"opens":"08:00","closes":"21:00"}],
            "sameAs": ["https://www.instagram.com/valka_sw/"],
            "priceRange": "$$",
            "description": "Entrenamiento de calistenia, fuerza y movilidad en Durazno con progresiones seguras y comunidad local."
        }
        `}),a.jsx("script",{type:"application/ld+json",children:`
        {
          "@context": "https://schema.org",
          "@type": "ItemList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "item": {"@type":"Course","name":"Programa Base Calistenia (8 semanas)","description":"Progresiones iniciales de fuerza, movilidad y control corporal en Durazno.","provider":{"@type":"Organization","name":"VALKA"},"hasCourseInstance":{"@type":"CourseInstance","courseMode":"onsite","location":{"@type":"Place","name":"Durazno","address":{"@type":"PostalAddress","addressLocality":"Durazno","addressCountry":"UY"}},"startDate":"[2025-09-15]","endDate":"[2025-11-10]","offers":{"@type":"Offer","priceCurrency":"UYU","price":"[Precio]","availability":"https://schema.org/InStock","url":"https://valka-courses.vercel.app/cursos"}}}
            },
            {"@type":"ListItem","position":2,"item":{"@type":"Course","name":"Dominadas y Tracción Progresiva","description":"Progresiones de dominadas estrictas a movimientos avanzados.","provider":{"@type":"Organization","name":"VALKA"}}},
            {"@type":"ListItem","position":3,"item":{"@type":"Course","name":"Movilidad + Core Control","description":"Trabajo de movilidad activa y estabilidad central aplicado a calistenia.","provider":{"@type":"Organization","name":"VALKA"}}}
          ]
        }
        `}),a.jsx("script",{type:"application/ld+json",children:`
        {
          "@context": "https://schema.org",
          "@type": "FAQPage",
          "mainEntity": [
            {"@type":"Question","name":"¿Necesito fuerza previa para empezar?","acceptedAnswer":{"@type":"Answer","text":"No. Arrancamos con progresiones básicas y asistencia controlada."}},
            {"@type":"Question","name":"¿Hay prueba o clase inicial?","acceptedAnswer":{"@type":"Answer","text":"Sí, primera sesión evaluativa coordinada por WhatsApp."}},
            {"@type":"Question","name":"¿Puedo combinar horarios?","acceptedAnswer":{"@type":"Answer","text":"Sí, según cupos disponibles para sostener tu constancia."}},
            {"@type":"Question","name":"¿Se trabaja movilidad también?","acceptedAnswer":{"@type":"Answer","text":"En cada clase: hombros, cadera, columna y control de core."}},
            {"@type":"Question","name":"¿Edad mínima o máxima?","acceptedAnswer":{"@type":"Answer","text":"Adaptamos desde 14 años y adultos de cualquier edad."}},
            {"@type":"Question","name":"¿Qué llevo a la primera clase?","acceptedAnswer":{"@type":"Answer","text":"Ropa cómoda, agua y ganas de aprender."}},
            {"@type":"Question","name":"¿Cuánto tiempo hasta ver resultados?","acceptedAnswer":{"@type":"Answer","text":"Entre 4 y 8 semanas se observan mejoras claras."}}
          ]
        }
        `})]}),a.jsxs("section",{className:"relative flex flex-col items-center justify-center px-4 pt-8 pb-20 text-center bg-gradient-to-b from-background to-background/40",children:[a.jsxs(te.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl text-3xl font-extrabold leading-tight md:text-6xl",children:["Calistenia en Durazno: ",a.jsx("span",{className:"text-primary",children:"fuerza"}),", movilidad y comunidad"]}),a.jsx(te.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.15},className:"max-w-2xl mt-6 text-lg text-muted-foreground md:text-xl",children:"Control de cuerpo y mente con técnica guiada y progresiones aseguradas."}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col items-center gap-4 mt-10 sm:flex-row",children:[a.jsx(z,{size:"lg",className:"px-10 py-6 text-lg",onClick:()=>window.open(Ps("Hola quiero info sobre calistenia en Durazno"),"_blank"),children:"Entrenar ahora"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Acercamiento para saber cómo empezar."})]})]}),a.jsxs("section",{className:"px-4 py-16 mx-auto max-w-7xl",children:[a.jsx("h2",{className:"mb-8 text-3xl font-bold md:text-4xl",children:"¿Por qué entrenar calistenia con VALKA en Durazno?"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[["Progresiones claras","De cero a tu primera dominada, sin saltos de riesgo."],["Movilidad y flexibilidad primero","Rangos de calidad antes de subir la dificultad."],["Ejecución técnica","Refinamos cada repetición: control > volumen."],["Mentalidad y constancia","Hábitos y foco interno; cada sesión suma al largo plazo."],["Adaptado a tu nivel","Principiantes, intermedios y avanzados."],["Visión a mediano y largo plazo","Fases planificadas para tu evolución como atleta VALKA."],["Entrená en Durazno","Sesiones en [zona/parque] y al aire libre según clima."],["Clase inicial guiada","Evaluación + primeras progresiones; agendá por WhatsApp."],["Muscle-up en 6 semanas","De 0 a muscle-up limpio con técnica y progresiones seguras."]].map(([t,r])=>a.jsxs("div",{className:"p-5 transition border rounded-xl bg-background/60 backdrop-blur-sm border-border hover:border-primary/50",children:[a.jsx("h3",{className:"mb-2 font-semibold text-primary",children:t}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r})]},t))}),a.jsxs("div",{className:"mt-10 space-y-4",children:[a.jsx("blockquote",{className:"p-4 italic border-l-4 rounded bg-muted/30 border-primary",children:"“En 6 semanas logré mi primera dominada estricta.” – [Nombre]"}),a.jsx("blockquote",{className:"p-4 italic border-l-4 rounded bg-muted/30 border-primary",children:"“Me siento más fuerte y con menos dolores de hombro.” – [Nombre]"})]})]}),a.jsxs("section",{"aria-labelledby":"training-how",className:"px-4 py-16 mx-auto border-t max-w-7xl border-border",children:[a.jsx("h2",{id:"training-how",className:"text-3xl font-bold md:text-4xl",children:"Así funciona el entrenamiento"}),a.jsx("ol",{className:"mt-8 space-y-5",children:[{icon:Dm,title:"Calentá & Movilizá",desc:"Calentamiento articular y movilidad activa para preparar el cuerpo."},{icon:Lm,title:"Progresá fuerza con control",desc:"Empuje, tracción y core sin saltos de riesgo; fases adaptadas a tu nivel."},{icon:qw,title:"Pulí la técnica",desc:"Pausas, control escapular, respiración y alineaciones para ejecución limpia."},{icon:mt,title:"Hacé usable la fuerza",desc:"Movilidad funcional (hombros, cadera, columna) para transferir a habilidades."},{icon:Vm,title:"Medí y ajustá",desc:"Hitos: dominada estricta, hollow sólido, handstand estable, muscle-up limpio."}].map(t=>{const r=t.icon;return a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 text-primary shrink-0",children:a.jsx(r,{className:"w-5 h-5","aria-hidden":"true"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-semibold leading-none tracking-wide uppercase text-foreground",children:t.title}),a.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground max-w-prose",children:t.desc})]})]},t.title)})}),a.jsxs("div",{className:"grid gap-6 mt-10 md:grid-cols-3",children:[a.jsxs("div",{className:"p-5 border rounded-lg border-border bg-background/60",children:[a.jsx("h3",{className:"mb-2 font-semibold",children:"Principiantes"}),a.jsxs("ul",{className:"pl-4 space-y-1 text-sm list-disc text-muted-foreground",children:[a.jsx("li",{children:"Plancha inclinada"}),a.jsx("li",{children:"Dominada asistida"}),a.jsx("li",{children:"Hollow body"}),a.jsx("li",{children:"Sentadilla controlada"}),a.jsx("li",{children:"Movilidad activa básica"})]})]}),a.jsxs("div",{className:"p-5 border rounded-lg border-border bg-background/60",children:[a.jsx("h3",{className:"mb-2 font-semibold",children:"Intermedios"}),a.jsxs("ul",{className:"pl-4 space-y-1 text-sm list-disc text-muted-foreground",children:[a.jsx("li",{children:"Fondos"}),a.jsx("li",{children:"Dominadas estrictas"}),a.jsx("li",{children:"Tuck front lever"}),a.jsx("li",{children:"Handstand básico"}),a.jsx("li",{children:"Extensión torácica progresiva"})]})]}),a.jsxs("div",{className:"p-5 border rounded-lg border-border bg-background/60",children:[a.jsx("h3",{className:"mb-2 font-semibold",children:"Avanzados"}),a.jsxs("ul",{className:"pl-4 space-y-1 text-sm list-disc text-muted-foreground",children:[a.jsx("li",{children:"Muscle-up limpio"}),a.jsx("li",{children:"Progresiones de front lever"}),a.jsx("li",{children:"Handstand libre"}),a.jsx("li",{children:"Planche lean progresivo"}),a.jsx("li",{children:"Refinamiento de líneas y timing"})]})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(z,{variant:"outline",onClick:()=>window.open(Ps("Quiero saber mi nivel para empezar"),"_blank","noopener,noreferrer"),"aria-label":"Consultar tu nivel por WhatsApp",children:"Consultar tu nivel"})})]}),a.jsxs("section",{className:"px-4 py-16 mx-auto border-t max-w-7xl border-border","aria-labelledby":"timeline-valka",children:[a.jsx("h2",{id:"timeline-valka",className:"text-3xl font-bold md:text-4xl",children:"Ruta de evolución del atleta VALKA"}),a.jsx("p",{className:"max-w-3xl mt-4 text-muted-foreground",children:"Cada fase tiene objetivos claros. El tiempo estimado varía según constancia, descanso y técnica previa. La mentalidad: construir capacidad sostenible, no buscar atajos."}),a.jsx("ol",{className:"relative mt-10 space-y-10 md:space-y-0 md:grid md:grid-cols-6 md:gap-6 md:before:hidden",children:[{title:"Fundamentos",time:"0–2 meses",points:["Dominada asistida","Hollow sólido 20s","Movilidad básica hombros"],icon:Dm},{title:"Base de fuerza",time:"2–4 meses",points:["Dominada estricta","Flexiones sólidas","Fondos asistidos"],icon:Lm},{title:"Control & Core",time:"4–6 meses",points:["Tuck front lever","Handstand pared 20–30s","Muscle-up asistido"],icon:mt},{title:"Habilidades intermedias",time:"6–9 meses",points:["Muscle-up limpio","Handstand libre asistido","Front lever avanzado"],icon:qw},{title:"Refinamiento",time:"9–12+ meses",points:["Planche lean avanzada","Líneas limpias","Combos controlados"],icon:Vm},{title:"Evolución continua",time:"12m+",points:["Ciclos periodizados","Nuevos hitos personales","Mentoría puntual"],icon:XF}].map((t,r)=>{const n=t.icon;return a.jsxs("li",{className:"relative md:flex md:flex-col",children:[a.jsxs("div",{className:"flex items-start gap-4 md:flex-col md:items-start",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 border rounded-full border-primary/40 bg-background/70 backdrop-blur-sm text-primary shrink-0",children:a.jsx(n,{className:"w-5 h-5","aria-hidden":"true"})}),a.jsxs("div",{className:"mt-0 md:mt-4",children:[a.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-primary",children:t.title}),a.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:t.time}),a.jsx("ul",{className:"mt-3 space-y-1 text-xs list-disc list-inside text-muted-foreground",children:t.points.map(s=>a.jsx("li",{children:s},s))})]})]}),r<5&&a.jsx("span",{className:"hidden md:block absolute top-5 left-[calc(50%+2rem)] right-0 h-px bg-gradient-to-r from-primary/40 via-border to-transparent","aria-hidden":"true"})]},t.title)})}),a.jsx("div",{className:"mt-10",children:a.jsx(z,{onClick:()=>window.open(Ps("Quiero avanzar en la ruta VALKA"),"_blank"),children:"Ver tu punto de partida"})})]}),a.jsxs("section",{className:"px-4 py-16 mx-auto max-w-7xl",children:[a.jsx("h2",{className:"text-3xl font-bold md:text-4xl",children:"Horarios y modalidades"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Grupos reducidos para mantener correcciones de calidad."}),a.jsxs("ul",{className:"mt-6 space-y-2 text-sm list-disc list-inside text-muted-foreground",children:[a.jsx("li",{children:"Lunes a Viernes (bloques mañana): 09:00 | 11:30"}),a.jsx("li",{children:"Tardes: 16:00 a 20:00 (ingreso por bloques)"}),a.jsx("li",{children:"Sesiones 1:1: coordinar horario específico"}),a.jsx("li",{children:"Horario de invierno: [indicar variación si cambia]"})]}),a.jsx("div",{className:"grid gap-6 mt-8 md:grid-cols-2 lg:grid-cols-4",children:[["Grupal presencial","Progreso con energía de equipo, Y compañerismo."],["Rutinas personalizadas","Rutinas pensadas en mejora debilidades, y alcanzar objetivos."],["Mejora constante","Feedback profundo y personalizado."],["Plan guiado + virtual","Seguimiento cuando rotás horarios."]].map(([t,r])=>a.jsxs("div",{className:"p-4 border rounded-lg border-border bg-background/50",children:[a.jsx("p",{className:"font-semibold text-primary",children:t}),a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:r})]},t))}),a.jsx("div",{className:"mt-8",children:a.jsx(z,{onClick:()=>window.open(Ps("Quiero reservar un horario de calistenia"),"_blank"),children:"Reservar horario"})})]}),a.jsxs("section",{className:"px-4 py-16 mx-auto border-t max-w-7xl border-border",children:[a.jsx("h2",{className:"text-3xl font-bold md:text-4xl",children:"Entrenamos en Durazno"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Sesiones presenciales de Deportes Plaza de Deportes N°1, Durazno Uruguay."}),a.jsx("div",{className:"mt-6",children:a.jsxs(z,{variant:"outline",onClick:()=>window.open("https://maps.app.goo.gl/ajsGQBeT1TkqNxPu9"),children:[a.jsx(JF,{})," Ubicación"]})})]}),a.jsxs("section",{className:"px-4 py-16 mx-auto max-w-7xl",children:[a.jsx("h2",{className:"text-3xl font-bold md:text-4xl",children:"Datos de contacto"}),a.jsxs("div",{className:"grid gap-6 mt-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nombre:"})," VALKA Calistenia Durazno"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"WhatsApp:"})," ",a.jsx("a",{className:"text-primary hover:underline",href:Ps("Hola quiero empezar calistenia"),target:"_blank",rel:"noopener noreferrer",children:"+598 94734367"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Ubicación:"})," Durazno, Uruguay"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Horario:"})," Lunes a Viernes 08:00–21:00"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Área de servicio:"})," Durazno y alrededores"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Instagram:"})," ",a.jsx("a",{className:"text-primary hover:underline",href:"https://www.instagram.com/valka_sw/",target:"_blank",rel:"noopener noreferrer",children:"@valka_sw"})]})]}),a.jsxs("div",{className:"p-4 text-sm border rounded-lg bg-muted/20 border-border",children:[a.jsx("p",{className:"mb-2 font-semibold",children:"¿Tenés dudas rápidas?"}),a.jsx("p",{className:"mb-4 text-muted-foreground",children:"Escribinos y coordinamos tu primera sesión evaluativa."}),a.jsx(z,{onClick:()=>window.open(Ps("Quiero coordinar mi primera sesión evaluativa"),"_blank"),children:"Escribir ahora"})]})]})]}),a.jsxs("section",{className:"px-4 py-16 mx-auto border-t max-w-7xl border-border",children:[a.jsx("h2",{className:"text-3xl font-bold md:text-4xl",children:"Preguntas frecuentes"}),a.jsx("div",{className:"mt-8 space-y-6",children:[["¿Necesito fuerza previa para empezar?","No. Arrancamos con progresiones básicas y asistencia controlada."],["¿Hay prueba o clase inicial?","Sí, primera sesión evaluativa (coordinamos por WhatsApp)."],["¿Puedo combinar horarios?","Sí, según cupos. Te ayudamos a mantener constancia."],["¿Se trabaja movilidad también?","En cada clase: hombros, cadera, columna y control de core."],["¿Edad mínima o máxima?","Desde 14 años y adultos de cualquier edad."],["¿Qué llevo a la primera clase?","Ropa cómoda, agua y ganas de aprender."],["¿Cuánto tiempo hasta ver resultados?","Entre 4 y 8 semanas mejoras claras en control y fuerza básica."]].map(([t,r])=>a.jsxs("div",{className:"p-4 border rounded-lg bg-background/60 border-border",children:[a.jsx("h3",{className:"font-medium text-primary",children:t}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:r})]},t))})]}),a.jsxs("section",{className:"px-4 py-24 mx-auto text-center max-w-7xl",children:[a.jsx("h2",{className:"text-4xl font-bold md:text-5xl",children:"Listo para empezar"}),a.jsx("p",{className:"max-w-2xl mx-auto mt-4 text-lg text-muted-foreground",children:"Tu cuerpo puede más de lo que pensás. Empezá hoy con un plan claro."}),a.jsx("div",{className:"mt-10",children:a.jsx(z,{size:"lg",onClick:()=>window.open(Ps("Quiero empezar hoy en VALKA"),"_blank"),children:"Empezar ahora"})})]}),a.jsxs("footer",{className:"py-8 mt-auto text-xs text-center border-t border-border text-muted-foreground",children:["© ",e," VALKA Calistenia Durazno. Todos los derechos reservados."]})]})},Z0=[{q:"¿La calistenia sirve para ganar masa muscular?",a:"Sí. Con progresiones de sobrecarga, volumen adecuado y nutrición consistente puedes generar hipertrofia comparable con pesas en fases iniciales e intermedias."},{q:"¿Necesito equipo para empezar?",a:"Puedes iniciar solo con el peso corporal. Luego añadir barra de dominadas, anillas y bandas acelera progresiones."},{q:"¿Cuánto tiempo toma ver resultados?",a:"En 4–6 semanas mejoras coordinación y control. Cambios visuales notorios ocurren entre 8–16 semanas de consistencia."},{q:"¿Sirve para pérdida de grasa?",a:"Sí. Combina gasto calórico, preserva masa muscular y mejora sensibilidad a la insulina. La alimentación sigue siendo clave."}],eb=()=>{const e={"@context":"https://schema.org","@type":"Article",headline:"Calistenia en Uruguay: Guía Completa para Progresar Inteligentemente",description:"Guía estratégica de calistenia en Uruguay: progresiones, fuerza, planificación, nutrición básica y cómo acelerar avances con VALKA.",author:{"@type":"Organization",name:"VALKA"},publisher:{"@type":"Organization",name:"VALKA"},mainEntityOfPage:"https://entrenaconvalka.com/calistenia-uruguay",image:"https://entrenaconvalka.com/Hero.jpeg"},t={"@context":"https://schema.org","@type":"FAQPage",mainEntity:Z0.map(r=>({"@type":"Question",name:r.q,acceptedAnswer:{"@type":"Answer",text:r.a}}))};return a.jsxs(a.Fragment,{children:[a.jsxs(tn,{children:[a.jsx("title",{children:"Calistenia en Uruguay | Guía Completa VALKA"}),a.jsx("meta",{name:"description",content:"Guía completa de calistenia en Uruguay: progresiones, fuerza, movilidad, planificación inteligente y cómo avanzar más rápido con VALKA."}),a.jsx("link",{rel:"canonical",href:"https://entrenaconvalka.com/calistenia-uruguay"}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(e)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(t)})]}),a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl px-4 py-10 mx-auto prose prose-invert",children:[a.jsx("h1",{className:"mb-4 text-4xl font-extrabold leading-tight",children:"Calistenia en Uruguay: Guía Definitiva"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Entrena con estrategia. Esta guía sintetiza cómo estructurar tu progreso en calistenia usando principios de sobrecarga, periodización ligera y control técnico. Perfecto si quieres fuerza funcional, estética sólida y articulaciones sanas."}),a.jsx("h2",{children:"Por qué la Calistenia Inteligente Importa"}),a.jsx("p",{children:"Hay mucha información suelta. La mayoría avanza unas semanas y se estanca por falta de estructura. La plataforma de VALKA soluciona esto con progresiones adaptativas y registros automáticos de rendimiento."}),a.jsx("h2",{children:"Progresiones Clave"}),a.jsx("ul",{className:"space-y-2 list-none",children:["Dominadas → L-sit Pull Ups → Muscle Up Estricto","Flexiones → Pseudo Planche → Planche Lean → Progresiones de Plancha","Fondos → Korean Dips → Transiciones en Anillas","Core: Hollow / Arch → Toes to Bar → Front Lever Tuck → Front Lever"].map(r=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(er,{className:"w-4 h-4 mt-1 text-primary"})," ",r]},r))}),a.jsx("h2",{children:"Estructura Semanal Recomendada"}),a.jsx("p",{children:"3–5 sesiones según objetivo. Ejemplo 4 días:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Día 1: Tirón + Core anti-extensión"}),a.jsx("li",{children:"Día 2: Empuje + Estabilidad escapular"}),a.jsx("li",{children:"Día 3: Full Body + Tensión isométrica"}),a.jsx("li",{children:"Día 4: Skill + Tirón ligero + Acondicionamiento"})]}),a.jsx("h2",{children:"Principios de Progresión"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Dominio técnico"}),": sube dificultad cuando logras 8–10 reps limpias o 20–30s isométrico."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Registro"}),": anota repeticiones, RIR (repeticiones en reserva) y sensación articular."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Variación inteligente"}),": cambia un vector a la vez (palanca, ROM, tempo, estabilidad)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Fatiga controlada"}),": deja 1–2 RIR la mayor parte del tiempo."]})]}),a.jsx("h2",{children:"Errores Comunes en Uruguay"}),a.jsx("p",{children:"Copiar rutinas de atleta avanzado, sobrecarga excesiva de isométricos y descuidar tirones horizontales. La solución: progresión graduada + balance empuje/tirón."}),a.jsx("h2",{children:"Nutrición Base"}),a.jsx("p",{children:"Superávit ligero para fuerza/masa (5–12%), déficit lento para recomposición. Proteína: 1.6–2.2 g/kg. Prioriza hierro, omega 3 y magnesio si hay déficit dietario."}),a.jsx("h2",{children:"Cómo Acelera VALKA tu Progreso"}),a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{title:"Progresiones Adaptativas",icon:mt,text:"El sistema ajusta estímulo según tu feedback y adherencia."},{title:"Registro Eficiente",icon:Dm,text:"Historial claro de repeticiones, isométricos y volumen."},{title:"Biblioteca Curada",icon:Lm,text:"Guías filtradas sin ruido y enfocadas a ejecución eficiente."}].map(({title:r,icon:n,text:s})=>a.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/10",children:[a.jsx(n,{className:"w-6 h-6 mb-2 text-primary"}),a.jsx("h3",{className:"mb-1 font-semibold",children:r}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s})]},r))}),a.jsx("h2",{children:"FAQs sobre Calistenia"}),a.jsx("div",{className:"space-y-4",children:Z0.map(r=>a.jsxs("div",{className:"p-4 border rounded-md bg-card border-border",children:[a.jsx("h3",{className:"mb-1 text-base font-semibold",children:r.q}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.a})]},r.q))}),a.jsx("h2",{children:"Llamado a la Acción"}),a.jsx("p",{children:"Si querés avanzar sin estancarte, probá un programa dentro de la plataforma y registra tu próxima progresión hoy."})]})]})};var Hv="ToastProvider",[qv,_8,C8]=jl("Toast"),[pP,j7]=Ht("Toast",[C8]),[E8,Jd]=pP(Hv),gP=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hv}\`. Expected non-empty \`string\`.`),a.jsx(qv.Provider,{scope:t,children:a.jsx(E8,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};gP.displayName=Hv;var vP="ToastViewport",N8=["F8"],cp="toast.viewportPause",up="toast.viewportResume",yP=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=N8,label:s="Notifications ({hotkey})",...i}=e,o=Jd(vP,r),l=_8(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=pe(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const b=y=>{var x;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),m.useEffect(()=>{const b=c.current,y=f.current;if(w&&b&&y){const g=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(cp);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(up);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!b.contains(P.relatedTarget)&&x()},S=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",g),b.addEventListener("focusout",j),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:b})=>{const g=l().map(x=>{const j=x.ref.current,S=[j,...V8(j)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const y=g=>{var S,P,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const N=document.activeElement,F=g.shiftKey;if(g.target===b&&F){(S=u.current)==null||S.focus();return}const I=v({tabbingDirection:F?"backwards":"forwards"}),W=I.findIndex($=>$===N);uh(I.slice(W+1))?g.preventDefault():F?(P=u.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,v]),a.jsxs(UV,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(dp,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});uh(b)}}),a.jsx(qv.Slot,{scope:r,children:a.jsx(oe.ol,{tabIndex:-1,...i,ref:h})}),w&&a.jsx(dp,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});uh(b)}})]})});yP.displayName=vP;var xP="ToastFocusProxy",dp=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Jd(xP,r);return a.jsx(Sv,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});dp.displayName=xP;var Pl="Toast",k8="toast.swipeStart",P8="toast.swipeMove",T8="toast.swipeCancel",A8="toast.swipeEnd",wP=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=nn({prop:n,defaultProp:s??!0,onChange:i,caller:Pl});return a.jsx(gr,{present:r||l,children:a.jsx(M8,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:At(e.onPause),onResume:At(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});wP.displayName=Pl;var[R8,O8]=pP(Pl,{onClose(){}}),M8=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,v=Jd(Pl,r),[b,y]=m.useState(null),g=pe(t,$=>y($)),x=m.useRef(null),j=m.useRef(null),S=s||v.duration,P=m.useRef(0),k=m.useRef(S),N=m.useRef(0),{onToastAdd:F,onToastRemove:O}=v,V=At(()=>{var E;(b==null?void 0:b.contains(document.activeElement))&&((E=v.viewport)==null||E.focus()),o()}),I=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(N.current),P.current=new Date().getTime(),N.current=window.setTimeout(V,$))},[V]);m.useEffect(()=>{const $=v.viewport;if($){const E=()=>{I(k.current),u==null||u()},_=()=>{const R=new Date().getTime()-P.current;k.current=k.current-R,window.clearTimeout(N.current),c==null||c()};return $.addEventListener(cp,_),$.addEventListener(up,E),()=>{$.removeEventListener(cp,_),$.removeEventListener(up,E)}}},[v.viewport,S,c,u,I]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&I(S)},[i,S,v.isClosePausedRef,I]),m.useEffect(()=>(F(),()=>O()),[F,O]);const W=m.useMemo(()=>b?NP(b):null,[b]);return v.viewport?a.jsxs(a.Fragment,{children:[W&&a.jsx(D8,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:W}),a.jsx(R8,{scope:r,onClose:V,children:di.createPortal(a.jsx(qv.ItemSlot,{scope:r,children:a.jsx(VV,{asChild:!0,onEscapeKeyDown:X(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||V(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(oe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:X(e.onPointerDown,$=>{$.button===0&&(x.current={x:$.clientX,y:$.clientY})}),onPointerMove:X(e.onPointerMove,$=>{if(!x.current)return;const E=$.clientX-x.current.x,_=$.clientY-x.current.y,R=!!j.current,C=["left","right"].includes(v.swipeDirection),A=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,D=C?A(0,E):0,H=C?0:A(0,_),ne=$.pointerType==="touch"?10:2,q={x:D,y:H},ee={originalEvent:$,delta:q};R?(j.current=q,gc(P8,f,ee,{discrete:!1})):tb(q,v.swipeDirection,ne)?(j.current=q,gc(k8,d,ee,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(E)>ne||Math.abs(_)>ne)&&(x.current=null)}),onPointerUp:X(e.onPointerUp,$=>{const E=j.current,_=$.target;if(_.hasPointerCapture($.pointerId)&&_.releasePointerCapture($.pointerId),j.current=null,x.current=null,E){const R=$.currentTarget,C={originalEvent:$,delta:E};tb(E,v.swipeDirection,v.swipeThreshold)?gc(A8,p,C,{discrete:!0}):gc(T8,h,C,{discrete:!0}),R.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),D8=e=>{const{__scopeToast:t,children:r,...n}=e,s=Jd(Pl,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return F8(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(wl,{asChild:!0,children:a.jsx(Sv,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},I8="ToastTitle",bP=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(oe.div,{...n,ref:t})});bP.displayName=I8;var L8="ToastDescription",jP=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(oe.div,{...n,ref:t})});jP.displayName=L8;var SP="ToastAction",_P=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(EP,{altText:r,asChild:!0,children:a.jsx(Gv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${SP}\`. Expected non-empty \`string\`.`),null)});_P.displayName=SP;var CP="ToastClose",Gv=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=O8(CP,r);return a.jsx(EP,{asChild:!0,children:a.jsx(oe.button,{type:"button",...n,ref:t,onClick:X(e.onClick,s.onClose)})})});Gv.displayName=CP;var EP=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function NP(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),$8(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...NP(n))}}),t}function gc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ev(s,i):s.dispatchEvent(i)}var tb=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function F8(e=()=>{}){const t=At(e);tt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function $8(e){return e.nodeType===e.ELEMENT_NODE}function V8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var U8=gP,kP=yP,PP=wP,TP=bP,AP=jP,RP=_P,OP=Gv;const B8=U8,MP=Z.forwardRef(({className:e,...t},r)=>a.jsx(kP,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));MP.displayName=kP.displayName;const z8=Yg("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DP=Z.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(PP,{ref:n,className:de(z8({variant:t}),e),...r}));DP.displayName=PP.displayName;const W8=Z.forwardRef(({className:e,...t},r)=>a.jsx(RP,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));W8.displayName=RP.displayName;const IP=Z.forwardRef(({className:e,...t},r)=>a.jsx(OP,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Xa,{className:"h-4 w-4"})}));IP.displayName=OP.displayName;const LP=Z.forwardRef(({className:e,...t},r)=>a.jsx(TP,{ref:r,className:de("text-sm font-semibold",e),...t}));LP.displayName=TP.displayName;const FP=Z.forwardRef(({className:e,...t},r)=>a.jsx(AP,{ref:r,className:de("text-sm opacity-90",e),...t}));FP.displayName=AP.displayName;function H8(){const{toasts:e}=ot();return a.jsxs(B8,{children:[e.map(({id:t,title:r,description:n,action:s,...i})=>a.jsxs(DP,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(LP,{children:r}),n&&a.jsx(FP,{children:n})]}),s,a.jsx(IP,{})]},t)),a.jsx(MP,{})]})}const q8=e=>{if(!e)return;const t=String(e).toLowerCase().replace(/[,\.]/g," ").trim();let r=0;const n=t.match(/(\d+)\s*m(in|inutos)?/),s=t.match(/(\d+)\s*s(ec|eg|egundos)?/);return n&&(r+=parseInt(n[1],10)*60),s&&(r+=parseInt(s[1],10)),!n&&!s&&/^\d+$/.test(t)&&(r=parseInt(t,10)),r||void 0},G8=e=>{if(!e||!String(e).trim())return[];const t=String(e).replace(/\r/g,"").split(`
`),r=[];for(const n of t){if(!n||!n.trim())continue;let o=(b=>b.includes("	")?b.split("	"):b.split(/\s{2,}/))(n).map(b=>b.trim());if(o.filter(Boolean).length<=1){const b=n.match(/(\d+\s*m(?:in(?:utos)?)?(?:\s*\d+\s*s(?:eg|egundos)?)?|\d+\s*s(?:eg|egundos)?)(\s*)$/i);let y=n,g="";b&&(g=b[1].trim(),y=n.slice(0,b.index).trim());const x=y.match(/^(.+?)\s+(\d+)\s+(.*)$/);if(x){const j=x[1].trim(),S=x[2].trim(),P=x[3].trim(),k=P.split(/\s{2,}/).map(O=>O.trim()).filter(Boolean),N=k[0]||P,F=k[1]||"";o=[j,S,N,F,g].filter((O,V)=>O!==""||V<3)}}const l=o[0]||"";if(/^d[ií]a\s*\d+/i.test(l)||/^d[ií]a\s*/i.test(l)){r.push({type:"title",text:l});continue}if(/objetivo/i.test(n)){const b=n.replace(/.*objetivo[:\s]*/i,"").trim();r.push({type:"objective",text:b});continue}if(/^(calentamiento|bloque principal|trabajo principal|ejercicios complementarios)/i.test(l)){r.push({type:"section",title:l.toUpperCase()});continue}if(o.some(b=>/^series$/i.test(b))&&o.some(b=>/^repeticiones$/i.test(b)))continue;const u=o[0]||"",d=o[1]||"",f=o[2]||"";let h="",p="";o.length>=5?(h=o[3]||"",p=o[4]||""):o.length===4&&(h="",p=o[3]||"");const w=d?Number(d.replace(",",".")):void 0,v=q8(p);r.push({type:"exercise",name:u,series:Number.isFinite(w)?w:null,repeticiones:f,carga:h,descanso:p,sets:Number.isFinite(w)?w:void 0,reps:f||void 0,load:h||void 0,rest_sec:v})}return r},K8=()=>{const{id:e}=od(),t=an(),{toast:r}=ot(),[n,s]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState({}),[f,h]=m.useState(null),[p,w]=m.useState(""),[v,b]=m.useState(""),[y,g]=m.useState([]),x=m.useCallback(async()=>{o(!0);try{const R=await aV(e);s(R)}catch{r({variant:"destructive",title:"Error",description:"No se pudo cargar el programa."}),t("/admin/programs")}finally{o(!1)}},[e,t,r]);m.useEffect(()=>{x()},[x]);const j=R=>{c(R.id),d({title:R.title,video_url:R.video_url||"",objective:R.objective||"",exercises:JSON.stringify(R.exercises||[],null,2)});try{const C=Array.isArray(R.exercises)?R.exercises:[];g(C)}catch{g([])}b("")},S=()=>{c(null),d({}),b(""),g([])},P=async()=>{var R;if(l)try{const C=JSON.parse(u.exercises),A={title:u.title,video_url:u.video_url,objective:((R=u.objective)==null?void 0:R.trim())||null,exercises:C};await lV(l,A),r({title:"Éxito",description:"Sesión actualizada correctamente."}),S(),x()}catch(C){r({variant:"destructive",title:"Error al guardar",description:C.message||"No se pudo actualizar la sesión. Revisa el formato JSON de los ejercicios."})}},k=R=>{const{name:C,value:A}=R.target;d(D=>({...D,[C]:A}))},N=R=>{b(R);try{const C=G8(R);g(C),d(A=>({...A,exercises:JSON.stringify(C,null,2)}))}catch{}},F=async R=>{const C=n.weeks;s(A=>({...A,weeks:R}));try{await mV(n.id,R.map(A=>A.id)),r({title:"Orden de semanas guardado"})}catch(A){s(D=>({...D,weeks:C})),r({variant:"destructive",title:"Error reordenando semanas",description:A.message})}},O=async(R,C)=>{const A=n.weeks;s(D=>({...D,weeks:D.weeks.map(H=>H.id===C?{...H,sessions:R}:H)}));try{await pV(C,R.map(D=>D.id)),r({title:"Orden de sesiones guardado"})}catch(D){s(H=>({...H,weeks:A})),r({variant:"destructive",title:"Error reordenando sesiones",description:D.message})}},V=async()=>{try{const R=await q_(n.id);s(C=>({...C,weeks:[...C.weeks,{...R,sessions:[]}]})),r({title:"Semana creada"})}catch(R){r({variant:"destructive",title:"Error",description:R.message})}},I=async R=>{if(window.confirm("¿Eliminar esta semana y todas sus sesiones?"))try{await uV(R),s(C=>({...C,weeks:C.weeks.filter(A=>A.id!==R)})),r({title:"Semana eliminada"})}catch(C){r({variant:"destructive",title:"Error",description:C.message})}},W=async R=>{try{await fV(R),await x(),r({title:"Semana duplicada"})}catch(C){r({variant:"destructive",title:"Error",description:C.message})}},$=async R=>{try{const C=await Zg(R,{title:"Nueva Sesión"});s(A=>({...A,weeks:A.weeks.map(D=>D.id===R?{...D,sessions:[...D.sessions,C]}:D)})),r({title:"Sesión creada"})}catch(C){r({variant:"destructive",title:"Error",description:C.message})}},E=async(R,C)=>{if(window.confirm("¿Eliminar esta sesión?"))try{await dV(R),s(A=>({...A,weeks:A.weeks.map(D=>D.id===C?{...D,sessions:D.sessions.filter(H=>H.id!==R)}:D)})),r({title:"Sesión eliminada"})}catch(A){r({variant:"destructive",title:"Error",description:A.message})}},_=async(R,C)=>{try{const A=await hV(R);s(D=>({...D,weeks:D.weeks.map(H=>H.id===C?{...H,sessions:[...H.sessions,A]}:H)})),r({title:"Sesión duplicada"})}catch(A){r({variant:"destructive",title:"Error",description:A.message})}};return i?a.jsx("div",{className:"p-6 text-center",children:"Cargando sesiones del programa..."}):n?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(z,{variant:"outline",size:"icon",onClick:()=>t("/admin/programs"),children:a.jsx(fo,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-wider",children:n.name}),a.jsx("p",{className:"text-muted-foreground",children:"Gestionar Semanas y Sesiones"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(z,{size:"sm",onClick:V,children:[a.jsx(Ya,{className:"w-4 h-4 mr-2"})," Añadir Semana"]})}),a.jsx(oc.Group,{axis:"y",values:n.weeks,onReorder:F,className:"space-y-6",children:n.weeks.map(R=>a.jsxs(oc.Item,{value:R,className:"overflow-hidden border rounded-lg bg-card border-border",children:[a.jsxs("div",{className:"flex flex-col gap-2 p-4 border-b bg-muted/50 border-border",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center min-w-0 gap-2",children:[a.jsx(Uw,{className:"w-5 h-5 text-muted-foreground cursor-grab shrink-0"}),f===R.id?a.jsxs("div",{className:"flex items-center w-full gap-2",children:[a.jsx(qe,{autoFocus:!0,value:p,onChange:C=>w(C.target.value),className:"h-8 text-base font-semibold"}),a.jsx(z,{size:"sm",variant:"secondary",onClick:async()=>{try{if(!p.trim()){r({variant:"destructive",title:"Etiqueta vacía",description:"Ingresa un nombre para la semana."});return}const C=await cV(R.id,{label:p.trim()});s(A=>({...A,weeks:A.weeks.map(D=>D.id===R.id?{...D,label:C.label}:D)})),r({title:"Semana actualizada"}),h(null),w("")}catch(C){r({variant:"destructive",title:"Error",description:C.message||"No se pudo actualizar la semana."})}},children:a.jsx($m,{className:"w-4 h-4"})}),a.jsx(z,{size:"sm",variant:"ghost",onClick:()=>{h(null),w("")},children:a.jsx(Xa,{className:"w-4 h-4"})})]}):a.jsx("button",{type:"button",onClick:()=>{h(R.id),w(R.label||"")},className:"text-xl font-semibold text-left truncate hover:underline",children:R.label})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>$(R.id),children:[a.jsx(Ya,{className:"w-4 h-4 mr-2"})," Sesión"]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>W(R.id),children:[a.jsx(Vw,{className:"w-4 h-4 mr-2"})," Duplicar"]}),a.jsx(z,{size:"sm",variant:"destructive",onClick:()=>I(R.id),children:a.jsx(xu,{className:"w-4 h-4"})})]})]}),f===R.id&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pulsa Guardar para actualizar el nombre de la semana."})]}),a.jsx(oc.Group,{axis:"y",values:R.sessions,onReorder:C=>O(C,R.id),className:"p-4 space-y-3",children:R.sessions.map(C=>a.jsx(oc.Item,{value:C,children:a.jsx(Ug,{children:l===C.id?a.jsxs(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 space-y-4 border rounded-md bg-background border-primary",children:[a.jsx(qe,{name:"title",value:u.title,onChange:k,className:"text-lg font-semibold"}),a.jsx(qe,{name:"video_url",placeholder:"URL del video (opcional)",value:u.video_url,onChange:k}),a.jsx(qe,{name:"objective",placeholder:"Objetivo de la sesión (ej: Mejorar técnica de sentadilla)",value:u.objective,onChange:k}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ws,{placeholder:"Pega aquí la tabla desde Excel o Google Sheets",value:v,onChange:A=>N(A.target.value),rows:6}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pega la tabla con columnas: Ejercicio | Series | Repeticiones | Carga | Descanso. Se convertirá automáticamente a JSON y podrás previsualizarla abajo."}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:'También puedes añadir una línea que contenga la palabra "Objetivo:" para capturarla automáticamente.'}),y&&y.length>0&&a.jsx("div",{className:"p-3 border rounded-md border-border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border",children:[a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Ejercicio"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Series"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Repeticiones"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Carga"}),a.jsx("th",{className:"py-2 font-medium text-muted-foreground",children:"Descanso"})]})}),a.jsx("tbody",{children:y.map((A,D)=>A.type==="section"?a.jsx("tr",{className:"bg-muted/40",children:a.jsx("td",{className:"py-2 font-semibold",colSpan:5,children:A.title})},D):A.type==="objective"?a.jsx("tr",{className:"bg-muted/20",children:a.jsxs("td",{className:"py-2",colSpan:5,children:["🎯 OBJETIVO: ",A.text]})},D):A.type==="title"?null:a.jsxs("tr",{className:"border-b border-border last:border-b-0",children:[a.jsx("td",{className:"py-2 font-medium",children:A.name}),a.jsx("td",{className:"py-2",children:A.series??""}),a.jsx("td",{className:"py-2",children:A.repeticiones??""}),a.jsx("td",{className:"py-2",children:A.carga??""}),a.jsx("td",{className:"py-2",children:A.descanso??""})]},D))})]})})})]}),a.jsx(Ws,{name:"exercises",placeholder:"Ejercicios en formato JSON (se autocompleta al pegar la tabla)",value:u.exercises,onChange:k,rows:10,className:"font-mono text-xs"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs(z,{variant:"ghost",size:"sm",onClick:S,children:[a.jsx(Xa,{className:"w-4 h-4 mr-2"})," Cancelar"]}),a.jsxs(z,{size:"sm",onClick:P,children:[a.jsx($m,{className:"w-4 h-4 mr-2"})," Guardar"]})]})]}):a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 border rounded-md border-border bg-background",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Uw,{className:"w-5 h-5 text-muted-foreground cursor-grab"}),a.jsxs("p",{className:"font-medium",children:[C.session_order,": ",C.title]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>_(C.id,R.id),children:a.jsx(Vw,{className:"w-4 h-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>E(C.id,R.id),children:a.jsx(xu,{className:"w-4 h-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>j(C),children:a.jsx(qg,{className:"w-4 h-4"})})]})]})})},C.id))})]},R.id))})]}):a.jsx("div",{className:"p-6 text-center",children:"No se encontró el programa."})},Ni=te.div,rb={hidden:{opacity:0,y:10},visible:{opacity:1,y:0},exit:{opacity:0,y:-10}},nb={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},sb={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},Y8=()=>{const{toast:e}=ot(),[t,r]=m.useState([]),[n,s]=m.useState([]),[i,o]=m.useState({enrollments:!0,progress:!0}),[l,c]=m.useState("enrollments"),u=m.useCallback(async()=>{o(p=>({...p,enrollments:!0}));try{const p=await SV();r(p)}catch{e({variant:"destructive",title:"Error",description:"No se pudieron cargar las inscripciones."})}finally{o(p=>({...p,enrollments:!1}))}},[e]),d=m.useCallback(async()=>{o(p=>({...p,progress:!0}));try{const p=await _V();s(p)}catch{e({variant:"destructive",title:"Error",description:"No se pudo cargar el progreso de las sesiones."})}finally{o(p=>({...p,progress:!1}))}},[e]);m.useEffect(()=>{u(),d()},[u,d]);const f=()=>i.enrollments?a.jsx("div",{className:"text-center p-8",children:"Cargando inscripciones..."}):t.length===0?a.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No hay inscripciones a programas."}):a.jsx(Ni,{variants:nb,initial:"hidden",animate:"visible",className:"space-y-3",children:t.map(p=>{var w,v,b,y,g,x;return a.jsxs(Ni,{variants:sb,className:"bg-card p-4 rounded-lg border border-border flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(kr,{children:[a.jsx(Pr,{src:(w=p.profiles)==null?void 0:w.photo_url,alt:(v=p.profiles)==null?void 0:v.display_name}),a.jsx(Tr,{children:(y=(b=p.profiles)==null?void 0:b.display_name)==null?void 0:y[0].toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:(g=p.profiles)==null?void 0:g.display_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inscrito en ",a.jsx("span",{className:"font-medium text-primary",children:(x=p.program)==null?void 0:x.name})]})]})]}),p.started_at&&_r(mc(p.started_at))&&a.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:Gn(mc(p.started_at),"dd MMM, yyyy",{locale:Kn})})]},p.id)})}),h=()=>i.progress?a.jsx("div",{className:"text-center p-8",children:"Cargando progreso..."}):n.length===0?a.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No hay registros de progreso."}):a.jsx(Ni,{variants:nb,initial:"hidden",animate:"visible",className:"space-y-3",children:n.map(p=>{var w,v,b,y,g,x,j,S,P;return a.jsxs(Ni,{variants:sb,className:"bg-card p-4 rounded-lg border border-border space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(kr,{children:[a.jsx(Pr,{src:(w=p.profiles)==null?void 0:w.photo_url,alt:(v=p.profiles)==null?void 0:v.display_name}),a.jsx(Tr,{children:(y=(b=p.profiles)==null?void 0:b.display_name)==null?void 0:y[0].toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:(g=p.profiles)==null?void 0:g.display_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Completó: ",a.jsx("span",{className:"font-medium text-primary",children:(x=p.session)==null?void 0:x.title})," de ",((P=(S=(j=p.session)==null?void 0:j.week)==null?void 0:S.program)==null?void 0:P.name)||"un programa"]})]})]}),p.completed_at&&_r(mc(p.completed_at))&&a.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:Gn(mc(p.completed_at),"dd MMM, yyyy - HH:mm",{locale:Kn})})]}),(p.notes||p.real_rpe)&&a.jsxs("div",{className:"border-t border-border pt-3 space-y-2 text-sm",children:[p.real_rpe&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"RPE:"})," ",p.real_rpe]}),p.notes&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Notas:"})," ",a.jsx("span",{className:"text-muted-foreground",children:p.notes})]})]})]},p.id)})});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(gs,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold tracking-wider",children:"Registros de Actividad"})]}),a.jsxs(Iv,{value:l,onValueChange:c,className:"w-full",children:[a.jsxs(Kd,{children:[a.jsx(Ar,{value:"enrollments",children:"Inscripciones a Programas"}),a.jsx(Ar,{value:"progress",children:"Sesiones Completadas"})]}),a.jsxs(Ug,{mode:"wait",children:[a.jsx(Rr,{value:"enrollments",asChild:!0,children:a.jsx(Ni,{variants:rb,initial:"hidden",animate:"visible",exit:"exit",className:"mt-4",children:f()},"enrollments")}),a.jsx(Rr,{value:"progress",asChild:!0,children:a.jsx(Ni,{variants:rb,initial:"hidden",animate:"visible",exit:"exit",className:"mt-4",children:h()},"progress")})]})]})]})},ib={}.VITE_FLOWISE_BASE_URL||"https://cloud.flowiseai.com",ob={}.VITE_FLOWISE_CHATFLOW_ID||"e7d9faeb-a60d-41aa-a12c-1028daba491a",Uu={}.VITE_FLOWISE_API_KEY||"QCeH1c7cuYu1vKHdtvsWsHEdH7kvpMjZIIw9Iqb4YmE";var cb;const Bu=((cb={}.VITE_USE_PROXY)==null?void 0:cb.toLowerCase())==="true";function X8(){if(Bu)return"/api/chat/flowise";const e=VITE_FLOWISE_URL||"https://cloud.flowiseai.com",t=VITE_FLOWISE_CHATFLOW_ID||"e7d9faeb-a60d-41aa-a12c-1028daba491a";return`${e.replace(/\/$/,"")}/api/v1/chatflows/${t}`}async function Q8({message:e,history:t=[]}){const r=X8(),n={"Content-Type":"application/json"};!Bu&&Uu&&(n.Authorization=`Bearer ${Uu}`);const s=JSON.stringify({question:e,history:t}),i=await fetch(r,{method:"POST",headers:n,body:s});if(!i.ok){const c=await i.text().catch(()=>"");throw new Error(c||`Flowise HTTP ${i.status}`)}return(i.headers.get("content-type")||"").includes("application/json")?i.json():{text:await i.text()}}async function J8({message:e,history:t=[],onToken:r,signal:n}){let s;if(Bu)s="/api/chat/flowise?stream=1";else{if(!ib||!ob)throw new Error("Faltan FLOWISE_BASE_URL o FLOWISE_CHATFLOW_ID en el entorno");s=`${ib.replace(/\/$/,"")}/api/v1/prediction/${ob}`}const i={"Content-Type":"application/json",Accept:"text/event-stream","Cache-Control":"no-cache"};!Bu&&Uu&&(i.Authorization=`Bearer ${Uu}`);const o=JSON.stringify({question:e,history:t,streaming:!0}),l=await fetch(s,{method:"POST",headers:i,body:o,signal:n});if(!l.ok||!l.body){const f=await l.text().catch(()=>"");throw new Error(f||`Flowise stream HTTP ${l.status}`)}const c=l.body.getReader(),u=new TextDecoder;let d="";try{for(;;){const{done:f,value:h}=await c.read();if(f)break;d+=u.decode(h,{stream:!0});const p=d.split(`
`);d=p.pop()||"";for(const w of p){const v=w.trim();if(v){if(v.startsWith("message:data:"))try{const b=v.slice(13),y=JSON.parse(b);y.event==="token"&&y.data&&typeof y.data=="string"&&r(y.data)}catch{if(v.startsWith("data: "))try{const y=v.slice(6),g=JSON.parse(y);g.event==="token"&&g.data&&typeof g.data=="string"&&r(g.data)}catch{const g=v.slice(6);g.length>0&&r(g)}}else if(v.startsWith("data: ")){if(v==="data: [DONE]")continue;try{const b=v.slice(6),y=JSON.parse(b);if(y.event==="token"&&y.data&&typeof y.data=="string")r(y.data);else{const g=y.token||y.chunk||y.content||y.text||y;typeof g=="string"&&g.length>0&&r(g)}}catch{const y=v.slice(6);y.length>0&&r(y)}}}}}}finally{c.releaseLock()}}function Z8(){const[e,t]=Z.useState([]),[r,n]=Z.useState(""),[s,i]=Z.useState(!1),[o,l]=Z.useState(null),c=Z.useRef(null),u=Z.useRef(null),d=Z.useMemo(()=>["Cómo empezar dominadas","Rutina 3 días: fuerza + movilidad","Progresión para primera bandera","Plan para flexiones a pino"],[]),f=!0;Z.useEffect(()=>{var w;(w=c.current)==null||w.scrollIntoView({behavior:"smooth"})},[e.length]);async function h(w){var y;const v=(w??r).trim();if(!v||s)return;const b={role:"user",content:v};t(g=>[...g,b]),w||n(""),i(!0),l(null);try{if(f){(y=u.current)==null||y.abort();const g=new AbortController;u.current=g,t(j=>[...j,{role:"assistant",content:""}]);let x="";await J8({message:v,history:[...e,b],signal:g.signal,onToken:j=>{x+=j,t(S=>{const P=[...S],k=P.length-1;return k>=0&&P[k].role==="assistant"&&(P[k]={role:"assistant",content:x}),P})}})}}catch(g){try{const x=await Q8({message:v,history:[...e,b]}),j=(x==null?void 0:x.text)??(x==null?void 0:x.answer)??(x==null?void 0:x.message)??(typeof x=="string"?x:JSON.stringify(x));t(S=>{const P=S.length-1;if(P>=0&&S[P].role==="assistant"&&S[P].content===""){const k=[...S];return k[P]={role:"assistant",content:j||"..."},k}return[...S,{role:"assistant",content:j||"..."}]})}catch(x){l((x==null?void 0:x.message)||(g==null?void 0:g.message)||"Error contactando a Flowise")}}finally{i(!1)}}function p(w){w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),h())}return Z.useEffect(()=>()=>{var w;(w=u.current)==null||w.abort()},[]),a.jsxs("div",{className:"relative h-full w-full bg-gradient-to-br from-[#0b0f1a] via-[#0d1117] to-[#111827] rounded-2xl border border-white/10 shadow-2xl flex flex-col overflow-hidden backdrop-blur-sm",role:"region","aria-label":"Chat con asistente de Valka",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 sm:px-4 sm:py-4 lg:px-6 lg:py-5 space-y-4 bg-transparent","aria-live":"polite",children:[e.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("div",{className:"text-lg sm:text-xl text-white/90 mb-6 font-medium",children:"Empezá una conversación o elegí un tema:"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-4 max-w-2xl",children:d.map(w=>a.jsx("button",{type:"button",onClick:()=>h(w),disabled:s,className:"whitespace-nowrap rounded-full border border-white/15 bg-gradient-to-r from-[#1a1f36] to-[#1e2347] px-4 py-2.5 sm:px-5 sm:py-3 text-sm sm:text-base text-slate-200 hover:bg-gradient-to-r hover:from-[#1e2347] hover:to-[#252b4a] hover:scale-[1.02] hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60 disabled:opacity-50 transition-all duration-200","aria-label":`Usar prompt: ${w}`,children:w},w))})]}),e.map((w,v)=>{var y;return w.role==="assistant"&&!((y=w.content)!=null&&y.trim())?a.jsx("div",{className:"flex justify-start mb-4",children:a.jsx("div",{className:"max-w-[75%] sm:max-w-[70%] bg-[#1a1a1a] rounded-2xl rounded-bl-md px-4 py-3 shadow-lg border border-white/5",children:a.jsxs("div",{className:"flex items-start gap-3 text-slate-200 animate-pulse",children:[a.jsx(dh,{}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium tracking-tight text-white/90",children:"Interpretando la pregunta…"}),a.jsx("ul",{className:"list-disc list-inside text-xs sm:text-sm text-white/60 mt-1",children:a.jsx("li",{children:"Generando respuesta"})})]})]})})},v):a.jsx("div",{className:`flex mb-4 ${w.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[75%] sm:max-w-[70%] px-4 py-3 shadow-lg transition-all duration-200 ${w.role==="user"?"bg-[#2a2a2a] text-white rounded-2xl rounded-br-md border border-white/10 hover:bg-[#333333]":"bg-[#1a1a1a] text-slate-100 rounded-2xl rounded-bl-md border border-white/5 hover:bg-[#1f1f1f]"}`,children:a.jsx(e7,{content:w.content})})},v)}),a.jsx("div",{ref:c})]}),s&&a.jsx("div",{className:"pointer-events-none absolute bottom-4 right-4 opacity-80",children:a.jsx(dh,{small:!0})}),a.jsxs("div",{className:"border-t border-white/15 bg-gradient-to-b from-transparent via-black/30 to-black/60 backdrop-blur-md px-3 py-3 sm:px-4 sm:py-4 lg:px-6",children:[o&&a.jsx("div",{className:"mb-3 rounded-xl bg-red-500/20 border border-red-500/30 text-red-200 text-sm sm:text-base px-3 py-2.5 sm:px-4 sm:py-3 animate-in slide-in-from-bottom-2 duration-300",children:o}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("textarea",{value:r,onChange:w=>n(w.target.value),onKeyDown:p,placeholder:"Escribí tu pregunta…",className:"flex-1 min-h-[52px] max-h-[120px] sm:min-h-[56px] sm:max-h-[140px] resize-none overflow-y-auto rounded-2xl bg-gradient-to-br from-[#0a0f18] to-[#0d1117] text-white placeholder:text-gray-300 border border-white/15 px-4 py-3 sm:px-5 sm:py-4 text-sm sm:text-base leading-relaxed focus:outline-none focus:ring-2 focus:ring-amber-500/60 focus:border-amber-400/30 transition-all duration-200 hover:border-white/25"}),a.jsx("button",{onClick:()=>h(),disabled:s||!r.trim(),className:"inline-flex h-[52px] min-w-[90px] sm:h-[56px] sm:min-w-[110px] items-center justify-center rounded-2xl bg-gradient-to-r from-amber-500 to-amber-600 px-5 sm:px-7 text-sm sm:text-base font-semibold text-gray-900 transition-all duration-300 hover:scale-[1.05] hover:shadow-xl hover:from-amber-400 hover:to-amber-500 active:scale-[0.98] focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60 disabled:opacity-50 disabled:hover:scale-100 disabled:cursor-not-allowed",children:s?a.jsxs("div",{className:"flex items-center gap-2 animate-pulse",children:[a.jsx(dh,{small:!0}),a.jsx("span",{className:"hidden sm:inline",children:"Enviando…"})]}):"Enviar"})]})]})]})}function e7({content:e}){return a.jsx("div",{className:"prose prose-invert prose-sm sm:prose-base max-w-none leading-relaxed",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:e.replace(/\n/g,"<br/>")}})})}function dh({small:e=!1}){const t=e?"w-4 h-4":"w-5 h-5 sm:w-6 sm:h-6";return a.jsxs("svg",{className:`animate-spin ${t} text-amber-400/90`,viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",role:"progressbar",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),a.jsx("path",{className:"opacity-90",d:"M12 2a10 10 0 0 1 10 10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}const ab=()=>a.jsxs(a.Fragment,{children:[a.jsxs(tn,{children:[a.jsx("title",{children:"Chat Valka"}),a.jsx("meta",{name:"robots",content:"noindex, nofollow"}),a.jsx("meta",{name:"description",content:"Asistente de Valka para dudas rápidas sobre calistenia."})]}),a.jsxs("section",{className:"relative flex flex-col min-h-screen valka-animated-bg",style:{background:"linear-gradient(135deg, #0a0a0a 0%, #111111 50%, #0f0f0f 100%)"},children:[a.jsx("header",{className:"sticky top-0 z-20 border-b border-white/10 bg-black/50 backdrop-blur-xl",children:a.jsxs("div",{className:"flex items-center justify-between w-full max-w-7xl px-3 py-2.5 mx-auto sm:px-4 md:px-6 lg:py-3",children:[a.jsx(Ee,{to:"/",className:"text-xl tracking-wider text-white transition-colors sm:text-2xl font-logo hover:text-amber-400",children:"VALKA"}),a.jsxs("nav",{className:"flex items-center gap-2 text-xs sm:gap-3 sm:text-sm",children:[a.jsx(Ee,{to:"/programs",className:"rounded-lg px-2 py-1 sm:px-3 sm:py-1.5 text-white/80 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20 transition-all duration-200",children:"Programas"}),a.jsx("a",{href:"/politica-privacidad",className:"rounded-lg px-2 py-1 sm:px-3 sm:py-1.5 text-white/80 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20 transition-all duration-200",children:"Privacidad"})]})]})}),a.jsx("div",{className:"flex-shrink-0 w-full mx-auto max-w-7xl",children:a.jsxs("div",{className:"px-3 pt-3 pb-2 text-xs leading-relaxed sm:px-4 md:px-6 sm:text-sm text-white/60",children:['Este chat sanitiza datos personales automáticamente. Podés usar la opción "No publicar mi pregunta" en tu primer mensaje.',a.jsx("a",{href:"/politica-privacidad",className:"ml-2 underline transition-colors text-amber-400 hover:text-amber-300",children:"Política de Privacidad"})]})}),a.jsx("div",{className:"flex items-center justify-center flex-1 px-3 py-4 sm:px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-5xl h-[80vh]",children:a.jsx(Z8,{})})})]})]}),lb=()=>a.jsxs(or,{isPublic:!0,children:[a.jsxs(tn,{children:[a.jsx("title",{children:"Política de Privacidad | VALKA"}),a.jsx("meta",{name:"description",content:"Política de privacidad de VALKA sobre uso del chat, anonimización y tratamiento de datos."})]}),a.jsxs("div",{className:"max-w-3xl px-6 py-10 mx-auto",children:[a.jsx("h1",{className:"mb-4 text-3xl font-bold",children:"Política de Privacidad"}),a.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Última actualización: Septiembre 2025"}),a.jsxs("div",{className:"space-y-4 text-sm leading-relaxed text-foreground/90",children:[a.jsx("p",{children:"Este sitio utiliza un asistente conversacional para proveer orientación general sobre calistenia. No almacenamos identificadores personales directos."}),a.jsxs("ul",{className:"pl-5 list-disc",children:[a.jsx("li",{children:"Sanitización automática de mensajes: se remueven nombres, emails, teléfonos y direcciones cuando corresponda."}),a.jsx("li",{children:"Dirección IP: se transforma a un hash no reversible sólo para fines de seguridad y métricas agregadas."}),a.jsxs("li",{children:["Opt-out: podés indicar ",a.jsx("strong",{children:'"No publicar mi pregunta"'})," en el chat y respetaremos tu preferencia."]}),a.jsx("li",{children:"Publicación de Q&A: sólo se publican preguntas y respuestas útiles, anónimas y sin datos sensibles."}),a.jsx("li",{children:"Consejos de salud: el contenido es informativo y no reemplaza asesoramiento profesional individual."})]}),a.jsx("p",{children:"Si tenés consultas sobre privacidad, escribinos y responderemos a la brevedad."})]})]})]}),t7=()=>{const{session:e,loading:t}=On(),[r,n]=m.useState(!1),[s,i]=m.useState("login"),[o,l]=m.useState(null);m.useEffect(()=>{e?yl().then(l):l(null)},[e]);const c=h=>{i(h),n(!0),document.body.style.overflow="hidden"},u=()=>{n(!1),document.body.style.overflow=""};if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:a.jsx(te.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-auto border-4 rounded-full border-t-transparent border-primary"})});const d=()=>a.jsxs(a.Fragment,{children:[a.jsxs(dx,{children:[a.jsx(Ne,{path:"/",element:a.jsx(b8,{onLoginClick:()=>c("login"),onRegisterClick:()=>c("register")})}),a.jsx(Ne,{path:"/politica-privacidad",element:a.jsx(or,{isPublic:!0,children:a.jsx(lb,{})})}),a.jsx(Ne,{path:"/chat",element:a.jsx(or,{isPublic:!0,children:a.jsx(ab,{})})}),a.jsx(Ne,{path:"/calistenia-durazno",element:a.jsx(or,{isPublic:!0,children:a.jsx(S8,{})})}),a.jsx(Ne,{path:"/calistenia-uruguay",element:a.jsx(or,{isPublic:!0,children:a.jsx(eb,{})})}),a.jsx(Ne,{path:"*",element:a.jsx(Yl,{to:"/",replace:!0})}),a.jsx(Ne,{path:"/programs",element:a.jsx(or,{isPublic:!0,children:a.jsx(T0,{})})}),a.jsx(Ne,{path:"/programs/:idSlug",element:a.jsx(or,{isPublic:!0,children:a.jsx(A0,{onEnrollClick:()=>c("register")})})}),a.jsx(Ne,{path:"/library",element:a.jsx(or,{isPublic:!0,children:a.jsx(R0,{})})}),a.jsx(Ne,{path:"/library/:idSlug",element:a.jsx(or,{isPublic:!0,children:a.jsx(O0,{})})}),a.jsx(Ne,{path:"*",element:a.jsx(Yl,{to:"/",replace:!0})})]}),a.jsx(En,{open:r,onOpenChange:h=>!h&&u(),children:a.jsx(sn,{className:"fixed max-w-xs max-h-full p-0 force-center top-1/2 left-1/2",children:a.jsx(p8,{initialMode:s,onAuthSuccess:u})})})]}),f=()=>a.jsx(or,{children:a.jsxs(dx,{children:[a.jsx(Ne,{path:"/",element:a.jsx(Yl,{to:"/dashboard",replace:!0})}),a.jsx(Ne,{path:"/politica-privacidad",element:a.jsx(or,{isPublic:!0,children:a.jsx(lb,{})})}),a.jsx(Ne,{path:"/chat",element:a.jsx(or,{isPublic:!0,children:a.jsx(ab,{})})}),a.jsx(Ne,{path:"/dashboard",element:a.jsx(u6,{})}),a.jsx(Ne,{path:"/programs",element:a.jsx(T0,{})}),a.jsx(Ne,{path:"/programs/:idSlug",element:a.jsx(A0,{})}),a.jsx(Ne,{path:"/library",element:a.jsx(R0,{})}),a.jsx(Ne,{path:"/library/:idSlug",element:a.jsx(O0,{})}),a.jsx(Ne,{path:"/calistenia-uruguay",element:a.jsx(eb,{})}),a.jsx(Ne,{path:"/profile",element:a.jsx(SH,{})}),a.jsx(Ne,{path:"/profile/:id",element:a.jsx(_H,{})}),a.jsx(Ne,{path:"/profile/edit",element:a.jsx(YH,{})}),(o==null?void 0:o.role)==="admin"&&a.jsxs(a.Fragment,{children:[a.jsx(Ne,{path:"/admin",element:a.jsx(XH,{})}),a.jsx(Ne,{path:"/admin/programs",element:a.jsx(u8,{})}),a.jsx(Ne,{path:"/admin/programs/:id/sessions",element:a.jsx(K8,{})}),a.jsx(Ne,{path:"/admin/library",element:a.jsx(m8,{})}),a.jsx(Ne,{path:"/admin/registrations",element:a.jsx(Y8,{})})]}),a.jsx(Ne,{path:"*",element:a.jsx(Yl,{to:"/dashboard",replace:!0})})]})});return a.jsxs(a.Fragment,{children:[a.jsxs(tn,{children:[a.jsx("title",{children:"VALKA - Entrenamiento Inteligente"}),a.jsx("meta",{name:"description",content:"Plataforma de entrenamiento personalizado con programas adaptativos y seguimiento de progreso en tiempo real."}),a.jsx("meta",{property:"og:title",content:"VALKA - Entrenamiento Inteligente"}),a.jsx("meta",{property:"og:description",content:"Plataforma de entrenamiento personalizado con programas adaptativos y seguimiento de progreso en tiempo real."}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),a.jsx(uR,{children:a.jsx(Ug,{mode:"wait",children:e?a.jsx(f,{}):a.jsx(d,{})})}),a.jsx(H8,{})]})};fh.createRoot(document.getElementById("root")).render(a.jsx(Z.StrictMode,{children:a.jsx(fD,{children:a.jsx(t7,{})})}));export{BP as g};
